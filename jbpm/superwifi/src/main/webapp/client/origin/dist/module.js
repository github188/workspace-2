//From origin\module\userwidget\userwidget.html
define("originmoduleuserwidgetuserwidgethtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22fn-clear%22%3E%3Cdiv%20class%3D%22thumb-wrapper%20fn-left%22%3E%3Cimg%20class%3D%22user-avatar%22%20ms-src%3D%22%7B%7BuserAvatar%7D%7D%22%20ms-alt%3D%22%7B%7BuserName%7D%7D%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22user-info%20fn-left%22%3E%3Ch3%20class%3D%22user-name%22%3E%7B%7BuserName%7D%7D%EF%BC%8C%E6%82%A8%E5%A5%BD%3C%2Fh3%3E%3Cdiv%20class%3D%22user-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22modify-pwd-btn%22%20ms-click%3D%22clickModifyInfo%22%3E%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%3C%2Fbutton%3E%26nbsp%3B%20%3Cbutton%20type%3D%22button%22%20ms-click%3D%22logOut%22%20class%3D%22logout-btn%22%3E%E9%80%80%26nbsp%3B%E5%87%BA%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22modify-user-pwd-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24dialogOpts%22%3E%3Cform%20action%3D%22javascript%3A%3B%22%20ms-widget%3D%22form%2C%24%2C%24formOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%97%A7%E5%AF%86%E7%A0%81%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22password%22%20name%3D%22oldPassword%22%20class%3D%22input-text%20old-pwd%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%96%B0%E5%AF%86%E7%A0%81%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22password%22%20class%3D%22input-text%20new-pwd%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E7%A1%AE%E8%AE%A4%E5%AF%86%E7%A0%81%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22password%22%20name%3D%22newPassword%22%20class%3D%22input-text%20confirm-pwd%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin\module\userwidget\userwidget.css
define("originmoduleuserwidgetuserwidgetcss", [], function () {return decodeURIComponent(".module-userwidget%20%7B%0A%20%20%20%20%2F*height%3A%20120px%3B*%2F%0A%20%20%20%20%2F*width%3A%20100%25%3B*%2F%0A%20%20%20%20background%3A%20%235f8ab8%3B%0A%20%20%20%20padding%3A%2020px%2012px%3B%0A%7D%0A.module-userwidget%20.user-avatar%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20border-radius%3A%2040px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20box-shadow%3A%200px%200px%202px%20%23aaaaaa%3B%0A%7D%0A.module-userwidget%20.user-info%20%7B%0A%20%20%20%20margin-left%3A%2010px%3B%0A%20%20%20%20width%3A%20114px%3B%0A%7D%0A.module-userwidget%20.user-name%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20margin-bottom%3A%2012px%3B%0A%7D%0A.module-userwidget%20.user-action%20button%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20*display%3A%20inline%3B%0A%20%20%20%20*zoom%3A%201%3B%0A%20%20%20%20padding%3A%200%204px%3B%0A%20%20%20%20background%3A%20%237daada%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20line-height%3A%20normal%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20overflow%3Avisible%3B%20%2F*%20ie6%2F7%E4%B8%8B%20padding%E5%80%BC%E4%BC%9A%E5%8F%98%E5%A4%A7%EF%BC%8C%E4%B8%8D%E6%98%8E%E5%8E%9F%E3%80%82%E5%8F%82%E8%80%83http%3A%2F%2Fblog.csdn.net%2Fjyy_12%2Farticle%2Fdetails%2F6636099%20*%2F%0A%20%20%20%20font-family%3A%20%5C65B0%5C5B8B%5C4F53%2C%20%5C5b8b%5C4f53%3B%0A%7D%0A.modify-user-pwd-dialog%20.ff-label%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%7D%0A.modify-user-pwd-dialog%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.modify-user-pwd-dialog%20.input-text%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin\module\userwidget\userwidget.js
define("originmoduleuserwidgetuserwidgetjs",["avalon","util","originmoduleuserwidgetuserwidgethtml","originmoduleuserwidgetuserwidgetcss","common","dialog","originwidgetformformjs"],function(e,t,n,a){var r=this,i=r.erp,o=$("#module-style");0===o.length&&(o=$('<style id="module-style"></style>'),o.appendTo("head"));try{o.html(o.html()+t.adjustModuleCssUrl(a,"userwidget/"))}catch(s){o[0].styleSheet.cssText+=t.adjustModuleCssUrl(a,"userwidget/")}var l=i.module.userwidget=function(a,r,o){var s=(r.userwidgetOptions,$(a)),l="module-userwidget-dialog",c="module-userwidget-form",u=i.getAppData("user"),d=e.define(r.userwidgetId,function(r){r.widgetElement=a,r.userName=u.userName,r.userAvatar=u.userImage||i.ASSET_PATH+"image/user-avatar-default.png",r.$dialogOpts={dialogId:l,title:"修改密码",getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),n='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+n},onClose:function(){var t=e.getVm(c);t.reset()},submit:function(){var n,a=e.getVm(l),r=e.getVm(c);r.validate()&&(n=r.getFormData(),t.c2s({url:i.BASE_PATH+"login/changePWD.do",type:"post",data:n,success:function(e){1==e.flag&&(t.alert({iconType:"success",content:e.message}),a.close())}}))}},r.$formOpts={formId:c,field:[{selector:".old-pwd",rule:["noempty",function(e,t){return t[0]!==!0?"原密码不能为空":!0}]},{selector:".new-pwd",rule:["noempty",function(e,t){return t[0]!==!0?"新密码不能为空":!0}]},{selector:".confirm-pwd",rule:["noempty",function(e,t){return t[0]!==!0?"确认密码不能为空":!0},function(e,t,n){return _.isString(t[1])?t[1]:e!==_.str.trim($(".new-pwd",n).val())?"确认密码不一致":!0}]}]},r.openPwd=function(){e.getVm(l).open()},r.clickModifyInfo=function(){t.jumpPage("#/profile/edit/"+u.id)},r.logOut=function(){t.c2s({url:i.BASE_PATH+"login/removeSessionUser.do",success:function(e){e.flag}})},r.$init=function(){s.addClass("module-userwidget"),s.html(n),e.scan(a,[d].concat(o))},r.$remove=function(){$(e.getVm(c).widgetElement).remove(),$(e.getVm(l).widgetElement).remove()},r.$skipArray=["widgetElement"]});return d};return l.version=1,l.defaults={},e});

//From origin\module\addproduct\addproduct.html
define("originmoduleaddproductaddproducthtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22addproduct-index%22%3E%3Cdiv%20class%3D%22addproduct-main%22%3E%3Cbutton%20class%3D%22prev%20iconfont%22%20ms-click%3D%22prev%22%3E%26%23xe624%3B%3C%2Fbutton%3E%3Cdiv%20class%3D%22content%22%3E%3Cdiv%20class%3D%22addproduct-outer%22%3E%3Cdiv%20ms-repeat%3D%22list%22%20class%3D%22item%22%3E%3Ch2%3E%7B%7Bel.title%7D%7D%3C%2Fh2%3E%3Cdiv%20class%3D%22middle%22%3E%7B%7Bel.content%7Chtml%7D%7D%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cbutton%20class%3D%22next%20iconfont%22%20ms-click%3D%22next%22%3E%26%23xe625%3B%3C%2Fbutton%3E%20%3Cbutton%20class%3D%22close%20iconfont%22%20ms-click%3D%22close%22%3E%26%23xe616%3B%3C%2Fbutton%3E%20%3Cbutton%20class%3D%22button%20main-btn%20iconfont%22%20ms-click%3D%22close%22%3E%E6%88%91%E7%9F%A5%E9%81%93%E4%BA%86%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\addproduct\addproduct.css
define("originmoduleaddproductaddproductcss", [], function () {return decodeURIComponent(".addproduct-index%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%7D%0A.addproduct-index%20.addproduct-main%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20background%3A%20rgba(0%2C0%2C0%2C0.6)%3B%0A%7D%0A.addproduct-index%20.prev%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20200px%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20margin-top%3A-100px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2060px%3B%0A%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20background%3A%20none%3B%0A%7D%0A%0A.addproduct-index%20.next%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20200px%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20margin-top%3A-100px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2060px%3B%0A%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20background%3A%20none%3B%0A%7D%0A.addproduct-index%20.next%3Ahover%2C%0A.addproduct-index%20.prev%3Ahover%0A%7B%0A%20%20%20%20color%3A%20%23777%3B%0A%20%20%20%20background%3A%20%23333%3B%0A%20%20%20%20opacity%3A%200.6%3B%0A%7D%0A.addproduct-index%20.ban%20%7B%0A%20%20%20%20background%3A%20%23777%3B%0A%7D%0A.addproduct-index%20.close%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%2060px%3B%0A%20%20%20%20height%3A%2060px%3B%0A%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2035px%3B%0A%20%20%20%20background%3A%20none%3B%0A%20%20%20%20border%3A%20none%3B%0A%7D%0A.addproduct-index%20.button%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%20110px%3B%0A%20%20%20%20bottom%3A%2030px%3B%0A%20%20%20%20left%3A%2050%25%3B%0A%20%20%20%20margin-left%3A%20-55px%3B%0A%7D%0A.addproduct-index%20.content%20%7B%0A%20%20%20%20width%3A%20700px%3B%0A%20%20%20%20margin%3A%2030px%20auto%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A%0A.addproduct-index%20.content%20h2%20%7B%0A%20%20%20%20height%3A%2050px%3B%0A%20%20%20%20line-height%3A%2050px%3B%0A%20%20%20%20font-size%3A%2022px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20background%3A%20%23eee%3B%0A%7D%0A.addproduct-index%20.addproduct-outer%20%7B%0A%20%20%20%20width%3A%201000000px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%7D%0A.addproduct-index%20.item%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20width%3A%20700px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20min-height%3A%20500px%3B%0A%7D%0A.addproduct-index%20.middle%20%7B%0A%20%20%20%20width%3A%20660px%3B%0A%20%20%20%20padding%3A%200%2020px%3B%0A%7D");});

//From origin\module\addproduct\addproduct.js
define("originmoduleaddproductaddproductjs",["avalon","util","json","originmoduleaddproductaddproducthtml","originmoduleaddproductaddproductcss"],function(e,t,n,a,i){var o=this,r=o.erp,s=$("#module-style");0===s.length&&(s=$('<style id="module-style"></style>'),s.appendTo("head"));try{s.html(s.html()+t.adjustModuleCssUrl(i,"addproduct/"))}catch(l){s[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"addproduct/")}var c=r.module.addproduct=function(i,o,s){var l=(o.addproductOptions,$(i)),c=r.getAppData("user"),d=e.define(o.addproductId,function(o){o.widgetElement=i,o.list=[];var u,p,f;t.c2s({url:r.BASE_PATH+"sysProductOperation/listSysProductOperations.do",type:"post",contentType:"application/json",data:n.stringify({inputPromotionPlatform:"2",userId:c.id}),success:function(e){var t;if(1==e.flag){for(var n=0;n<e.data.length;n++)try{e.data[n].content=decodeURIComponent(e.data[n].content)}catch(a){e.data[n].content=e.data[n].content}t=e.data,t.length&&(d.list=t,$(l).show(),d.autoScroll())}}}),o.close=function(){t.c2s({url:r.BASE_PATH+"sysUserRequirement/saveSysUserRequirement.do",type:"post",contentType:"application/json",data:n.stringify({promotionPlatform:"2",userId:c.id,userName:c.userName,tel:c.tel,position:c.position}),success:function(e){e.flag&&$(l).hide()}})},o.autoScroll=function(){p=0,u=$(".item",$(l)).length,f=4e3,0==p&&$(".prev",$(l)).hide(),p==u-1&&$(".next",$(l)).hide()},o.displayButton=function(){0==p?$(".prev",$(l)).hide():$(".prev",$(l)).show(),p>=u-1?$(".next",$(l)).hide():$(".next",$(l)).show()},o.next=function(){u-1>p&&(p++,$(".addproduct-outer").animate({left:-700*p}),o.displayButton())},o.prev=function(){p>0&&(p--,$(".addproduct-outer").animate({left:-700*p}),o.displayButton())},o.$init=function(){l.addClass("module-addproduct").hide(),l.html(a),e.scan(i,[d].concat(s))},o.$remove=function(){},o.$skipArray=["widgetElement"]});return d};return c.version=1,c.defaults={},e});

//From origin\module\address\address.html
define("originmoduleaddressaddresshtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-address%22%20ms-widget%3D%22dialog%2C%24%2C%24addressOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24addressFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22research-con%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%95%86%E6%88%B7%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%7B%7Bdata.merchantName%7D%7D%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%A7%93%E5%90%8D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.name%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E5%A7%93%E5%90%8D%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%80%A7%E5%88%AB%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Clabel%20class%3D%22label-check-radio%22%3E%3Cinput%20name%3D%22sex%22%20ms-checked%3D%22data.genderType%3D%3D1%22%20ms-click%3D%22setGenderType%22%20value%3D%221%22%20type%3D%22radio%22%3E%20%E7%94%B7%3C%2Flabel%3E%3Clabel%20class%3D%22label-check-radio%22%3E%3Cinput%20name%3D%22sex%22%20ms-checked%3D%22data.genderType%3D%3D0%22%20ms-click%3D%22setGenderType%22%20value%3D%220%22%20type%3D%22radio%22%3E%20%E5%A5%B3%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E7%94%9F%E6%97%A5%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20birthday%22%20name%3D%22birthday%22%20readonly%3D%22readonly%22%20ms-value%3D%22data.birthday%22%20ms-click%3D%22openDateCalendar%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E7%94%9F%E6%97%A5%EF%BC%81%22%20isrule%3D%22true%2F%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%81%8C%E4%BD%8D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.position%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E8%81%8C%E4%BD%8D%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%A7%92%E8%89%B2%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20ms-visible%3D%22!readonly%22%20class%3D%22survey-select%22%20ms-widget%3D%22select%2C%24%2C%24addressroleSelectOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20ms-visible%3D%22readonly%22%20class%3D%22input-text%20readroleId%22%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22roleId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E8%A7%92%E8%89%B2%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%89%8B%E6%9C%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.mobilePhone%22%20data-rules%3D%22empty%26mobile%22%20data-tips%3D%22%E6%89%8B%E6%9C%BA%E5%8F%B7%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%26%E8%AF%B7%E8%BE%93%E5%85%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%89%8B%E6%9C%BA%E5%8F%B7%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E%3C%2Fspan%3E%E5%BA%A7%E6%9C%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.telephone%22%20data-rules%3D%22tel%22%20data-tips%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%BA%A7%E6%9C%BA%E5%8F%B7%EF%BC%81%22%20isempty%3D%22true%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%82%AE%E7%AE%B1%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.mail%22%20data-rules%3D%22empty%26mail%22%20data-tips%3D%22%E9%82%AE%E7%AE%B1%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%26%E8%AF%B7%E8%BE%93%E5%85%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E9%82%AE%E7%AE%B1%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin\module\address\address.css
define("originmoduleaddressaddresscss", [], function () {return decodeURIComponent("%0A.module-address%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-address%20.f-body%20%7B%0A%20%20%20%20max-height%3A%20400px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%7D%0A.module-address%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%20%20%20%20padding%3A%205px%200%205px%205px%3B%0A%20%20%20%20min-height%3A%2035px%3B%0A%7D%0A.module-address%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-address%20.address-input%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A.module-address%20label.label-check-radio%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20width%3A%2060px%3B%0A%7D%0A");});

//From origin\module\address\address.js
define("originmoduleaddressaddressjs",["avalon","util","json","moment","originmoduleaddressaddresshtml","originmoduleaddressaddresscss","common","dialog","originwidgetformformjs","originwidgetformselectjs"],function(e,t,n,a,o,i){var r=this,s=r.erp,l=$("#module-style");0===l.length&&(l=$('<style id="module-style"></style>'),l.appendTo("head"));var d=l.data("module")||{};if(!d.address){try{l.html(l.html()+t.adjustModuleCssUrl(i,"address/"))}catch(c){l[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"address/")}d.address=!0,l.data("module",d)}var u=s.module.address=function(i,r,l){var d=r.addressOptions,c=$(i),u=r.addressId+"-dialog",p=r.addressId+"-form",f=r.addressId+"-birthday",m=r.addressId+"-role",g=e.define(r.addressId,function(r){e.mix(r,d),r.readonly=0,r.requestData={},r.data={merchantName:"",moduleType:"",merchantId:"",name:"",genderType:1,birthday:"",position:"",mobilePhone:"",telephone:"",roleType:"",mail:""},r.$addressOpts={dialogId:u,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),n='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">保&nbsp;存</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">关&nbsp;闭</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+n},onOpen:function(){},onClose:function(){var n=e.getVm(p),a=e.getVm(u);t.testCancel($(a.widgetElement)[0]),$(".roleId").val("first"),r.data.birthday="",r.data.merchantName="",r.data.moduleType="",r.data.name="",r.data.genderType="",r.data.position="",r.data.mobilePhone="",r.data.telephone="",r.data.roleType="",r.data.mail="",n.reset()},submit:function(){var a,o=e.getVm(u);a=t.testing($(o.widgetElement)[0]),a&&(r.data.moduleType=r.moduleType,t.c2s({url:s.BASE_PATH+"contact/saveMktContact.do",type:"post",contentType:"application/json",data:n.stringify(r.data.$model),success:function(e){1==e.flag&&(o.close(),r.callFn())}}))}},r.$addressFormOpts={formId:p},r.setGenderType=function(){var e=this.value;r.data.genderType=+e},r.$addressroleSelectOpts={selectId:m,options:[],selectedIndex:0,onSelect:function(n){var a=$(".roleId").val();if(r.data.roleType=n,"first"==a)$(".roleId").val(n);else{$(".roleId").val(n);var o=e.getVm(u);t.testing($(o.widgetElement)[0],$(".roleId"))}}},r.$startDateOpts={calendarId:f,onClickDate:function(e){r.data.birthday=a(e).format("YYYY-MM-DD"),$(this.widgetElement).hide()}},r.openDateCalendar=function(){var n,o=(e.getVm(p),$(this)),i=e.getVm(f),s=o.offset();i?n=$(i.widgetElement):(n=$('<div ms-widget="calendar,$,$startDateOpts"></div>'),n.css({position:"absolute","z-index":1e4}).hide().appendTo("body"),e.scan(n[0],[r]),i=e.getVm(f),t.regGlobalMdExcept({element:n,handler:function(){n.hide()}})),i.focusDate=r.data.birthday?a(r.data.birthday,"YYYY-MM-DD")._d:new Date,n.css({top:s.top+o.outerHeight()-1,left:s.left}).show()},r.open=function(){t.c2s({url:s.BASE_PATH+"contact/loadMktContact.do",type:"post",contentType:"application/json",data:n.stringify(r.requestData.$model),success:function(t){var n,o;t.flag&&(n=t.data,o=r.data,o.merchantName=n.merchantName,o.moduleType=n.moduleType,o.merchantId=n.merchantId,o.name=n.name,o.genderType=n.genderType?n.genderType:1,o.birthday=n.birthday?a(n.birthday).format("YYYY-MM-DD"):a(new Date).format("YYYY-MM-DD"),o.position=n.position,o.mobilePhone=n.mobilePhone,o.telephone=n.telephone,o.mail=n.mail,r.setSelectCon({obj:n.dicRole.dicObject,vals:n.dicRole.checkedVals},{name:m,data:"roleType"}),r.readonly?(r.setRead(),e.getVm(u).title="查看联系人",e.getVm(u).open()):(r.setAdd(),e.getVm(u).title="添加联系人",e.getVm(u).open()))}})},r.setSelectCon=function(t,n){t.obj.unshift({value:"",text:"请选择"}),e.getVm(n.name).setOptions(t.obj),t.vals instanceof Array?""!==t.vals[0]&&(e.getVm(n.name).selectValue(t.vals[0],!0),$(".readroleId").val(e.getVm(n.name).selectedText)):"string"==typeof t.vals||"number"==typeof t.vals?""!==t.vals&&(e.getVm(n.name).selectValue(t.vals,!0),$(".readroleId").val(e.getVm(n.name).selectedText)):alert(t.vals+"-类型有问题！")},r.setRead=function(){var t=e.getVm(u);$("input",t.widgetElement).prop("disabled",!0)},r.setAdd=function(){var t=e.getVm(u);$("input",t.widgetElement).prop("disabled",!1)},r.$init=function(){c.addClass("module-address"),c.html(o),e.scan(i,[g].concat(l))},r.$remove=function(){$(e.getVm(u).widgetElement).remove(),c.removeClass("module-address").off().empty()}});return g};return u.defaults={readonly:"",merchantId:"",callFn:e.noop},e});

//From origin\module\address\address2.js
define("originmoduleaddressaddress2js",["avalon","util","json","moment","originmoduleaddressaddresshtml","originmoduleaddressaddresscss","common","dialog","originwidgetformformjs","originwidgetformselectjs"],function(e,t,n,a,o,i){var s=this,r=s.erp,l=$("#module-style");0===l.length&&(l=$('<style id="module-style"></style>'),l.appendTo("head"));var d=l.data("module")||{};if(!d.address){try{l.html(l.html()+t.adjustModuleCssUrl(i,"address/"))}catch(c){l[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"address/")}d.address=!0,l.data("module",d)}var u=r.module.address=function(i,s,l){var d=s.addressOptions,c=$(i),u=s.addressId+"-dialog",p=s.addressId+"-form",m=s.addressId+"-birthday",f=s.addressId+"-role",g=e.define(s.addressId,function(s){e.mix(s,d),s.readonly=0,s.requestData={},s.data={merchantName:"",moduleType:"",merchantId:"",name:"",genderType:1,birthday:"",position:"",mobilePhone:"",telephone:"",roleType:"",mail:""},s.$addressOpts={dialogId:u,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),n='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">保&nbsp;存</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">关&nbsp;闭</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+n},onOpen:function(){},onClose:function(){var n=e.getVm(p),a=e.getVm(u);t.testCancel($(a.widgetElement)[0]),$(".roleId").val("first"),s.data.birthday="",s.data.merchantName="",s.data.moduleType="",s.data.name="",s.data.genderType="",s.data.position="",s.data.mobilePhone="",s.data.telephone="",s.data.roleType="",s.data.mail="",n.reset()},submit:function(){var a,o=e.getVm(u);a=t.testing($(o.widgetElement)[0]),a&&(s.data.moduleType=s.moduleType,t.c2s({url:r.BASE_PATH+"contact/saveMktContact.do",type:"post",contentType:"application/json",data:n.stringify(s.data.$model),success:function(e){1==e.flag&&(o.close(),s.callFn())}}))}},s.$addressFormOpts={formId:p},s.setGenderType=function(){var e=this.value;s.data.genderType=+e},s.$addressroleSelectOpts={selectId:f,options:[],selectedIndex:0,onSelect:function(n){var a=$(".roleId").val();if(s.data.roleType=n,"first"==a)$(".roleId").val(n);else{$(".roleId").val(n);var o=e.getVm(u);t.testing($(o.widgetElement)[0],$(".roleId"))}}},s.$startDateOpts={calendarId:m,onClickDate:function(e){s.data.birthday=a(e).format("YYYY-MM-DD"),$(this.widgetElement).hide()}},s.openDateCalendar=function(){var n,o=(e.getVm(p),$(this)),i=e.getVm(m),r=o.offset();i?n=$(i.widgetElement):(n=$('<div ms-widget="calendar,$,$startDateOpts"></div>'),n.css({position:"absolute","z-index":1e4}).hide().appendTo("body"),e.scan(n[0],[s]),i=e.getVm(m),t.regGlobalMdExcept({element:n,handler:function(){n.hide()}})),i.focusDate=s.data.birthday?a(s.data.birthday,"YYYY-MM-DD")._d:new Date,n.css({top:r.top+o.outerHeight()-1,left:r.left}).show()},s.open=function(){t.c2s({url:r.BASE_PATH+"contact/loadMktContact.do",type:"post",contentType:"application/json",data:n.stringify(s.requestData.$model),success:function(t){var n,o;t.flag&&(n=t.data,o=s.data,o.merchantName=n.merchantName,o.moduleType=n.moduleType,o.merchantId=n.merchantId,o.name=n.name,o.genderType=n.genderType?n.genderType:1,o.birthday=n.birthday?a(n.birthday).format("YYYY-MM-DD"):a(new Date).format("YYYY-MM-DD"),o.position=n.position,o.mobilePhone=n.mobilePhone,o.telephone=n.telephone,o.mail=n.mail,s.setSelectCon({obj:n.dicRole.dicObject,vals:n.dicRole.checkedVals},{name:f,data:"roleType"}),e.getVm(u).title="添加联系人",e.getVm(u).open(),s.readonly&&s.setRead())}})},s.setSelectCon=function(t,n){t.obj.unshift({value:"",text:"请选择"}),e.getVm(n.name).setOptions(t.obj),t.vals instanceof Array?""!==t.vals[0]&&e.getVm(n.name).selectValue(t.vals[0],!0):"string"==typeof t.vals||"number"==typeof t.vals?""!==t.vals&&e.getVm(n.name).selectValue(t.vals,!0):alert(t.vals+"-类型有问题！")},s.setRead=function(){var t=e.getVm(u);$("input",t.widgetElement).prop("disabled",!0),$("span",t.widgetElement).off("click")},s.$init=function(){c.addClass("module-address"),c.html(o),e.scan(i,[g].concat(l))},s.$remove=function(){$(e.getVm(u).widgetElement).remove(),c.removeClass("module-address").off().empty()}});return g};return u.defaults={readonly:"",merchantId:"",callFn:e.noop},e});

//From origin\module\autocomplete\autocomplete.html
define("originmoduleautocompleteautocompletehtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22ui_thinkSearch%22%3E%3Cinput%20type%3D%22text%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E5%86%85%E5%AE%B9%22%20ms-duplex%3D%22searchValue%22%20ms-focus%3D%22getDataAll%22%3E%3Cdiv%20class%3D%22ui_thinkSearch_search%22%20ms-css-display%3D%22showHide%22%3E%3Cdiv%20ms-repeat%3D%22matchData%22%20class%3D%22ui_thinkSearch_search_list%22%20ms-data-id%3D%22el.id%22%20ms-click%3D%22getValue%22%3E%7B%7Bel.value%7D%7D%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\autocomplete\autocomplete.css
define("originmoduleautocompleteautocompletecss", [], function () {return decodeURIComponent(".ui_thinkSearch%20%7B%0D%0A%09position%3Aabsolute%3B%0D%0A%09top%3A0px%3B%0D%0A%09left%3A0px%3B%0D%0A%09width%3A100%25%3B%0D%0A%7D%0D%0A.ui_thinkSearch%20input%20%7B%0D%0A%09width%3A100%25%3B%0D%0A%09border%3A1px%20solid%20%232cc78f%3B%0D%0A%09height%3A33px%3B%0D%0A%09line-height%3A33px%3B%0D%0A%09text-indent%3A3px%3B%0D%0A%09font-size%3A12px%3B%0D%0A%7D%0D%0A.ui_thinkSearch_search%20%7B%0D%0A%09border%3A1px%20solid%20%232cc78f%3B%0D%0A%09position%3Aabsolute%3B%0D%0A%09left%3A0px%3B%0D%0A%09top%3A34px%3B%0D%0A%09width%3A100%25%3B%0D%0A%09background%3A%23fff%3B%0D%0A%09max-height%3A300px%3B%0D%0A%09height%3A300px%20%5C9%3B%0D%0A%09overflow-y%3Aauto%3B%0D%0A%20%20%20%20z-index%3A%2010000%3B%0D%0A%7D%0D%0A.ui_thinkSearch_search%20div.ui_thinkSearch_search_list%20%7B%0D%0A%09line-height%3A30px%3B%0D%0A%09font-size%3A14px%3B%0D%0A%09padding-left%3A5px%3B%0D%0A%09cursor%3Apointer%3B%0D%0A%7D%0D%0A.ui_thinkSearch_search%20div.ui_thinkSearch_search_cur%2C%0D%0A.ui_thinkSearch_search%20div.ui_thinkSearch_search_list%3Ahover%20%7B%0D%0A%09background%3A%23eee%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A");});

//From origin\module\autocomplete\autocomplete.js
define("originmoduleautocompleteautocompletejs",["avalon","originmoduleautocompleteautocompletehtml","originmoduleautocompleteautocompletecss"],function(e,t,n){var a=this,o=a.erp,i=o.module.autocomplete=function(a,o,i){a.innerHTML="";var s=e.define(o.autocompleteId,function(r){e.mix(r,o.autocompleteOptions),r.$init=function(){var o=document.getElementsByTagName("style"),r=document.getElementsByTagName("head")[0];if(o&&o[0])o[0].innerHTML+=n;else{var o=document.createElement("style");o.innerHTML=n,r.appendChild(o)}a.innerHTML=t,e.scan(a,[s].concat(i))},r.dataAll="",r.matchData=[],r.getThinkAll=function(){this.onkeyup=r.getKeyValue,r.isInputChange(),$(document).on("click",r.closeThink)},r.getKeyValue=function(e){e=e||window.event;var t=e.keyCode;switch(t){case 38:r.setKeyValue("prev");break;case 40:r.setKeyValue("next");break;default:r.isInputChange()}},r.isInputChange=function(){var e=r.searchValue;e=e.replace(/(^\s+)|(\s+$)/g,""),e.length>0?r.getMatchData(e):(r.showHide="none",r.matchData=[])},r.getMatchData=function(e){r.matchData=[];for(var t=0,n=r.dataAll.length;n>t;t++)for(var a in r.dataAll[t])"value"==a&&-1!=r.dataAll[t][a].indexOf(e)&&r.matchData.push(r.dataAll[t]);r.matchData.length?r.showHide="block":(r.showHide="none",r.matchData=[])},r.setKeyValue=function(e){"undefined"==typeof r.num&&(r.num=-1);var t=$(".ui_thinkSearch_search")[0].getElementsByTagName("div"),n=t.length;"prev"==e?(r.num--,r.num<0&&(r.num=n-1)):"next"==e&&(r.num++,r.num>=n&&(r.num=0));for(var a=0;n>a;a++)t[a].className="ui_thinkSearch_search_list";t[r.num].className+=" ui_thinkSearch_search_cur",r.searchValue=t[r.num].innerHTML,r.searchId=t[r.num].getAttribute("data-id")},r.getValue=function(){r.searchId=this.getAttribute("data-id"),r.searchValue=this.innerHTML,r.showHide="none"},r.closeThink=function(e){e=e||window.event;var t=e.target||e.srcElement;$(".ui_thinkSearch").has(t).length||(r.showHide="none",r.matchData=[],$(document).off("click",r.closeThink))}});return s};return i.defaults={searchValue:"",showHide:"none",searchId:"",getDataAll:e.noop},e});

//From origin\module\bindselector\bindselector.html
define("originmodulebindselectorbindselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22bind-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24bindOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22user-name%20input-text%22%20placeholder%3D%22%E5%A7%93%E5%90%8D%22%20ms-duplex%3D%22userName%22%3E%26nbsp%3B%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22mobile%20input-text%22%20placeholder%3D%22%E6%89%8B%E6%9C%BA%E5%8F%B7%22%20ms-duplex%3D%22mobile%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22list-hd%22%3E%3Cul%20class%3D%22select-list%20fn-clear%22%3E%3Cli%20class%3D%22select-item%22%3E%3Cspan%20class%3D%22name-cell%20item-cell%20fn-left%22%3E%E5%A7%93%E5%90%8D%3C%2Fspan%3E%20%3Cspan%20class%3D%22mobile-cell%20item-cell%20fn-left%22%3E%E8%81%94%E7%B3%BB%E7%94%B5%E8%AF%9D%3C%2Fspan%3E%20%3Cspan%20class%3D%22position-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%3E%E8%81%8C%E4%BD%8D%3C%2Fspan%3E%20%3Cspan%20class%3D%22group-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%3E%E9%83%A8%E9%97%A8%3C%2Fspan%3E%20%3Cspan%20class%3D%22course-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%3E%E8%AF%BE%E7%A8%8B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22user-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22user-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectUser%22%20ms-repeat%3D%22userList%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22name-cell%20item-cell%20fn-left%22%20ms-attr-title%3D%22el.userName%22%3E%7B%7Bel.userName%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22mobile-cell%20item-cell%20fn-left%22%20ms-attr-title%3D%22el.tel%22%3E%7B%7Bel.tel%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22position-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%20ms-attr-title%3D%22el.positionName%22%3E%7B%7Bel.positionName%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22group-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%20ms-attr-title%3D%22el.groupName%22%3E%7B%7Bel.groupName%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22course-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%20ms-attr-title%3D%22el.courseName%22%3E%7B%7Bel.courseName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\bindselector\bindselector.css
define("originmodulebindselectorbindselectorcss", [], function () {return decodeURIComponent(".bind-select-dialog%20.bind-course-wrapper%20%7B%0A%20%20%20%20padding%3A%2010px%2014px%3B%0A%7D%0A.bind-select-dialog%20.bind-course-wrapper%20.f-field%7B%0A%20%20%20%20margin-bottom%3A%200%3B%0A%7D%0A.bind-select-dialog%20.dialog-tbar%20.input-text%20%7B%0A%20%20%20%20width%3A%20160px%3B%0A%7D%0A.bind-select-dialog%20.name-cell%20%7B%0A%20%20%20%20width%3A%20130px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A.bind-select-dialog%20.mobile-cell%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A.bind-select-dialog%20.group-cell%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A.bind-select-dialog%20.position-cell%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A");});

//From origin\module\bindselector\bindselector.js
define("originmodulebindselectorbindselectorjs",["avalon","util","json","originmodulebindselectorbindselectorhtml","originmodulebindselectorbindselectorcss","common","dialog","originwidgetformselectjs"],function(e,t,n,a,o){var i=this,s=i.erp,r=$("#module-style");0===r.length&&(r=$('<style id="module-style"></style>'),r.appendTo("head"));var l=r.data("module")||{};if(!l.bindselector){try{r.html(r.html()+t.adjustModuleCssUrl(o,"bindselector/"))}catch(d){r[0].styleSheet.cssText+=t.adjustModuleCssUrl(o,"bindselector/")}l.bindselector=!0,r.data("module",l)}var c=s.module.bindselector=function(o,i,r){var l=i.bindselectorOptions,d=i.bindselectorId+"-dialog",c=i.bindselectorId+"-select",u=$(o),m=e.define(i.bindselectorId,function(i){e.mix(i,l),i.widgetElement=o,i.dialogId=d,i.courseSelectId=c,i.userRole="student",i.$bindOpts={dialogId:d,width:620,title:"",getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),n='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+n},userList:[],userName:"",mobile:"",onClose:function(){var t=e.getVm(d);t.userList.clear(),t.userName="",t.mobile="",$(".list-wrapper",t.widgetElement).scrollTop(0)},onOpen:function(){var t=e.getVm(d);t.updateList()},submit:function(){var n=e.getVm(d),a=(e.getVm(c),[]);_.each(n.userList.$model,function(e){e.isSelected&&a.push(e)}),a.length?l.onSubmit&&l.onSubmit.call(i,a):t.alert({iconType:"error",content:"请选择对应的老师"})},updateList:function(){var a=e.getVm(d),o=_.str.trim(a.userName),r=_.str.trim(a.mobile);t.c2s({url:s.BASE_PATH+l.listPath,data:n.stringify({userName:o,tel:r,pageSize:1e4,pageNumber:1}),contentType:"application/json",success:function(e){var t;e.flag&&(t=e.data,a.userList.clear(),_.each(t.rows,function(e){var t={};_.each(_.keys(e),function(n){t[_.str.camelize(n)]=e[n]}),a.userList.push(_.extend(t,{isSelected:!1}))}),l.onListReady&&l.onListReady.call(i,a.userList))}})},clickQueryBtn:function(){var t=e.getVm(d);t.updateList()},inputEnterKey:function(t){var n=e.getVm(d);13==t.keyCode&&n.updateList()},selectUser:function(){var t=e.getVm(d),n=this.$vmodel.$model,a=n.$index;l.multi?t.userList.set(a,{isSelected:!t.userList[a].isSelected}):(_.each(t.userList,function(e){e.isSelected=!1}),t.userList.set(a,{isSelected:!0}))}},i.open=function(){e.getVm(d).open()},i.close=function(){e.getVm(d).close()},i.$init=function(){u.addClass("module-bindselector fn-hide"),u.html(a),e.scan(o,[m].concat(r))},i.$remove=function(){$(e.getVm(d).widgetElement).remove(),u.empty()},i.$skipArray=["widgetElement","dialogId"],i.$watch("title",function(t){e.getVm(d).title=t})});return m};return c.version=1,c.defaults={title:"",multi:!1,listPath:"studentManagement/queryStudentListToBeAllocated.do",onListReady:e.noop,onSubmit:e.noop},e});

//From origin\module\cardrulesetting\cardrulesetting.html
define("originmodulecardrulesettingcardrulesettinghtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-cardrulesetting-dialog%22%20ms-widget%3D%22dialog%2C%24%2C%24settingDialogOpts%22%3E%3Cform%20action%3D%22javascript%3A%3B%22%20ms-widget%3D%22form%2C%24%2C%24settingFormOpts%22%3E%3Cul%20class%3D%22module-cardrulesetting-nav-list%20fn-clear%22%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22fans%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'fans'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22integral%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'integral'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22store%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'store'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22integralStore%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'integralStore'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E7%A7%AF%E5%88%86%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22module-cardrulesetting-panel-list%22%3E%3Cli%20class%3D%22fans-panel-item%20module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'fans'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22fansCardList.length%22%3E%3Cul%20class%3D%22fans-card-list%22%3E%3Cli%20class%3D%22fans-card-item%20card-item%22%20ms-repeat%3D%22fansCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22f-field%20f-field-last%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%94%B5%E5%AD%90%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%20iconfont%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22fans%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22fans%22%3E%E5%A2%9E%E5%8A%A0%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!fansCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22fans%22%3E%E6%B7%BB%E5%8A%A0%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'integral'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22integralCardList.length%22%3E%3Cul%20class%3D%22integral-card-list%22%3E%3Cli%20class%3D%22integral-card-item%20card-item%22%20ms-repeat%3D%22integralCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%A7%AF%E5%88%86%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%EF%BC%8C%E6%AF%8F%E5%BC%A0%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22card-price%20input-text%22%20ms-value%3D%22el.cardPrice%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22consume-rebate%20input-text%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E7%8E%B0%E9%87%91%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%E7%8E%87%22%20ms-value%3D%22el.consumeRebate%22%20ms-data-consume-rebate-id%3D%22el.consumeRebateId%22%3E%26nbsp%3B%25%E7%A7%AF%E5%88%86%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22integral%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integral%22%3E%E5%A2%9E%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!integralCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integral%22%3E%E6%B7%BB%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'store'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22storeCardList.length%22%3E%3Cul%20class%3D%22store-card-list%22%3E%3Cli%20class%3D%22store-card-item%20card-item%22%20ms-repeat%3D%22storeCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%A7%AF%E5%88%86%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%20ff-value-text%22%3E%3Cdiv%20class%3D%22rebate-type-wrapper%22%20ms-attr-id%3D%22el.%24assistId%22%3E%3Cdiv%20class%3D%22rebate-type-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-type%22%20ms-widget%3D%22select%2C%24%2C%24rebateTypeOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-range-wrapper%22%20ms-visible%3D%22el.showAmountRange%22%3E%3Cul%20class%3D%22card-rebate-list%22%3E%3Cli%20class%3D%22card-rebate-item%22%20ms-repeat%3D%22el.rangeRebate%22%20ms-attr-id%3D%22el.%24assistId%22%20ms-data-rule-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-rebate-item-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cdiv%20class%3D%22rebate-type-field%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22begin-amount%20input-text%22%20ms-value%3D%22beginAmount%22%3E%26nbsp%3B-%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22end-amount%20input-text%22%20ms-value%3D%22endAmount%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-setting-field%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-value%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22close-h%20icon-close%20iconfont%22%20data-panel-name%3D%22store%22%20ms-visible%3D%22%24index%20!%3D%200%22%20ms-click%3D%22_clickRemoveRebate%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Ca%20href%3D%22javascript%3A%3B%22%20class%3D%22add-more-rebate-h%22%20ms-click%3D%22_clickAddRebate%22%20data-panel-name%3D%22store%22%3E%E5%A2%9E%E5%8A%A0%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%E8%A7%84%E5%88%99%3C%2Fa%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-fixed-wrapper%22%20ms-attr-id%3D%22el.fixedRebate.%24assistId%22%20ms-data-rule-id%3D%22el.fixedRebate.id%22%20ms-visible%3D%22!el.showAmountRange%22%3E%3Cdiv%20class%3D%22amount-fixed-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-duplex%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%20iconfont%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22store%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22store%22%3E%E5%A2%9E%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!storeCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22store%22%3E%E6%B7%BB%E5%8A%A0%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'integralStore'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22integralStoreCardList.length%22%3E%3Cul%20class%3D%22integral-store-card-list%22%3E%3Cli%20class%3D%22integral-store-card-item%20card-item%22%20ms-repeat%3D%22integralStoreCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%A7%AF%E5%88%86%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%EF%BC%8C%E6%AF%8F%E5%BC%A0%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22card-price%20input-text%22%20ms-value%3D%22el.cardPrice%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22consume-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22consume-rebate%20input-text%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E7%8E%B0%E9%87%91%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%E7%8E%87%22%20ms-value%3D%22el.consumeRebate%22%20ms-data-consume-rebate-id%3D%22el.consumeRebateId%22%3E%26nbsp%3B%25%E7%A7%AF%E5%88%86%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%20ff-value-text%22%3E%3Cdiv%20class%3D%22rebate-type-wrapper%22%20ms-attr-id%3D%22el.%24assistId%22%3E%3Cdiv%20class%3D%22rebate-type-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-type%22%20ms-widget%3D%22select%2C%24%2C%24rebateTypeOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-range-wrapper%22%20ms-visible%3D%22el.showAmountRange%22%3E%3Cul%20class%3D%22card-rebate-list%22%3E%3Cli%20class%3D%22card-rebate-item%22%20ms-repeat%3D%22el.rangeRebate%22%20ms-attr-id%3D%22el.%24assistId%22%20ms-data-rule-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-rebate-item-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cdiv%20class%3D%22rebate-type-field%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22begin-amount%20input-text%22%20ms-value%3D%22beginAmount%22%3E%26nbsp%3B-%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22end-amount%20input-text%22%20ms-value%3D%22endAmount%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-setting-field%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-value%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22close-h%20icon-close%20iconfont%22%20data-panel-name%3D%22integralStore%22%20ms-visible%3D%22%24index%20!%3D%200%22%20ms-click%3D%22_clickRemoveRebate%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Ca%20href%3D%22javascript%3A%3B%22%20class%3D%22add-more-rebate-h%22%20ms-click%3D%22_clickAddRebate%22%20data-panel-name%3D%22integralStore%22%3E%E5%A2%9E%E5%8A%A0%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%E8%A7%84%E5%88%99%3C%2Fa%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-fixed-wrapper%22%20ms-attr-id%3D%22el.fixedRebate.%24assistId%22%20ms-data-rule-id%3D%22el.fixedRebate.id%22%20ms-visible%3D%22!el.showAmountRange%22%3E%3Cdiv%20class%3D%22amount-fixed-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-duplex%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%20iconfont%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22integralStore%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integralStore%22%3E%E5%A2%9E%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!integralStoreCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E7%A7%AF%E5%88%86%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integralStore%22%3E%E6%B7%BB%E5%8A%A0%E7%A7%AF%E5%88%86%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin\module\cardrulesetting\cardrulesetting.css
define("originmodulecardrulesettingcardrulesettingcss", [], function () {return decodeURIComponent(".module-cardrulesetting-dialog%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%20%20%20%20border-top%3A%205px%20solid%20%23C7D4E3%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23cde2f9%3B%0A%7D%0A.module-cardrulesetting-nav-list%20%7B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20background%3A%20%23edf6ff%3B%0A%7D%0A.module-cardrulesetting-nav-item%20%7B%0A%20%20%20%20width%3A%2025%25%3B%0A%7D%0A.module-cardrulesetting-nav-item%20a%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20line-height%3A%2034px%3B%0A%20%20%20%20height%3A%2034px%3B%0A%20%20%20%20border-top%3A%204px%20solid%20%23edf6ff%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20margin-bottom%3A%20-1px%3B%0A%20%20%20%20color%3A%20%23666666%3B%0A%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%7D%0A.module-cardrulesetting-nav-list%20.state-active%20a%20%7B%0A%20%20%20%20border-top%3A%204px%20solid%20%2376a9e0%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23ffffff%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20color%3A%20%2376a9e0%3B%0A%20%20%20%20font-family%3A%20%5C65B0%5C5B8B%5C4F53%2C%20%5C5b8b%5C4f53%3B%0A%7D%0A.module-cardrulesetting-nav-list%20.state-error%20a%20%7B%0A%20%20%20%20background%3A%20%23F56152%3B%0A%7D%0A.module-cardrulesetting-panel-item%20%7B%0A%20%20%20%20height%3A%20380px%3B%0A%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20padding%3A%2020px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-item%20%7B%0A%20%20%20%20background%3A%20%23f3f3f3%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20margin-bottom%3A%2010px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-item-close-h%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%208px%3B%0A%20%20%20%20right%3A%208px%3B%0A%20%20%20%20line-height%3A%201em%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.panel-action%20%7B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-list-empty-tip%20%7B%0A%20%20%20%20padding-top%3A%2020px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23666666%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.ff-label%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-name%2C%0A.module-cardrulesetting-panel-item%20.rebate-type%2C%0A.module-cardrulesetting-panel-item%20.rebate-setting%2C%0A.module-cardrulesetting-panel-item%20.rebate-unit%20%7B%0A%20%20%20%20width%3A%20148px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-num%2C%0A.module-cardrulesetting-panel-item%20.card-price%2C%0A.module-cardrulesetting-panel-item%20.begin-amount%2C%0A.module-cardrulesetting-panel-item%20.end-amount%2C%0A.module-cardrulesetting-panel-item%20.rebate-value%20%7B%0A%20%20%20%20width%3A%2078px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-rebate-item%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-rebate-item%20.close-h%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%208px%3B%0A%20%20%20%20right%3A%208px%3B%0A%20%20%20%20line-height%3A%201em%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-rebate-item%20.rebate-type-field%20%7B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.add-more-rebate-h%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20width%3A%20130px%3B%0A%7D%0A.module-cardrulesetting-dialog%20.amount-range-wrapper%2C%0A.module-cardrulesetting-dialog%20.amount-fixed-wrapper%20%7B%0A%20%20%20%20margin-top%3A%208px%3B%0A%7D%0A.module-cardrulesetting-dialog%20.amount-fixed-inner%20%7B%0A%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%7D%0A");});

//From origin\module\cardrulesetting\cardrulesetting.js
define("originmodulecardrulesettingcardrulesettingjs",["avalon","util","json","moment","originmodulecardrulesettingcardrulesettinghtml","originmodulecardrulesettingcardrulesettingcss","common","dialog","originwidgetformformjs","originwidgetformselectjs"],function(e,t,a,n,r,i){function s(e){var t="";switch(e){case 1:t="fans";break;case 2:t="integral";break;case 3:t="store";break;case 4:t="integralStore"}return t}var o=this,l=o.erp,d=$("#module-style");0===d.length&&(d=$('<style id="module-style"></style>'),d.appendTo("head"));var c=d.data("module")||{};if(!c.cardrulesetting){try{d.html(d.html()+t.adjustModuleCssUrl(i,"cardrulesetting/"))}catch(u){d[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"cardrulesetting/")}c.cardrulesetting=!0,d.data("module",c)}var m=l.module.cardrulesetting=function(n,i,o){var d=i.cardrulesettingOptions,c=$(n),u=(new Date,i.cardrulesettingId+"-setting-dialog"),m=i.cardrulesettingId+"-setting-form",p=0,f=e.define(i.cardrulesettingId,function(g){e.mix(g,d),g.widgetElement=n,g.activePanel="fans",g.fansCardList=[],g.integralCardList=[],g.storeCardList=[],g.integralStoreCardList=[],g.readonly=!1,g.$settingDialogOpts={dialogId:u,title:"会员卡规则",width:700,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">保&nbsp;存</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="close">确&nbsp;定</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},onClose:function(){var t=e.getVm(m),a=$(t.widgetElement);$(".card-rebate-item",a).each(function(){$(".close-h",this).click()}),_.each(["fans","integral","store","integralStore"],function(e){g[e+"CardList"].clear()}),t.reset(),$(".module-cardrulesetting-nav-item",a).removeData("valid").removeClass("state-error"),g.activePanel="fans"},onOpen:function(){t.c2s({url:l.BASE_PATH+"trade/cardtype/listCardtypes.do",data:{merchantId:g.merchantId},success:function(e){var t;e.flag&&(t=e.data,_.each(t,function(e){var t=e.awardRuleVos,a=s(e.gradeLevel),n=_.find(t,function(e){return 1===e.awardType}),r=_.find(t,function(e){return 2===e.awardType&&1===e.rebateType}),i=_.filter(t,function(e){return 2===e.awardType&&2===e.rebateType});g["add"+_.str.capitalize(a)+"Card"]({cardName:e.cardtype,id:e.id,gradeLevel:e.gradeLevel,cardPrice:e.price,consumeRebate:n?n.awardAmount:"",consumeRebateId:n?n.id:"",rebateType:e.rebateType,fixedRebate:r?{rebateValue:r.awardAmount,awardType:r.awardType,awardAmountType:r.awardAmountType,id:r.id}:null,rangeRebate:_.map(i,function(e){return{id:e.id,beginAmount:e.lowerLimit,endAmount:e.upperLimit,rebateValue:e.awardAmount,awardType:e.awardType,awardAmountType:e.awardAmountType}})})}))}})},submit:function(){var n,r=e.getVm(m),i=[];r.validate()&&(n=r.getFormData(),n.fansCard&&(i=i.concat(n.fansCard)),n.integralCard&&(i=i.concat(n.integralCard)),n.storeCard&&(i=i.concat(n.storeCard)),n.integralStoreCard&&(i=i.concat(n.integralStoreCard)),_.each(i,function(e){e.id||(e.id=null),_.each(e.awardRuleVos,function(e){e.id||(e.id=null)})}),t.c2s({url:l.BASE_PATH+"trade/cardtype/saveCardtypes.do",contentType:"application/json",data:a.stringify(i),success:function(a){a.flag&&(t.alert({content:a.message,iconType:"success"}),e.getVm(u).close()),g.onUpdateCallback.call(g,a)}}))}},g.$settingFormOpts={formId:m,field:[{selector:".fans-panel-item .card-name",name:"fansCard",getValue:function(){var t=$(".fans-card-item",e.getVm(m).widgetElement),a=[];return t.each(function(){var e=$(this),t=$(".card-name",this);a.push({cardtype:_.str.trim(t.val()),id:e.data("cardId"),gradeLevel:1,awardRuleVos:[],merchantId:g.merchantId})}),a},rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".fans-card-item",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="fans"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this);return _.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.card=!0,i.card&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".card-name",e),n=$(".ff-value",e),r=$(".ff-value-tip",n),i=[];_.str.trim(t.val()).length?t.removeClass(a.errorCls+"-field"):(i.push("卡名称不能为空"),t.addClass(a.errorCls+"-field")),i.length?(r.addClass(a.errorCls),r.text(i.join("，"))):(r.removeClass(a.errorCls),r.empty())}),"fans"!==g.activePanel&&(r.addClass("state-error"),i.card=!1)),r.data("valid",i)},isPassed:s}}},{selector:".integral-card-item .card-name,.integral-card-item .card-price",name:"integralCard",getValue:function(){var t=$(".integral-card-item",e.getVm(m).widgetElement),a=[];return t.each(function(){var e=$(this),t=$(".card-name",this),n=$(".card-price",this),r=$(".consume-rebate",this);a.push({cardtype:_.str.trim(t.val()),id:e.data("cardId"),price:_.str.trim(n.val()),gradeLevel:2,awardRuleVos:[{id:r.data("consumeRebateId"),awardAmount:_.str.trim(r.val()),awardType:1,transCode:"0002",awardAmountType:2}],merchantId:g.merchantId})}),a},rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".integral-card-list .card-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="integral"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this);return _.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.card=!0,i.card&&i.consume&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".card-name",e),n=$(".card-price",e),r=$(".ff-value",e),i=$(".ff-value-tip",r),s=[];_.str.trim(t.val()).length?t.removeClass(a.errorCls+"-field"):(s.push("卡名称不能为空"),t.addClass(a.errorCls+"-field")),_.str.trim(n.val()).length?n.removeClass(a.errorCls+"-field"):(s.push("卡单价不能为空"),n.addClass(a.errorCls+"-field")),s.length?(i.addClass(a.errorCls),i.text(s.join("，"))):(i.removeClass(a.errorCls),i.empty())}),"integral"!==g.activePanel&&(r.addClass("state-error"),i.card=!1)),r.data("valid",i)},isPassed:s}}},{selector:".integral-card-item .consume-rebate",rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".integral-card-list .rebate-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="integral"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this);return _.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.consume=!0,i.card&&i.consume&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".consume-rebate",e),n=$(".ff-value",e),r=$(".ff-value-tip",n),i=[];_.str.trim(t.val()).length?t.removeClass(a.errorCls+"-field"):(i.push("消费返点不能为空"),t.addClass(a.errorCls+"-field")),i.length?(r.addClass(a.errorCls),r.text(i.join("，"))):(r.removeClass(a.errorCls),r.empty())}),"integral"!==g.activePanel&&(r.addClass("state-error"),i.consume=!1)),r.data("valid",i)},isPassed:s}}},{selector:".store-card-item .card-name",name:"storeCard",getValue:function(){var t=$(".store-card-item",e.getVm(m).widgetElement),a=[];return t.each(function(){var t,n,r,i,s=$(this),o=$(".card-name",this),l=$(".rebate-type-wrapper",this),d=e.getVm(l.attr("id")),c=e.getVm(d.$rebateTypeOpts.selectId),u=$(".amount-range-wrapper .card-rebate-item",this),m=[];1===c.selectedValue?(t=$(".amount-fixed-wrapper",s),n=e.getVm(t.attr("id")),r=e.getVm(n.$rebateSettingOpts.selectId),i=e.getVm(n.$rebateUnitOpts.selectId),m.push({id:t.data("ruleId"),awardAmount:_.str.trim(n.rebateValue),rebateType:c.selectedValue,awardType:2,awardAmountType:r.selectedValue,transCode:"2001"})):u.each(function(){{var t=$(".begin-amount",this),a=$(".end-amount",this),n=$(".rebate-value",this),r=e.getVm($(this).attr("id")),i=e.getVm(r.$rebateSettingOpts.selectId);e.getVm(r.$rebateUnitOpts.selectId)}m.push({id:$(this).data("ruleId"),lowerLimit:_.str.trim(t.val()),upperLimit:_.str.trim(a.val()),awardAmount:_.str.trim(n.val()),rebateType:c.selectedValue,awardType:2,awardAmountType:i.selectedValue,transCode:"2001"})}),a.push({cardtype:_.str.trim(o.val()),id:s.data("cardId"),gradeLevel:3,rebateType:c.selectedValue,awardRuleVos:m,merchantId:g.merchantId})}),a},rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".store-card-list .card-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="store"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this);return _.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.card=!0,i.card&&i.rebate&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".card-name",e),n=$(".ff-value",e),r=$(".ff-value-tip",n),i=[];_.str.trim(t.val()).length?t.removeClass(a.errorCls+"-field"):(i.push("卡名称不能为空"),t.addClass(a.errorCls+"-field")),i.length?(r.addClass(a.errorCls),r.text(i.join("，"))):(r.removeClass(a.errorCls),r.empty())}),"store"!==g.activePanel&&(r.addClass("state-error"),i.card=!1)),r.data("valid",i)},isPassed:s}}},{selector:".store-card-item .begin-amount,.store-card-item .end-amount,.store-card-item .rebate-value",rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".store-card-list .rebate-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="store"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this),t=e.closest(".amount-range-wrapper");return t.length||(t=e.closest(".amount-fixed-wrapper")),"block"!==t.css("display")||_.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.rebate=!0,i.card&&i.rebate&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".begin-amount",e),n=$(".end-amount",e),r=$(".rebate-value",e),i=$(".ff-value",e),s=$(".ff-value-tip",i),o=[];t.each(function(){var e=$(this),t=_.str.trim(e.val());if(e.is(":visible")){if(!t.length)return o.push("起始金额不能为空"),e.addClass(a.errorCls+"-field"),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(t))return o.push("金额最多保留2位小数"),e.addClass(a.errorCls+"-field"),!1;e.removeClass(a.errorCls+"-field")}else e.removeClass(a.errorCls+"-field")}),n.each(function(){var e=$(this),t=e.siblings(".begin-amount"),n=_.str.trim(e.val());if(e.is(":visible")){if(!n.length)return o.push("截止金额不能为空"),e.addClass(a.errorCls+"-field"),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(n))return o.push("金额最多保留2位小数"),e.addClass(a.errorCls+"-field"),!1;if(n<parseFloat(_.str.trim(t.val()),10))return o.push("起始金额不能大于截止金额"),e.addClass(a.errorCls+"-field"),!1;e.removeClass(a.errorCls+"-field")}else e.removeClass(a.errorCls+"-field")}),r.each(function(){var e=$(this);return e.is(":visible")&&!_.str.trim(e.val()).length?(o.push("返点值不能为空"),e.addClass(a.errorCls+"-field"),!1):void e.removeClass(a.errorCls+"-field")}),o.length?(s.addClass(a.errorCls),s.text(o.join("，"))):(s.removeClass(a.errorCls),s.empty())}),"store"!==g.activePanel&&(r.addClass("state-error"),i.rebate=!1)),r.data("valid",i)},isPassed:s}}},{selector:".integral-store-card-item .card-name,.integral-store-card-item .card-price",name:"integralStoreCard",getValue:function(){var t=$(".integral-store-card-item",e.getVm(m).widgetElement),a=[];return t.each(function(){var t,n,r,i,s=$(this),o=$(".card-name",this),l=$(".card-price",this),d=$(".consume-rebate",this),c=$(".rebate-type-wrapper",this),u=e.getVm(c.attr("id")),m=e.getVm(u.$rebateTypeOpts.selectId),p=$(".amount-range-wrapper .card-rebate-item",this),f=[];1===m.selectedValue?(t=$(".amount-fixed-wrapper",s),n=e.getVm(t.attr("id")),r=e.getVm(n.$rebateSettingOpts.selectId),i=e.getVm(n.$rebateUnitOpts.selectId),f.push({id:t.data("ruleId"),awardAmount:_.str.trim(n.rebateValue),rebateType:m.selectedValue,awardType:2,awardAmountType:r.selectedValue,transCode:"2001"})):p.each(function(){{var t=$(".begin-amount",this),a=$(".end-amount",this),n=$(".rebate-value",this),r=e.getVm($(this).attr("id")),i=e.getVm(r.$rebateSettingOpts.selectId);e.getVm(r.$rebateUnitOpts.selectId)}f.push({id:$(this).data("ruleId"),lowerLimit:_.str.trim(t.val()),upperLimit:_.str.trim(a.val()),awardAmount:_.str.trim(n.val()),rebateType:m.selectedValue,awardType:2,awardAmountType:i.selectedValue,transCode:"2001"})}),f.push({id:d.data("consumeRebateId"),awardAmount:_.str.trim(d.val()),awardType:1,transCode:"0002",awardAmountType:2}),a.push({cardtype:_.str.trim(o.val()),price:_.str.trim(l.val()),id:s.data("cardId"),gradeLevel:4,rebateType:m.selectedValue,awardRuleVos:f,merchantId:g.merchantId})}),a},rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".integral-store-card-list .card-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="integralStore"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this);return _.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.card=!0,i.card&&i.consume&&i.rebate&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".card-name",e),n=$(".card-price",e),r=$(".ff-value",e),i=$(".ff-value-tip",r),s=[];_.str.trim(t.val()).length?t.removeClass(a.errorCls+"-field"):(s.push("卡名称不能为空"),t.addClass(a.errorCls+"-field")),_.str.trim(n.val()).length?n.removeClass(a.errorCls+"-field"):(s.push("卡单价不能为空"),n.addClass(a.errorCls+"-field")),s.length?(i.addClass(a.errorCls),i.text(s.join("，"))):(i.removeClass(a.errorCls),i.empty())}),"integralStore"!==g.activePanel&&(r.addClass("state-error"),i.card=!1)),r.data("valid",i)},isPassed:s}}},{selector:".integral-store-card-item .consume-rebate",rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".integral-store-card-list .consume-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="integralStore"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this);return _.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.consume=!0,i.card&&i.consume&&i.rebate&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".consume-rebate",e),n=$(".ff-value",e),r=$(".ff-value-tip",n),i=[];_.str.trim(t.val()).length?t.removeClass(a.errorCls+"-field"):(i.push("消费返点不能为空"),t.addClass(a.errorCls+"-field")),i.length?(r.addClass(a.errorCls),r.text(i.join("，"))):(r.removeClass(a.errorCls),r.empty())}),"integralStore"!==g.activePanel&&(r.addClass("state-error"),i.consume=!1)),r.data("valid",i)},isPassed:s}}},{selector:".integral-store-card-item .begin-amount,.integral-store-card-item .end-amount,.integral-store-card-item .rebate-value",rule:function(){var t=$(this),a=$(e.getVm(m).widgetElement),n=$(".integral-store-card-list .rebate-info-field",a),r=$(".module-cardrulesetting-nav-item",a).filter('[data-panel-name="integralStore"]'),i=r.data("valid")||{},s=!0;return t.each(function(){var e=$(this),t=e.closest(".amount-range-wrapper");return t.length||(t=e.closest(".amount-fixed-wrapper")),"block"!==t.css("display")||_.str.trim(e.val()).length?void 0:(s=!1,!1)}),{handler:function(e,a){e?(t.each(function(){var e=$(this),t=e.closest(".ff-value"),n=$(".ff-value-tip",t);n.removeClass(a.errorCls).empty(),e.removeClass(a.errorCls+"-field")}),i.rebate=!0,i.card&&i.consume&&i.rebate&&r.removeClass("state-error")):(n.each(function(){var e=$(this),t=$(".begin-amount",e),n=$(".end-amount",e),r=$(".rebate-value",e),i=$(".ff-value",e),s=$(".ff-value-tip",i),o=[];t.each(function(){var e=$(this),t=_.str.trim(e.val());if(e.is(":visible")){if(!t.length)return o.push("起始金额不能为空"),e.addClass(a.errorCls+"-field"),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(t))return o.push("金额最多保留2位小数"),e.addClass(a.errorCls+"-field"),!1;e.removeClass(a.errorCls+"-field")}else e.removeClass(a.errorCls+"-field")}),n.each(function(){var e=$(this),t=e.siblings(".begin-amount"),n=_.str.trim(e.val());if(e.is(":visible")){if(!n.length)return o.push("截止金额不能为空"),e.addClass(a.errorCls+"-field"),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(n))return o.push("金额最多保留2位小数"),e.addClass(a.errorCls+"-field"),!1;if(n<parseFloat(_.str.trim(t.val()),10))return o.push("起始金额不能大于截止金额"),e.addClass(a.errorCls+"-field"),!1;e.removeClass(a.errorCls+"-field")}else e.removeClass(a.errorCls+"-field")}),r.each(function(){var e=$(this);return e.is(":visible")&&!_.str.trim(e.val()).length?(o.push("返点值不能为空"),e.addClass(a.errorCls+"-field"),!1):void e.removeClass(a.errorCls+"-field")}),o.length?(s.addClass(a.errorCls),s.text(o.join("，"))):(s.removeClass(a.errorCls),s.empty())}),"integralStore"!==g.activePanel&&(r.addClass("state-error"),i.rebate=!1)),r.data("valid",i)},isPassed:s}}}]},g.switchPanel=function(){var t=e(this).data("panelName");g.activePanel=t,$(".module-cardrulesetting-nav-item",e.getVm(m).widgetElement).filter('[data-panel-name="'+t+'"]').removeClass("state-error")},g.removeCardItem=function(){var t,a,n,r=e(this).data("panelName"),i=$(this).closest(".card-item"),s=this.$vmodel.$index;("store"===r||"integralStore"===r)&&($(".card-rebate-list .close-h",i).click(),t=$(".rebate-type-wrapper",i),t.length&&(n=e.getVm(t.attr("id")),$(e.getVm(n.$rebateTypeOpts.selectId).widgetElement).remove(),delete e.vmodels[n.$id]),a=$(".amount-fixed-wrapper",i),a.length&&(n=e.getVm(a.attr("id")),$(e.getVm(n.$rebateSettingOpts.selectId).widgetElement).remove(),$(e.getVm(n.$rebateUnitOpts.selectId).widgetElement).remove(),delete e.vmodels[n.$id])),g[r+"CardList"].removeAt(s)},g._clickAddCard=function(){var t=e(this).data("panelName");g["add"+_.str.capitalize(t)+"Card"]()},_.each(["fans","integral","store","integralStore"],function(e){g["add"+_.str.capitalize(e)+"Card"]=function(t){var a={rebateType:1,cardName:"",cardPrice:"",consumeRebate:"",id:0,gradeLevel:0,consumeRebateId:0,showAmountRange:!1},n=[],r=null;("store"===e||"integralStore"===e)&&(n=t&&t.rangeRebate||[{beginAmount:"",endAmount:"",rebateValue:"",id:0,awardType:2,awardAmountType:0}],r=t&&t.fixedRebate||{rebateValue:"",id:0,awardType:2,awardAmountType:0},_.extend(r,g._createAssistVm(r,"fixed")),_.extend(a,g._createAssistVm({$atIndex:g[e+"CardList"].size(),$panelName:e,$fixedAssistId:r.$assistId},"card"))),_.each(n,function(e){_.extend(e,g._createAssistVm(e,"range"))}),g[e+"CardList"].push(_.extend(a,t,{rangeRebate:n,fixedRebate:r})),("store"===e||"integralStore"===e)&&(g._scanRebateTmpl(a,"card"),g._scanRebateTmpl(r,"fixed"),_.each(n,function(e){g._scanRebateTmpl(e,"range")}))}}),g._clickAddRebate=function(){var t=this.$vmodel.$index,a=e(this).data("panelName"),n=g[a+"CardList"][t],r=g._getNewRangeRebate();n.rangeRebate.push(r),g._scanRebateTmpl(r,"range")},g._getNewRangeRebate=function(){var e={beginAmount:"",endAmount:"",rebateValue:"",id:0,awardType:2,awardAmountType:0};return _.extend(e,g._createAssistVm(e,"range")),e},g._clickRemoveRebate=function(){var t=$(this).closest(".card-rebate-item").attr("id"),a=e(this).data("panelName");_.some(g[a+"CardList"].$model,function(n,r){return _.some(n.rangeRebate,function(n,i){var s,o,l;return n.$assistId==t?(s=e.getVm(t),o=e.getVm(s.$rebateSettingOpts.selectId),l=e.getVm(s.$rebateUnitOpts.selectId),$(o.widgetElement).remove(),$(l.widgetElement).remove(),delete e.vmodels[t],g[a+"CardList"][r].rangeRebate.removeAt(i),!0):void 0})})},g._createAssistVm=function(t,a){var n,r=i.cardrulesettingId+"-"+a+"-"+p;return"range"===a?n=e.define(r,function(a){e.mix(a,t),a.$assistId=r,a.$rebateSettingOpts={selectId:r+"-rebate-setting",options:[{text:"按百分比",value:2},{text:"按固定值",value:1}],onSelect:function(t){var a=e.getVm(r+"-rebate-unit");a.setOptions(2===t?[{text:"%储值",value:1},{text:"%积分",value:2}]:[{text:"储值",value:1},{text:"积分",value:2}])}},a.$rebateUnitOpts={selectId:r+"-rebate-unit",options:[{text:"%储值",value:1},{text:"%积分",value:2}]}}):"fixed"===a?n=e.define(r,function(a){e.mix(a,t),a.$assistId=r,a.$rebateSettingOpts={selectId:r+"-rebate-setting",options:[{text:"按百分比",value:2},{text:"按固定值",value:1}],onSelect:function(t){var a=e.getVm(r+"-rebate-unit");a.setOptions(2===t?[{text:"%储值",value:1},{text:"%积分",value:2}]:[{text:"储值",value:1},{text:"积分",value:2}])}},a.$rebateUnitOpts={selectId:r+"-rebate-unit",options:[{text:"%储值",value:1},{text:"%积分",value:2}]}}):"card"===a&&(n=e.define(r,function(a){e.mix(a,t),a.$assistId=r,a.$rebateTypeOpts={selectId:r+"-rebate-type",options:[{text:"固定返点",value:1},{text:"金额段",value:2}],onSelect:function(t){var n,i=f[a.$panelName+"CardList"][a.$atIndex];2===t?(i.showAmountRange=!0,e.getVm(a.$fixedAssistId).rebateValue=""):(i.showAmountRange=!1,_.each(i.rangeRebate.$model,function(t){var a=e.getVm(t.$assistId),n=e.getVm(a.$rebateSettingOpts.selectId),r=e.getVm(a.$rebateUnitOpts.selectId);$(n.widgetElement).remove(),$(r.widgetElement).remove(),delete e.vmodels[t.$assistId]}),i.rangeRebate.clear(),n=f._getNewRangeRebate(),i.rangeRebate.push(n),f._scanRebateTmpl(n,"range")),$(e.getVm(r+"-rebate-type").widgetElement).closest(".ff-value").find(".ff-value-tip").empty().removeClass("valid-error")}}})),p++,{$assistVm:n,$assistId:r}},g._scanRebateTmpl=function(t,a){var n,r,i=t.$assistId,s=t.$assistVm,o=$("#"+i);o.children().removeAttr("ms-skip").removeClass("fn-hide"),e.scan(o[0],[s]),"fixed"===a||"range"===a?(r=e.getVm(s.$rebateSettingOpts.selectId),r.selectValue(t.awardAmountType)):"card"===a&&(n=e.getVm(s.$rebateTypeOpts.selectId),n.selectValue(t.rebateType))},g.open=function(){e.getVm(u).open()},g.close=function(){e.getVm(u).close()},g.setReadonly=function(e){g.readonly=!!e},g.$init=function(){c.addClass("module-cardrulesetting"),c.html(r),e.scan(n,[f].concat(o))},g.$remove=function(){c.removeClass("module-cardrulesetting").off().empty()},g.$skipArray=["widgetElement"]});return f};return m.version=1,m.defaults={merchantId:0,onUpdateCallback:e.noop},e});

//From origin\module\cwselector\cwselector.html
define("originmodulecwselectorcwselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22courseware-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24coursewareOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22query%20input-text%22%20placeholder%3D%22%E8%AF%BE%E4%BB%B6%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22queryCourseName%22%20ms-keydown%3D%22inputEnterKey%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22courseware-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22courseware-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectCourseware%22%20ms-repeat%3D%22coursewareList%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22item-cell%20fn-left%22%3E%7B%7Bel.coursewareName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\cwselector\cwselector.css
define("originmodulecwselectorcwselectorcss", [], function () {return decodeURIComponent(".courseware-select-dialog%20.query%20%7B%0A%20%20%20%20width%3A%20200px%3B%0A%7D%0A");});

//From origin\module\cwselector\cwselector.js
define("originmodulecwselectorcwselectorjs",["avalon","util","originmodulecwselectorcwselectorhtml","originmodulecwselectorcwselectorcss","common","dialog"],function(e,t,a,n){var r=this,i=r.erp,s=$("#module-style");0===s.length&&(s=$('<style id="module-style"></style>'),s.appendTo("head"));var o=s.data("module")||{};if(!o.cwselector){try{s.html(s.html()+t.adjustModuleCssUrl(n,"cwselector/"))}catch(l){s[0].styleSheet.cssText+=t.adjustModuleCssUrl(n,"cwselector/")}o.cwselector=!0,s.data("module",o)}var d=i.module.cwselector=function(n,r,s){var o=r.cwselectorOptions,l=r.cwselectorId+"-dialog",d=$(n),c=e.define(r.cwselectorId,function(r){e.mix(r,o),r.widgetElement=n,r.dialogId=l,r.$coursewareOpts={dialogId:l,title:"选择课件",getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},coursewareList:[],queryCourseName:"",onClose:function(){var t=e.getVm(l);t.coursewareList.clear(),t.queryCourseName="",$(".list-wrapper",t.widgetElement).scrollTop(0)},onOpen:function(){var t=e.getVm(l);t.updateList()},submit:function(){var t=e.getVm(l),a=[];_.each(t.coursewareList.$model,function(e){e.isSelected&&a.push(e)}),o.onSubmit&&o.onSubmit.call(r,a),t.close()},updateList:function(){var a=e.getVm(l),n=_.str.trim(a.queryCourseName);t.c2s({url:i.BASE_PATH+"courseware/getCourseware.do",data:{coursewareName:n,pageSize:1e4,pageNumber:1},success:function(e){var t;e.flag&&(t=e.data,a.coursewareList.clear(),_.each(t.rows,function(e){var t={};_.each(_.keys(e),function(a){t[_.str.camelize(a)]=e[a]}),a.coursewareList.push(_.extend(t,{isSelected:!1}))}),o.onListReady&&o.onListReady.call(r,a.coursewareList))}})},clickQueryBtn:function(){var t=e.getVm(l);t.updateList()},inputEnterKey:function(t){var a=e.getVm(l);13==t.keyCode&&a.updateList()},selectCourseware:function(){var t=e.getVm(l),a=this.$vmodel.$model,n=a.$index;o.multi?t.coursewareList.set(n,{isSelected:!t.coursewareList[n].isSelected}):(_.each(t.coursewareList,function(e){e.isSelected=!1}),t.coursewareList.set(n,{isSelected:!0}))}},r.open=function(){e.getVm(l).open()},r.$init=function(){d.addClass("module-cwselector fn-hide"),d.html(a),e.scan(n,[c].concat(s))},r.$remove=function(){$(e.getVm(l).widgetElement).remove(),d.empty()},r.$skipArray=["widgetElement","dialogId"]});return c};return d.version=1,d.defaults={multi:!1,onListReady:e.noop,onSubmit:e.noop},e});

//From origin\module\gridpage\grid-page.js
define("originmodulegridpagegridpagejs",["avalon","util","originwidgetpaginationpaginationjs","dialog","originwidgetformformjs"],function(e,t){var a=this,n=a.erp,r={$overwrite:function(){}};return n.module.pageMod=r,_.extend(r,_.clone({$init:function(a,r){function i(a){var r=e.getVm(l),i={};a?(i.pageSize=r.perPages,i.pageNumber=1):(i.pageSize=r.perPages,i.pageNumber=r.currentPage),t.c2s({url:n.BASE_PATH+"position/list.do",data:i,success:function(e){var t;e.flag&&(t=e.data,r.total=t.totalSize,a&&(r.currentPage=1),d.gridData=t.rows,d.gridTotalSize=t.totalSize,d.gridAllChecked=!1,d.gridSelected.clear())}})}var s=r+"-add-edit-dialog",o=r+"-add-edit-form",l=r+"-pagination",d=e.define(r,function(a){a.gridTotalSize=0,a.gridData=[],a.gridAllChecked=!1,a.gridSelected=[],a.addEditState="",a.gridCheckAll=function(){this.checked?a.gridSelected=_.map(a.gridData.$model,function(e){return e.id+""}):a.gridSelected.clear()},a.scCheckAll=function(){a.gridSelected=_.map(a.gridData.$model,function(e){return e.id+""})},a.$paginationOpts={paginationId:l,total:0,onJump:function(){i()}},a.$addEditDialogOpts={dialogId:s,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},onOpen:function(){},onClose:function(){var t=e.getVm(o);t.positionName="",t.reset()},submit:function(){var r,l,d,c=e.getVm(s),u=e.getVm(o),m=a.addEditState;u.validate()&&(r=u.getFormData(),"edit"==m?(d=a.gridSelected[0],_.extend(r,{id:d}),l=n.BASE_PATH+"position/edit.do"):l=n.BASE_PATH+"position/savePosition.do",t.c2s({url:l,type:"post",data:r,success:function(e){1==e.flag&&("edit"==m?_.some(a.gridData.$model,function(e,t){return e.id==d?(a.gridData.set(t,{position_name:r.positionName}),!0):void 0}):i(!0),c.close())}}))}},a.$addEditFormOpts={formId:o,field:[{selector:".position-name",rule:["noempty",function(e,t){return t[0]!==!0?"职位名称不能为空":!0}]}],positionName:""},a.openAdd=function(){var t=e.getVm(s),n=e.getVm(o);t.title="添加职位",n.positionName="",a.addEditState="add",a.gridSelected.clear(),t.open()},a.openEdit=function(){var t=e.getVm(s),n=e.getVm(o),r=e(this),i=r.data("positionId")+"",l=r.data("positionName");t.title="编辑职位",n.positionName=l,a.addEditState="edit",a.gridSelected=[i],t.open()},a.removeGridItem=function(){var t=e(this),n=t.data("positionId")+"";a.gridSelected=[n],a._removePosition()},a.batchRemoveGridItem=function(){a._removePosition()},a._removePosition=function(){var e,r,s;0===a.gridSelected.size()?t.alert({content:"请先选中职位"}):(e=a.gridSelected.$model,1===e.length?(s=n.BASE_PATH+"position/delete.do",r={id:e[0]}):(s=n.BASE_PATH+"position/deleteMany.do",r={idString:e}),t.confirm({content:"确定要删除选中的职位吗？",onSubmit:function(){t.c2s({url:s,type:"post",data:r,success:function(e){1==e.flag&&i(!0)}})}}))},n.module.pageMod.$overwrite(a)});d.gridSelected.$watch("length",function(e){d.gridAllChecked=e===d.gridData.size()}),e.scan(a[0],[d]),i()},$remove:function(e){$(".add-edit-position-dialog .add-edit-form").remove(),$(".add-edit-position-dialog").remove(),$(".pagination",e).remove()}})),r});

//From origin\module\interview\interview.html
define("originmoduleinterviewinterviewhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-interview%22%20ms-widget%3D%22dialog%2C%24%2C%24interviewOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24interviewFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22interview-head%20fn-clear%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E5%95%86%E6%88%B7%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%7B%7Bdata.merchantName%7D%7D%3C%2Ftd%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E5%95%86%E6%88%B7%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20style%3D%22width%3A190px%22%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24merchantDutyOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22inter-contactId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E5%95%86%E6%88%B7%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-tabs%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs1%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D1%22%20ms-click%3D%22changeInterviewTabs(1)%22%3E%E5%95%86%E5%AE%B6%E4%BF%A1%E6%81%AF%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs2%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D2%22%20ms-click%3D%22changeInterviewTabs(2)%22%3E%E5%95%86%E6%88%B7%E7%8E%B0%E6%9C%89%E4%BC%98%E6%83%A0%E6%B4%BB%E5%8A%A8%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs3%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D3%22%20ms-click%3D%22changeInterviewTabs(3)%22%3E%E4%BC%9A%E5%91%98%E6%9D%83%E7%9B%8A%E6%96%B9%E6%A1%88%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs4%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D4%22%20ms-click%3D%22changeInterviewTabs(4)%22%3E%E9%97%A8%E5%BA%97%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con1%22%20ms-visible%3D%22interviewTabs%3D%3D1%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%9A%E6%80%81%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicformat%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('format'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-dicformat')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-dicformat%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%B8%9A%E6%80%81%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20ms-duplex%3D%22data.storeNumber%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E9%97%A8%E5%BA%97%E6%95%B0%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E7%9B%B4%E8%90%A5%2F%E5%8A%A0%E7%9B%9F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20class%3D%22interview-select%22%20ms-widget%3D%22select%2C%24%2C%24interviewJoinSelectOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22inter-join%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E7%9B%B4%E8%90%A5%2F%E5%8A%A0%E7%9B%9F%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%90%A5%E4%B8%9A%E9%9D%A2%E7%A7%AF%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A400%E5%B9%B3%E6%96%B9%E7%B1%B3%22%20ms-duplex%3D%22data.businessArea%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%90%A5%E4%B8%9A%E9%9D%A2%E7%A7%AF%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%BB%E8%A6%81%E5%AE%A2%E6%88%B7%E7%B1%BB%E5%9E%8B%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20class%3D%22interview-select%20schedule%22%20ms-widget%3D%22select%2C%24%2C%24interviewCustomerSelectOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22inter-customer%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%B8%BB%E8%A6%81%E5%AE%A2%E6%88%B7%E7%B1%BB%E5%9E%8B%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%97%A5%E5%9D%87%E8%90%A5%E4%B8%9A%E9%A2%9D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E5%95%86%E6%88%B7%E6%9C%AA%E5%91%8A%E7%9F%A5%22%20ms-duplex%3D%22data.dailyTurnover%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%97%A5%E5%9D%87%E8%90%A5%E4%B8%9A%E9%A2%9D%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E6%97%A5%E5%9D%87%E6%94%B6%E9%93%B6%E7%AC%94%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.cashCountPerDay%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E6%97%A5%E5%9D%87%E6%94%B6%E9%93%B6%E7%AC%94%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E9%97%A8%E5%BA%97%E6%97%A5%E5%9D%87%E6%94%B6%E9%93%B6%E7%AC%94%E6%95%B0%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.perOrder%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BA%BA%E5%9D%87%E6%B6%88%E8%B4%B9%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.perCapita%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E4%BA%BA%E5%9D%87%E6%B6%88%E8%B4%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E4%BA%BA%E5%9D%87%E6%B6%88%E8%B4%B9%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%8A%E4%BC%A0logo%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20class%3D%22merchant-logo%22%3E%3Cimg%20ms-src%3D%22data.relativePath%22%3E%3C%2Fdiv%3E%3Cdiv%20ms-visible%3D%22!readonly%22%20class%3D%22merchant-logo-select%22%20ms-widget%3D%22uploader%2C%24%2C%24uploadLogOpts%22%3E%3Cbutton%20ms-if%3D%22!uploading%22%20class%3D%22simple-btn%22%3E%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%87%3C%2Fbutton%3E%20%3Cbutton%20ms-if%3D%22uploading%22%20class%3D%22simple-btn-disabled%22%3E%E6%AD%A3%E5%9C%A8%E4%B8%8A%E4%BC%A0%26%238230%3B%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20ms-value%3D%22data.relativePath%22%20class%3D%22inter-logo%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E4%B8%8A%E4%BC%A0LOGO%E5%9B%BE%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con2%22%20ms-visible%3D%22interviewTabs%3D%3D2%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20colspan%3D%222%22%20align%3D%22center%22%3E%E5%88%97%E5%87%BA%E6%AD%A3%E5%9C%A8%E5%BC%80%E5%B1%95%E6%88%96%E5%8D%B3%E5%B0%86%E5%BC%80%E5%B1%95%E7%9A%84%E4%BC%98%E6%83%A0%E6%B4%BB%E5%8A%A8%E3%80%81%E6%B4%BB%E5%8A%A8%E9%97%A8%E5%BA%97%EF%BC%8C%E6%B4%BB%E5%8A%A8%E6%9C%89%E6%95%88%E6%9C%9F%EF%BC%8C%E5%8F%82%E4%B8%8E%E4%BA%BA%E6%95%B0%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%9B%A2%E8%B4%AD%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E6%9A%82%E6%97%A0%22%20ms-duplex%3D%22data.groupPurchase%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%9B%A2%E8%B4%AD%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%98%E6%83%A0%E5%88%B8%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E4%B8%81%E4%B8%81%E4%BC%98%E6%83%A07.9%22%20ms-duplex%3D%22data.coupon%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%BC%98%E6%83%A0%E5%88%B8%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%93%B6%E8%A1%8C%E5%8D%A1%E4%BC%98%E6%83%A0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E9%93%B6%E8%A1%8C%E5%8D%A1%EF%BC%8C%E4%BA%A4%E9%80%9A%E9%93%B6%E8%A1%8C%E8%8F%9C%E5%93%818.5%E6%8A%98%22%20ms-duplex%3D%22data.bankCardOffer%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%93%B6%E8%A1%8C%E5%8D%A1%E4%BC%98%E6%83%A0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%85%B6%E4%BB%96%E5%BA%97%E5%86%85%E4%BC%98%E6%83%A0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E7%82%B9%E8%AF%84%E7%94%B5%E5%AD%90%E4%BC%9A%E5%91%98%E5%8D%A188%E6%8A%98%22%20ms-duplex%3D%22data.otherShopDiscount%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%85%B6%E4%BB%96%E5%BA%97%E5%86%85%E4%BC%98%E6%83%A0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con3%22%20ms-visible%3D%22interviewTabs%3D%3D3%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%8E%9F%E6%9C%89%E4%BC%9A%E5%91%98%E5%8D%A1%E5%90%84%E7%B1%BB%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicCardType%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('cardType'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-diccardtype')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-diccardtype%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E5%8E%9F%E6%9C%89%E4%BC%9A%E5%91%98%E5%8D%A1%E5%90%84%E7%B1%BB%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%9A%E5%91%98%E5%8D%A1%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicMemberSys%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('managementSystem'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-membersys')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-membersys%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%BC%9A%E5%91%98%E5%8D%A1%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%9A%E5%91%98%E6%9D%83%E7%9B%8A%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeedMemberRight%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('memberRight'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-right')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-right%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%BC%9A%E5%91%98%E6%9D%83%E7%9B%8A%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%B7%B2%E5%8F%91%E5%8D%A1%E6%95%B0%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A12%22%20ms-duplex%3D%22data.sendCardNumber%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E5%B7%B2%E5%8F%91%E5%8D%A1%E6%95%B0%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E5%B7%B2%E5%8F%91%E5%8D%A1%E6%95%B0%E9%87%8F%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%BD%9C%E5%AE%A2%E6%9D%A5%E6%BA%90%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20ms-duplex%3D%22data.potentialCustomerSource%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%BD%9C%E5%AE%A2%E6%9D%A5%E6%BA%90%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%BD%9C%E5%AE%A2%E6%95%B0%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A12%22%20ms-duplex%3D%22data.potentialCustomerNum%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E6%BD%9C%E5%AE%A2%E6%95%B0%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E6%BD%9C%E5%AE%A2%E6%95%B0%E9%87%8F%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E%3C%2Fspan%3E%E4%B8%8A%E4%BC%A0%E7%94%B5%E5%AD%90%E6%96%87%E6%A1%A3%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%3E%3Cspan%20class%3D%22inter-upfile%22%20ms-if%3D%22data.attachDocument.originalFileName%22%3E%7B%7Bdata.attachDocument.originalFileName%7D%7D%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20ms-visible%3D%22!readonly%22%20class%3D%22merchant-logo-select%22%20ms-widget%3D%22uploader%2C%24%2C%24uploadFile%22%3E%3Cbutton%20ms-if%3D%22!uploading%22%20class%3D%22simple-btn%22%3E%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6%3C%2Fbutton%3E%20%3Cbutton%20ms-if%3D%22uploading%22%20class%3D%22simple-btn-disabled%22%3E%E6%AD%A3%E5%9C%A8%E4%B8%8A%E4%BC%A0%26%238230%3B%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con4%22%20ms-visible%3D%22interviewTabs%3D%3D4%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkCondition%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22networkCondition%22%20ms-click%3D%22isChecked('networkCondition'%2C%26quot%3Bradio%26quot%3B%2C'inter-dicNetworkCondition')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-dicNetworkCondition%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeed%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22networkSpeed%22%20ms-click%3D%22isChecked('networkSpeed'%2C%26quot%3Bradio%26quot%3B%2C'inter-dicNetworkSpeed')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-dicNetworkSpeed%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin\module\interview\interview.css
define("originmoduleinterviewinterviewcss", [], function () {return decodeURIComponent(".module-interview%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-interview%20.f-body%20%7B%0A%20%20%20%20max-height%3A%20400px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%7D%0A.module-interview%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-interview%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%7D%0A.module-interview%20.interview-select%20%7B%0A%20%20%20%20width%3A%20400px%3B%0A%7D%0A.module-interview%20.merchant-logo%20%7B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20margin-bottom%3A%2010px%3B%0A%7D%0A.module-interview%20.merchant-logo%20img%20%7B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-interview%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-interview%20.interview-head%20%7B%0A%20%20%20%20padding%3A%2015px%200%3B%0A%7D%0A.module-interview%20.interview-head%20table%20th%20%7B%0A%20%20%20%20padding%3A%205px%200%3B%0A%7D%0A%0A.module-interview%20.research-tabs%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A45px%3B%0A%20%20%20%20background%3A%20%23ECF6FF%3B%0A%7D%0A.module-interview%20.research-tabs%20td%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-interview%20.research-tabs%20p%20%7B%0A%20%20%20%20height%3A%2045px%3B%0A%20%20%20%20line-height%3A%2045px%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-interview%20.research-tabs%20p.cur%20%7B%0A%20%20%20%20border-top%3A%204px%20solid%20%235EA9E0%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20color%3A%20%235EA9E0%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%7D%0A.module-interview%20.label-check-radio%20%7B%0A%20%20%20%20margin%3A%200%2015px%2010px%200%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20min-width%3A%20100px%3B%0A%7D%0A.module-interview%20.research-con%20%7B%0A%20%20%20%20padding%3A%2020px%205px%3B%0A%7D%0A.module-interview%20.research-con%20td%20%7B%0A%20%20%20%20padding-bottom%3A%2010px%3B%0A%7D%0A.module-interview%20.research-left%20%7B%0A%20%20%20%20padding-left%3A%2010px%3B%0A%20%20%20%20width%3A%20150px%3B%0A%7D%0A.module-interview%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-interview%20.research-input%20%7B%0A%20%20%20%20width%3A%20390px%3B%0A%7D%0A.module-interview%20.inter-upfile%20%7B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20line-height%3A%2030px%3B%0A%7D%0A.module-interview%20.f-body%20%7B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%7D");});

//From origin\module\interview\interview.js
define("originmoduleinterviewinterviewjs",["avalon","util","json","moment","originmoduleinterviewinterviewhtml","originmoduleinterviewinterviewcss","common","dialog","originwidgetformformjs","originwidgetformselectjs"],function(e,t,a,n,i,r){var s=this,o=s.erp,l=$("#module-style");0===l.length&&(l=$('<style id="module-style"></style>'),l.appendTo("head"));var d=l.data("module")||{};if(!d.interview){try{l.html(l.html()+t.adjustModuleCssUrl(r,"interview/"))}catch(c){l[0].styleSheet.cssText+=t.adjustModuleCssUrl(r,"interview/")}d.interview=!0,l.data("module",d)}var u=o.module.interview=function(n,r,s){var l=r.interviewOptions,d=$(n),c=r.interviewId+"-dialog",u=r.interviewId+"-form",m=r.interviewId+"-duty",p=r.interviewId+"-join",f=r.interviewId+"-customer",g=r.interviewId+"-logo",v=r.interviewId+"-file",h=e.define(r.interviewId,function(r){e.mix(r,l),r.interviewTabs=1,r.changeInterviewTabs=function(e){r.interviewTabs=e,$(this).removeClass("warn")},r.argv=m,r.dicformat=[],r.dicCardType=[],r.dicMemberSys=[],r.dicNetworkSpeedMemberRight=[],r.dicNetworkCondition=[],r.dicNetworkSpeed=[],r.requestData={},r.data={merchantId:"",merchantName:r.merchantName,contactId:"",format:[],storeNumber:"",joinType:"",businessArea:"",customerType:"",dailyTurnover:"",cashCountPerDay:"",perOrder:"",perCapita:"",groupPurchase:"",coupon:"",bankCardOffer:"",otherShopDiscount:"",cardType:[],managementSystem:[],memberRight:[],sendCardNumber:"",potentialCustomerSource:"",potentialCustomerNum:"",networkCondition:"",networkSpeed:"",attachDocument:{},attachmentId:"",moduleType:"",fileName:"",originalFileName:"",relativePath:"",fileSize:0},r.$merchantDutyOpts={selectId:m,options:[],getTemplate:function(e){var t=e.split("MS_OPTION_HEADER");return e='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" ms-click=addCommunication(argv) href="javascript:;">添加联系人</a></li></ul>',t[0]+e},onSelect:function(a){var n=$(".inter-contactId").val();if(r.data.contactId=a,"first"==n)$(".inter-contactId").val(a);else{$(".inter-contactId").val(a);var i=e.getVm(c);t.testing($(i.widgetElement)[0],$(".inter-contactId"))}}},r.$interviewJoinSelectOpts={selectId:p,options:[],onSelect:function(a){var n=$(".inter-join").val();if(r.data.joinType=a,"first"==n)$(".inter-join").val(a);else{$(".inter-join").val(a);var i=e.getVm(c);t.testing($(i.widgetElement)[0],$(".inter-join"))}}},r.$interviewCustomerSelectOpts={selectId:f,options:[],onSelect:function(a){var n=$(".inter-customer").val();if(r.data.customerType=a,"first"==n)$(".inter-customer").val(a);else{$(".inter-customer").val(a);var i=e.getVm(c);t.testing($(i.widgetElement)[0],$(".inter-customer"))}}},r.$interviewFormOpts={formId:u},r.$uploadLogOpts={uploaderId:g,uploadifyOpts:{uploader:o.BASE_PATH+"synMerchant/uploadLogo.do",fileObjName:"myfiles",multi:!1,fileTypeDesc:"上传附件(*.*)",fileTypeExts:"*.jpg; *.png; *.gif",formData:function(){return{sessionId:r.sessionId,merchantId:r.data.merchantId}},width:140,height:30},onSuccessResponseData:function(n){if(n=a.parse(n),n.flag){var i=n.data[0],s=r.data;s.fileName=i.fileName,s.originalFileName=i.originalFileName,s.fileSize=i.fileSize,s.relativePath=i.relativePath,$(".inter-logo").val(i.relativePath);var o=e.getVm(c);t.testing($(o.widgetElement)[0],$(".inter-logo"))}}},r.$uploadFile={uploaderId:v,uploadifyOpts:{uploader:o.BASE_PATH+"mktBrandInterview/uploadAttachment.do",fileObjName:"myfile",multi:!1,fileTypeDesc:"上传附件(*.*)",fileTypeExts:"*.*",formData:function(){return{sessionId:r.sessionId}},width:140,height:30},onSuccessResponseData:function(e){if(e=a.parse(e),e.flag){var t=e.data;r.data.attachmentId=t.id,r.data.attachDocument.originalFileName=t.originalFileName}}},r.$interviewOpts={dialogId:c,width:670,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">保&nbsp;存</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">关&nbsp;闭</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},onOpen:function(){},onClose:function(){var a=e.getVm(u),n=e.getVm(c);t.testCancel($(n.widgetElement)[0]),$(".inter-contactId").val("first"),$(".inter-join").val("first"),$(".inter-customer").val("first");for(var i=1;4>=i;i++)$(".inter-tabs"+i,$(n.widgetElement)).removeClass("warn");a.reset(),_.each(r.data.$model,function(e,t){r.data[t]=""})},submit:function(){var n=!0,i=e.getVm(c);n=t.testing($(i.widgetElement)[0]);for(var s=1;4>=s;s++)$(".inter-con"+s+" .valid-error-field").length?$(".inter-tabs"+s).addClass("warn"):$(".inter-tabs"+s).removeClass("warn");$(".inter-tabs"+r.surveyTabs).removeClass("warn"),n&&(r.data.merchantId=r.merchantId,r.data.moduleType=r.moduleType,r.data.networkCondition instanceof Array&&(r.data.networkCondition=r.data.networkCondition.join()),r.data.networkSpeed instanceof Array&&(r.data.networkSpeed=r.data.networkSpeed.join()),t.c2s({url:o.BASE_PATH+"mktBrandInterview/saveMktBrandInterview.do",type:"post",contentType:"application/json",data:a.stringify(r.data.$model),success:function(t){if(1==t.flag){var a=e.getVm(c);a.close(),r.callFn(t)}}}))}},r.open=function(){t.c2s({url:o.BASE_PATH+"mktBrandInterview/loadMktBrandInterview.do",type:"post",contentType:"application/json",data:a.stringify(r.requestData.$model),success:function(t){var a;if(1==t.flag){a=t.data;var n=r.data;n.attachDocument="object"==typeof a.attachDocument?a.attachDocument:{originalFileName:""},n.attachmentId=a.attachmentId,n.moduleType="",n.fileName=a.fileName,n.originalFileName=a.originalFileName,n.fileSize=a.fileSize,n.relativePath=a.relativePath,n.merchantName=a.merchantName,n.storeNumber=a.storeNumber,n.businessArea=a.businessArea,n.dailyTurnover=a.dailyTurnover,n.cashCountPerDay=a.cashCountPerDay,n.perOrder=a.perOrder,n.perCapita=a.perCapita,n.groupPurchase=a.groupPurchase,n.coupon=a.coupon,n.bankCardOffer=a.bankCardOffer,n.otherShopDiscount=a.otherShopDiscount,n.sendCardNumber=a.sendCardNumber,n.potentialCustomerSource=a.potentialCustomerSource,n.potentialCustomerNum=a.potentialCustomerNum;for(var i={checkedVals:a.selectedContact.checkedVals,dropdownlist:[]},s=0;s<a.selectedContact.dropdownlist.length;s++){var o={text:a.selectedContact.dropdownlist[s].name,value:a.selectedContact.dropdownlist[s].id};i.dropdownlist.push(o)}r.setSelectCon({obj:i.dropdownlist,vals:i.checkedVals},{name:m}),r.setCheckRadio({obj:a.dicFormat.dicObject,vals:a.dicFormat.checkedVals},{sendData:"format",showData:"dicformat",className:"inter-dicformat"}),r.setCheckRadio({obj:a.dicCardType.dicObject,vals:a.dicCardType.checkedVals},{sendData:"cardType",showData:"dicCardType",className:"inter-diccardtype"}),r.setCheckRadio({obj:a.dicMagSystem.dicObject,vals:a.dicMagSystem.checkedVals},{sendData:"managementSystem",showData:"dicMemberSys",className:"inter-membersys"}),r.setCheckRadio({obj:a.dicMemberRight.dicObject,vals:a.dicMemberRight.checkedVals},{sendData:"memberRight",showData:"dicNetworkSpeedMemberRight",className:"inter-right"}),r.setCheckRadio({obj:a.dicNetworkCondition.dicObject,vals:a.dicNetworkCondition.checkedVals},{sendData:"networkCondition",showData:"dicNetworkCondition",className:"inter-dicNetworkCondition"}),r.setCheckRadio({obj:a.dicNetworkSpeed.dicObject,vals:a.dicNetworkSpeed.checkedVals},{sendData:"networkSpeed",showData:"dicNetworkSpeed",className:"inter-dicNetworkSpeed"}),r.setSelectCon({obj:a.dicJoinType.dicObject,vals:a.dicJoinType.checkedVals},{name:p}),r.setSelectCon({obj:a.dicCustomerType.dicObject,vals:a.dicCustomerType.checkedVals},{name:f}),e.getVm(c).title="商户访谈单",r.interviewTabs=1,e.getVm(c).open(),r.readonly&&r.setRead()}}})},r.setCheckRadio=function(t,a){if(t.vals instanceof Array)for(var n=0;n<t.obj.length;n++){t.obj[n].isSelect=0;for(var i=0;i<t.vals.length;i++)t.obj[n].value==t.vals[i]&&(t.obj[n].isSelect=1)}else{if("string"!=typeof t.vals)return void alert(t.vals+"-类型有问题！");for(var n=0;n<t.obj.length;n++)t.obj[n].isSelect=0,t.obj[n].value==t.vals&&(t.obj[n].isSelect=1)}var s=e.getVm(c);$("."+a.className,s.widgetElement).val(t.vals),r.data[a.sendData]=t.vals,r[a.showData]=t.obj},r.setSelectCon=function(t,a){t.obj.unshift({value:"",text:"请选择"}),e.getVm(a.name).setOptions(t.obj),t.vals instanceof Array?""!==t.vals[0]&&e.getVm(a.name).selectValue(t.vals[0],!0):"string"==typeof t.vals||"number"==typeof t.vals?""!==t.vals&&e.getVm(a.name).selectValue(t.vals,!0):alert(t.vals+"-类型有问题！")},r.isChecked=function(a,n,i){var s=this.value,o=$(this)[0].checked,l=!0;if("checkbox"==n){var d=r.data[a];if(o)if(d.length){for(var u=0;u<d.length;u++)d[u]==s&&(l=!1);l&&d.push(s)}else d.push(s);else if(d.length)for(var u=0;u<d.length;u++)d[u]==s&&d.splice(u,1);$("."+i).val(r.data[a].$model)}else"radio"==n&&(r.data[a]=s,$("."+i).val(r.data[a]));var m=e.getVm(c);t.testing($(m.widgetElement)[0],$("."+i))},r.setRead=function(){var t=e.getVm(c);$("input",t.widgetElement).prop("disabled",!0),$("span",t.widgetElement).off("click"),$("object",t.widgetElement).hide()},r.$init=function(){d.addClass("module-interview"),d.html(i),e.scan(n,[h].concat(s))},r.$remove=function(){$(e.getVm(c).widgetElement).remove(),d.removeClass("module-interview").off().empty()}});return h};return u.defaults={moduleType:"",sessionId:"",readonly:"",merchantId:"",callFn:e.noop},e});

//From origin\module\organization\organization.html
define("originmoduleorganizationorganizationhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22node-tree%20fn-clear%22%3E%3Cdiv%20class%3D%22module-organization-action-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24dialogOpts%22%3E%3Cform%20class%3D%22action-form%22%20ms-widget%3D%22form%2C%24%2C%24formOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E7%BB%84%E7%BB%87%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22input-text%20organization-id%22%20name%3D%22organization_id%22%20ms-value%3D%22organizationId%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20organization-name%22%20name%3D%22group_name%22%20ms-value%3D%22organizationName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E%3C%2Fdiv%3EMS_OPTION_MODULE%3Cdiv%20class%3D%22MS_VAR_NODE_TEXT_CLS%20node-text%20fn-left%22%20ms-mousedown%3D%22showContextMenu%22%20data-organization-id%3D%22MS_VAR_ORGANIZATION_ID%22%20data-organization-name%3D%22MS_VAR_ORGANIZATION_NAME%22%3E%3Cdiv%20class%3D%22node-text-inner%22%3E%3Cspan%20class%3D%22connect-line-left%22%3E%3C%2Fspan%3E%3Ci%20class%3D%22visible-h%20iconfont%22%20ms-click%3D%22clickNode%22%3E%26%23xe600%3B%3C%2Fi%3E%26nbsp%3B%3Cspan%20class%3D%22text-name%22%3EMS_VAR_GROUP_NAME%3C%2Fspan%3E%3Cspan%20class%3D%22connect-line-right%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3EMS_OPTION_CONTEXT_MENU%3Cul%20class%3D%22organization-context-menu%22%3E%3Cli%20class%3D%22add-same-level-item%20context-item%22%20data-action-type%3D%22addSameLevel%22%3E%E6%B7%BB%E5%8A%A0%E5%90%8C%E7%BA%A7%E9%83%A8%E9%97%A8%3C%2Fli%3E%3Cli%20class%3D%22context-item%22%20data-action-type%3D%22addNextLevel%22%3E%E6%B7%BB%E5%8A%A0%E5%AD%90%E7%BA%A7%E9%83%A8%E9%97%A8%3C%2Fli%3E%3Cli%20class%3D%22context-item%22%20data-action-type%3D%22renameNode%22%3E%E9%87%8D%E5%91%BD%E5%90%8D%3C%2Fli%3E%3Cli%20class%3D%22remove-node-item%20context-item%22%20data-action-type%3D%22removeNode%22%3E%E5%88%A0%E9%99%A4%E9%83%A8%E9%97%A8%3C%2Fli%3E%3C%2Ful%3E");});

//From origin\module\organization\organization.css
define("originmoduleorganizationorganizationcss", [], function () {return decodeURIComponent(".module-organization%20%7B%0A%20%20%20%20overflow%3A%20auto%3B%0A%7D%0A%2F*.module-organization%20.node-tree%20%7B%0A%20%20%20%20width%3A%2010000px%3B%0A%7D*%2F%0A.module-organization%20.node-text%20%7B%0A%20%20%20%20height%3A%2034px%3B%0A%20%20%20%20line-height%3A%2034px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20font-weight%3A%20bold%3B%0A%7D%0A.module-organization%20.node-text%20.visible-h%20%7B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-organization%20.node-text-inner%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-organization%20.connect-line-right%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20left%3A%20100%25%3B%0A%20%20%20%20margin-top%3A%20-2px%3B%0A%20%20%20%20width%3A%2046px%3B%0A%20%20%20%20height%3A%204px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%7D%0A.module-organization%20.connect-line-left%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20left%3A%20-8px%3B%0A%20%20%20%20margin-top%3A%20-2px%3B%0A%20%20%20%20width%3A%208px%3B%0A%20%20%20%20height%3A%204px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%7D%0A.module-organization%20.root-node-text%20.node-text-inner%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-organization%20.node-text%20.node-text-inner%20%7B%0A%20%20%20%20padding%3A%200%208px%3B%0A%7D%0A.module-organization%20.node-list%20%7B%0A%20%20%20%20border-left%3A%204px%20solid%20%2376a9e0%3B%0A%20%20%20%20margin-left%3A%2046px%3B%0A%20%20%20%20padding-left%3A%208px%3B%0A%7D%0A.module-organization%20.node-item%20%7B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%7D%0A.module-organization%20.node-item-last%20%7B%0A%20%20%20%20margin-bottom%3A%200%3B%0A%7D%0A.module-organization%20.root-node-text%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20line-height%3A%2080px%3B%0A%20%20%20%20border%3A%205px%20solid%20%2376a9e0%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20color%3A%20%23393939%3B%0A%20%20%20%20border-radius%3A%2045px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A.module-organization%20.root-node-text%20.connect-line-right%20%7B%0A%20%20%20%20width%3A%2052px%3B%0A%7D%0A.module-organization%20.root-node-text%20.visible-h%2C%0A.module-organization%20.root-node-text%20.connect-line-left%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-organization%20.leaf-node-text%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20font-weight%3A%20normal%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%7D%0A.module-organization%20.leaf-node-text%20.connect-line-right%2C%0A.module-organization%20.leaf-node-text%20.visible-h%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-organization%20.state-contract%20.connect-line-right%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.organization-context-menu%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e9e9e9%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20box-shadow%3A%20%201px%202px%202px%20%23e9e9e9%3B%0A%7D%0A.organization-context-menu%20.context-item%20%7B%0A%20%20%20%20width%3A%20178px%3B%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%20%20%20%20padding%3A%200%208px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23e9e9e9%3B%0A%20%20%20%20text-indent%3A%2020px%3B%0A%20%20%20%20background%3A%20%23eef6ff%3B%0A%20%20%20%20color%3A%20%23393939%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-organization-action-dialog%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.module-organization-action-dialog%20.organization-name%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin\module\organization\organization.js
define("originmoduleorganizationorganizationjs",["avalon","util","json","originmoduleorganizationorganizationhtml","originmoduleorganizationorganizationcss","common"],function(e,t,a,n,i){var r=this,o=r.erp,s=$("#module-style");0===s.length&&(s=$('<style id="module-style"></style>'),s.appendTo("head"));try{s.html(s.html()+t.adjustModuleCssUrl(i,"organization/"))}catch(l){s[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"organization/")}var d,c,u,m;n=n.split("MS_OPTION_MODULE"),d=n[0],m=n[1].split("MS_OPTION_CONTEXT_MENU"),c=m[0],u=m[1];var p=o.module.organization=function(n,i,r){var s=i.organizationOptions,l=$(n),m=$(".organization-context-menu"),p=i.organizationId+"-dialog",f=i.organizationId+"-form";0===m.length&&(m=$(u),m.appendTo("body"),m.on("click",".context-item",function(){var e=$(this),t=e.data("actionType");g.actionType=t,g[t](),m.hide()}).on("mousedown",function(e){e.stopPropagation()}),$("body").on("mousedown",function(){m.hide()})),n.oncontextmenu=function(){return!1};var g=e.define(i.organizationId,function(i){e.mix(i,s),i.widgetElement=n,i.nodeTextSelected=null,i.actionType="",i.addSameLevel=function(){var t=e.getVm(p);t.title="添加同级部门",t.open()},i.addNextLevel=function(){var t=e.getVm(p);t.title="添加子级部门",t.open()},i.renameNode=function(){var t=e.getVm(p),a=e.getVm(f),n=i.nodeTextSelected;a.organizationName=n.data("organizationName"),t.title="重命名",t.open()},i.removeNode=function(){var e=i.nodeTextSelected.data("organizationId");t.confirm({content:"确定要删除选中的部门吗？",onSubmit:function(){t.c2s({url:o.BASE_PATH+"group/deleteGroup/"+e+".do",type:"get",success:function(e){1==e.flag&&(t.alert({content:e.message,iconType:"success"}),i.forceRefresh(i.getParentNodeText()))}})}})},i.appendNode=function(t,a){var n,o=$(t),s=o.next(".node-list");0===s.length&&(s=$('<ul class="node-list fn-left"></ul>'),s.insertAfter(o)),n=c.replace("MS_VAR_GROUP_NAME",a.groupName),n=n.replace("MS_VAR_NODE_TEXT_CLS","state-contract leaf-node-text"),n=n.replace("MS_VAR_ORGANIZATION_ID",a.id),n=n.replace("MS_VAR_ORGANIZATION_NAME",a.groupName),s.append('<li class="node-item fn-clear">'+n+"</li>"),o.hasClass("state-contract")&&($(".visible-h",o).html("&#xe601;"),o.removeClass("state-contract").addClass("state-expend")),o.removeClass("leaf-node-text"),e.scan(s[0],[g].concat(r)),i.adjustWidth()},i.$dialogOpts={dialogId:p,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},onClose:function(){var t=e.getVm(f);t.organizationName="",t.reset()},submit:function(){var n,r,s=e.getVm(p),l=e.getVm(f),d=i.actionType;l.validate()&&(n=l.getFormData(),"addSameLevel"==d?(r=o.BASE_PATH+"group/addSameLevel.do",_.extend(n,{id:i.getParentNodeText().data("organizationId")})):"addNextLevel"==d?(r=o.BASE_PATH+"group/addNextLevel.do",_.extend(n,{id:i.nodeTextSelected.data("organizationId")})):"renameNode"==d&&(r=o.BASE_PATH+"group/renameGroup.do",_.extend(n,{id:i.nodeTextSelected.data("organizationId")})),t.c2s({url:r,data:a.stringify(n),contentType:"application/json",success:function(e){1==e.flag&&("addSameLevel"==d?i.appendNode(i.nodeTextSelected.closest(".node-list").prev(".node-text"),{id:e.data,groupName:n.groupName}):"addNextLevel"==d?i.forceRefresh():"renameNode"==d&&($(".text-name",i.nodeTextSelected).text(n.groupName),i.nodeTextSelected.data("organizationName",n.groupName)),s.close())}}))}},i.$formOpts={formId:f,field:[{selector:".organization-name",name:"groupName",rule:["noempty",function(e,t){return t[0]!==!0?"组织名称不能为空":!0}]},{selector:".organization-id",name:"id"}],organizationName:""},i.showContextMenu=function(e){var t,a,n=$(this);3===e.which&&(t=n.outerWidth(),a=n.offset(),m.css({top:a.top+"px",left:a.left+t+"px"}),i.nodeTextSelected=n,n.hasClass("root-node-text")?$(".add-same-level-item",m).hide():$(".add-same-level-item",m).show(),n.hasClass("leaf-node-text")?$(".remove-node-item",m).show():$(".remove-node-item",m).hide(),m.show(),e.stopPropagation())},i.redraw=function(){var i=function(e,t){var a=c.replace("MS_VAR_GROUP_NAME",e.groupName),n="";return _.isUndefined(t)&&(n="root-node-text"),e.isLeaf&&(n="leaf-node-text"),n+=e.children&&e.children.length>0?" state-expend":" state-contract",a=a.replace("MS_VAR_NODE_TEXT_CLS",n),a=a.replace("MS_VAR_ORGANIZATION_ID",e.id),a=a.replace("MS_VAR_ORGANIZATION_NAME",e.groupName),e.children&&e.children.length>0&&(a+='<ul class="node-list fn-left">',_.each(e.children,function(e){a+='<li class="node-item fn-clear">'+i(e,!1)+"</li>"}),a+="</ul>"),a};l.html(d),t.c2s({url:o.BASE_PATH+"group/getSysGroupsByParentId.do",data:a.stringify({parentId:1,groupName:"总裁办"}),contentType:"application/json",success:function(t){t.flag&&($(".node-tree",l).html(i(t.data)),e.scan(n,[g].concat(r)))}},{mask:!1})},i.getParentNodeText=function(e){var t=e?$(e):i.nodeTextSelected;return t.closest(".node-list").prev(".node-text")},i.forceRefresh=function(e){var t=e?$(e):i.nodeTextSelected;t.length&&(t.removeClass("state-expend").removeClass("leaf-node-text").addClass("state-contract"),t.next(".node-list").remove(),$(".visible-h",t).click())},i.clickNode=function(){var n=$(this),s=n.closest(".node-text"),l=s.next(".node-list");if(s.hasClass("state-contract")){if(0===l.length){l=$('<ul class="node-list fn-left"></ul>'),l.insertAfter(s);var d={parentId:e(s[0]).data("organizationId"),groupName:$(".text-name",s).text()};t.c2s({url:o.BASE_PATH+"group/getSysGroupsByParentId.do",data:a.stringify(d),contentType:"application/json",success:function(t){var a,n="";t.flag&&(a=t.data.children,a.length?(_.each(a,function(e){var t="",a="state-contract";e.isLeaf&&(a+=" leaf-node-text"),t=c.replace("MS_VAR_GROUP_NAME",e.groupName),t=t.replace("MS_VAR_NODE_TEXT_CLS",a),t=t.replace("MS_VAR_ORGANIZATION_ID",e.id),t=t.replace("MS_VAR_ORGANIZATION_NAME",e.groupName),n+='<li class="node-item fn-clear">'+t+"</li>"}),l.html(n),e.scan(l[0],[g].concat(r))):s.addClass("leaf-node-text"),i.adjustWidth())}},{mask:!1})}else l.show(),i.adjustWidth();n.html("&#xe601;"),s.removeClass("state-contract").addClass("state-expend")}else l.hide(),n.html("&#xe600;"),s.removeClass("state-expend").addClass("state-contract"),i.adjustWidth()},i.adjustWidth=function(){var e=$(".node-tree",l),t=e.children(".root-node-text"),a=e.children(".node-list");e.width(1e4),e.width(t.outerWidth()+a.outerWidth(!0))},i.$init=function(){l.addClass("module-organization"),i.redraw(),e.scan(n,[g].concat(r))},i.$remove=function(){},i.$skipArray=["widgetElement","nodeTextSelected"]});return g};return p.version=1,p.defaults={},e});

//From origin\module\positionselector\positionselector.html
define("originmodulepositionselectorpositionselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-positionselector-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24positionOpts%22%3E%3Cdiv%20class%3D%22position-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22position-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectPosition%22%20ms-repeat%3D%22positionList%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22item-cell%20fn-left%22%3E%7B%7Bel.positionName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\positionselector\positionselector.css
define("originmodulepositionselectorpositionselectorcss", [], function () {return decodeURIComponent(".module-positionselector-dialog%20.query%20%7B%0A%20%20%20%20width%3A%20200px%3B%0A%7D%0A");});

//From origin\module\positionselector\positionselector.js
define("originmodulepositionselectorpositionselectorjs",["avalon","util","json","originmodulepositionselectorpositionselectorhtml","originmodulepositionselectorpositionselectorcss","common","dialog"],function(e,t,a,n,i){var r=this,o=r.erp,s=$("#module-style");0===s.length&&(s=$('<style id="module-style"></style>'),s.appendTo("head"));var l=s.data("module")||{};if(!l.positionselector){try{s.html(s.html()+t.adjustModuleCssUrl(i,"positionselector/"))}catch(d){s[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"positionselector/")}l.positionselector=!0,s.data("module",l)}var c=o.module.positionselector=function(i,r,s){var l=r.positionselectorOptions,d=r.positionselectorId+"-dialog",c=$(i),u=e.define(r.positionselectorId,function(r){e.mix(r,l),r.widgetElement=i,r.dialogId=d,r.$positionOpts={dialogId:d,title:"选择职位",getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},positionList:[],onClose:function(){var t=e.getVm(d);$(".list-wrapper",t.widgetElement).scrollTop(0),t.positionList.clear()},onOpen:function(){var t=e.getVm(d);t.updateList()},submit:function(){var t=e.getVm(d),a=[];_.each(t.positionList.$model,function(e){e.isSelected&&a.push(e)}),l.onSubmit&&l.onSubmit.call(r,a),t.close()},updateList:function(){var n=e.getVm(d),i=l.onListRequestData.call(r,{pageSize:1e4,pageNumber:1});t.c2s({url:o.BASE_PATH+"studentManagement/queryPosition.do",data:a.stringify(i),contentType:"application/json",success:function(e){var t;e.flag&&(t=e.data,n.positionList.clear(),_.each(t,function(e){var t={};_.each(_.keys(e),function(a){t[_.str.camelize(a)]=e[a]}),n.positionList.push(_.extend(t,{isSelected:!1}))}),l.onListReady&&l.onListReady.call(r,n.positionList))}})},clickQueryBtn:function(){var t=e.getVm(d);t.updateList()},inputEnterKey:function(t){var a=e.getVm(d);13==t.keyCode&&a.updateList()},selectPosition:function(){var t=e.getVm(d),a=this.$vmodel.$model,n=a.$index;l.multi?t.positionList.set(n,{isSelected:!t.positionList[n].isSelected}):(_.each(t.positionList,function(e){e.isSelected=!1}),t.positionList.set(n,{isSelected:!0}))}},r.open=function(){e.getVm(d).open()},r.$init=function(){c.addClass("module-positionselector fn-hide"),c.html(n),e.scan(i,[u].concat(s))},r.$remove=function(){$(e.getVm(d).widgetElement).remove(),c.removeClass("module-positionselector").off().empty()},r.$skipArray=["widgetElement","dialogId"]});return u};return c.version=1,c.defaults={multi:!1,onListRequestData:function(e){return e},onListReady:e.noop,onSubmit:e.noop},e});

//From origin\module\pptplayer\pptplayer.html
define("originmodulepptplayerpptplayerhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-ppt-player%20fn-left%22%3E%3Cimg%20ms-src%3D%22%7B%7BcurrentPath%7D%7D%22%20alt%3D%22preview%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22module-ppt-nav-wrapper%20fn-left%22%3E%3Cdiv%20class%3D%22ppt-nav-up%22%20ms-class-1%3D%22is-nav-disabled%3A%20movePassedNum%20%3D%3D%20pptList.length%20-%201%22%20ms-click%3D%22navUp%22%3E%3Ci%20class%3D%22icon-nav-arrow%20iconfont%22%3E%26%23xe60a%3B%3C%2Fi%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ppt-nav-list-wrapper%22%3E%3Cul%20class%3D%22ppt-nav-list%22%3E%3Cli%20class%3D%22ppt-nav-item%22%20ms-class-1%3D%22is-current-item%3A%20currentIndex%20%3D%3D%3D%20%24index%22%20ms-repeat%3D%22pptList%22%20ms-click%3D%22clickNavItem%22%3E%3Cimg%20ms-src%3D%22%7B%7Bel.imagePath%7D%7D%22%20alt%3D%22%22%3E%3Cdiv%20class%3D%22overlay%22%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22sup-tip%22%3E%7B%7B%24index%20%2B%201%7D%7D%2F%7B%7BpptList.length%7D%7D%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ppt-nav-down%22%20ms-class-1%3D%22is-nav-disabled%3A%20movePassedNum%20%3D%3D%200%22%20ms-click%3D%22navDown%22%3E%3Ci%20class%3D%22icon-nav-arrow%20iconfont%22%3E%26%23xe609%3B%3C%2Fi%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\pptplayer\pptplayer.css
define("originmodulepptplayerpptplayercss", [], function () {return decodeURIComponent(".module-pptplayer%20.module-ppt-player%20%7B%0A%20%20%20%20width%3A%20798px%3B%0A%20%20%20%20height%3A%20598px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e4e4e4%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-pptplayer%20.module-ppt-player%20img%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-pptplayer%20.module-ppt-nav-wrapper%20%7B%0A%20%20%20%20width%3A%20148px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e4e4e4%3B%0A%20%20%20%20margin-left%3A%2024px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-up%2C%0A.module-pptplayer%20.ppt-nav-down%20%7B%0A%20%20%20%20height%3A%2032px%3B%0A%20%20%20%20line-height%3A%2032px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-pptplayer%20.icon-nav-arrow%20%7B%0A%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20color%3A%20%23fd8712%3B%0A%7D%0A.module-pptplayer%20.is-nav-disabled%20.icon-nav-arrow%20%7B%0A%20%20%20%20color%3A%20%23bcbbbb%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-list-wrapper%20%7B%0A%20%20%20%20height%3A%20534px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20padding%3A%200%2016px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-list%20%7B%0A%20%20%20%20height%3A%2010000px%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20left%3A%2016px%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-item%20%7B%0A%20%20%20%20width%3A%20116px%3B%0A%20%20%20%20height%3A%2084px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20margin-bottom%3A%2012px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-item%20img%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-pptplayer%20.overlay%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20background%3A%20%23000000%3B%0A%20%20%20%20opacity%3A%200.5%3B%0A%20%20%20%20*filter%3Aopacity(50)%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-item%20.sup-tip%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20padding%3A%200%200.2em%3B%0A%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20color%3A%20%23e9e9e9%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A.module-pptplayer%20.is-current-item%20%7B%0A%20%20%20%20width%3A%20112px%3B%0A%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20border%3A2px%20solid%20%23fd8712%3B%0A%7D%0A");});

//From origin\module\pptplayer\pptplayer.js
define("originmodulepptplayerpptplayerjs",["avalon","util","originmodulepptplayerpptplayerhtml","originmodulepptplayerpptplayercss","common"],function(e,t,a,n){var i=this,r=i.erp,o=$("#module-style");0===o.length&&(o=$('<style id="module-style"></style>'),o.appendTo("head"));var s=o.data("module")||{};if(!s.pptplayer){try{o.html(o.html()+t.adjustModuleCssUrl(n,"pptplayer/"))}catch(l){o[0].styleSheet.cssText+=t.adjustModuleCssUrl(n,"pptplayer/")}s.pptplayer=!0,o.data("module",s)}var d=r.module.pptplayer=function(t,n,i){var o=n.pptplayerOptions,s=$(t),l=e.define(n.pptplayerId,function(n){e.mix(n,o),n.widgetElement=t,n.currentPath=r.ASSET_PATH+"image/s.gif",n.currentIndex=0,n.movePassedNum=0,n.pptList=[],n.navUp=function(){n.move(1)},n.navDown=function(){n.move(-1)},n.move=function(e){var t=$(".ppt-nav-list-wrapper",s),a=$(".ppt-nav-list",s),i=$(".ppt-nav-item",s).outerHeight()+12,r=n.movePassedNum+e,o=Math.ceil(t.height()/i);return 0>r?void n.move(e+1):r>=n.pptList.size()?void n.move(e-1):(a.stop(!0,!0).animate({top:-(r*i)+"px"},"fast"),n.currentIndex<r&&(n.currentIndex=r),n.currentIndex>=r+o&&(n.currentIndex=r+o-1),void(n.movePassedNum=r))},n.clickNavItem=function(){var e=this.$vmodel.$model,t=e.$index;n.currentIndex=t},n.$init=function(){s.addClass("module-pptplayer"),s.html('<div class="ppt-wrapper fn-clear">'+a+"</div>"),e.scan(t,[l].concat(i))},n.$remove=function(){},n.$skipArray=["widgetElement"],n.$watch("currentIndex",function(e){n.currentPath=n.pptList[e].imagePath})});return l};return d.version=1,d.defaults={},e});

//From origin\module\pptselector\pptselector.html
define("originmodulepptselectorpptselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22ppt-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24pptOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22query%20input-text%22%20placeholder%3D%22PPT%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22qName%22%20ms-keydown%3D%22inputEnterKey%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ppt-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22ppt-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectPpt%22%20ms-repeat%3D%22list%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22cell-title%20item-cell%20fn-left%22%3E%7B%7Bel.pptName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\pptselector\pptselector.css
define("originmodulepptselectorpptselectorcss", [], function () {return decodeURIComponent("");});

//From origin\module\pptselector\pptselector.js
define("originmodulepptselectorpptselectorjs",["avalon","util","json","originmodulepptselectorpptselectorhtml","originmodulepptselectorpptselectorcss","common","dialog"],function(e,t,a,n,i){var r=this,o=r.erp,s=$("#module-style");0===s.length&&(s=$('<style id="module-style"></style>'),s.appendTo("head"));var l=s.data("module")||{};if(!l.pptselector){try{s.html(s.html()+t.adjustModuleCssUrl(i,"pptselector/"))}catch(d){s[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"pptselector/")}l.pptselector=!0,s.data("module",l)}var c=o.module.pptselector=function(i,r,s){var l=r.pptselectorOptions,d=r.pptselectorId+"-dialog",c=$(i),u=e.define(r.pptselectorId,function(r){e.mix(r,l),r.widgetElement=i,r.dialogId=d,r.$pptOpts={dialogId:d,title:"选择PPT",getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},list:[],qName:"",onClose:function(){var t=e.getVm(d);t.list.clear(),t.qName="",$(".list-wrapper",t.widgetElement).scrollTop(0)},onOpen:function(){var t=e.getVm(d);t.updateList()},submit:function(){var t=e.getVm(d),a=[];_.each(t.list.$model,function(e){e.isSelected&&a.push(e)}),l.onSubmit&&l.onSubmit.call(r,a),t.close()},updateList:function(){var n=e.getVm(d),i=_.str.trim(n.qName),s={question:i,pageSize:1e4,pageNumber:1};s=l.onListRequestData.call(r,s),t.c2s({url:o.BASE_PATH+"rule/getPttByCoursewareId.do",contentType:"application/json",data:a.stringify(s),success:function(e){var t;e.flag&&(t=e.data,n.list.clear(),_.each(t.rows,function(e){var t={};_.each(_.keys(e),function(a){t[_.str.camelize(a)]=e[a]}),n.list.push(_.extend(t,{isSelected:!1}))}),l.onListReady&&l.onListReady.call(r,n.list))}})},clickQueryBtn:function(){var t=e.getVm(d);t.updateList()},inputEnterKey:function(t){var a=e.getVm(d);13==t.keyCode&&a.updateList()},selectPpt:function(){var t=e.getVm(d),a=this.$vmodel.$model,n=a.$index;l.multi?t.list.set(n,{isSelected:!t.list[n].isSelected}):(_.each(t.list,function(e){e.isSelected=!1}),t.list.set(n,{isSelected:!0}))}},r.open=function(){e.getVm(d).open()},r.$init=function(){c.addClass("module-cwselector fn-hide"),c.html(n),e.scan(i,[u].concat(s))},r.$remove=function(){$(e.getVm(d).widgetElement).remove(),c.empty()},r.$watch("title",function(t){var a=e.getVm(d);a.title=t}),r.$skipArray=["widgetElement","dialogId"]});return u};return c.version=1,c.defaults={multi:!1,onListRequestData:function(e){return e},onListReady:e.noop,onSubmit:e.noop},e});

//From origin\module\practicehelper\practicehelper.html
define("originmodulepracticehelperpracticehelperhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22timer-panel%22%3E%E5%80%92%E8%AE%A1%E6%97%B6%EF%BC%9A%3Cspan%20class%3D%22countdown%22%3E%7B%7BcountdownText%7D%7D%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22exam-panel%22%3E%3Ch3%20class%3D%22panel-title%22%3E%E5%BD%93%E5%89%8D%E8%80%83%E9%A2%98%E4%BF%A1%E6%81%AF%3C%2Fh3%3E%3Cdiv%20class%3D%22exam-content%22%3E%7B%7BexamContent%20%7C%20html%7D%7D%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22practice-info-panel-visible-h%20state-shown%22%20ms-click%3D%22clickVisibleHandler%22%3E%E9%9A%90%E8%97%8F%3C%2Fspan%3E%3Cdiv%20class%3D%22module-practicehelper-end-tip%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24endTipOpts%22%3E%3Cdiv%20class%3D%22tip-content%22%3E%3Cspan%20ms-if%3D%22isPassed%22%3E%E6%82%A8%E9%80%9A%E8%BF%87%E4%BA%86%E6%9C%AC%E6%AC%A1%E5%AE%9E%E6%93%8D%E8%80%83%E8%AF%95%EF%BC%8C%E8%A6%81%E7%BB%A7%E7%BB%AD%E4%BF%9D%E6%8C%81%E5%93%A6%EF%BD%9E%3C%2Fspan%3E%20%3Cspan%20ms-if%3D%22!isPassed%22%3E%E6%82%A8%E6%B2%A1%E8%83%BD%E9%80%9A%E8%BF%87%E8%80%83%E8%AF%95%EF%BC%8C%E6%89%80%E6%9C%89%E8%AF%95%E9%A2%98%E9%80%9A%E8%BF%87%E6%89%8D%E8%83%BD%E5%AE%8C%E6%88%90%E8%80%83%E8%AF%95%E5%93%A6%EF%BD%9E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\practicehelper\practicehelper.css
define("originmodulepracticehelperpracticehelpercss", [], function () {return decodeURIComponent(".module-practicehelper%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20z-index%3A%202%3B%0A%20%20%20%20width%3A%20248px%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20background%3A%20%23eff3f6%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23e2e2e2%3B%0A%20%20%20%20color%3A%20%23646464%3B%0A%7D%0A.module-practicehelper%20.timer-panel%20%7B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20height%3A%2038px%3B%0A%20%20%20%20line-height%3A%2038px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23e2e2e2%3B%0A%7D%0A.module-practicehelper%20.exam-panel%20.panel-title%20%7B%0A%20%20%20%20padding%3A%2016px%2014px%3B%0A%20%20%20%20line-height%3A%201em%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%7D%20%0A.module-practicehelper%20.exam-panel%20.exam-content%20%7B%0A%20%20%20%20padding%3A%200%2014px%3B%0A%7D%0A.module-practicehelper%20.practice-info-panel-visible-h%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20position%3Afixed%3B%0A%20%20%20%20right%3A%20248px%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20width%3A%2024px%3B%0A%20%20%20%20height%3A%2046px%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20margin-top%3A%20-24px%3B%0A%20%20%20%20color%3A%20white%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20padding-top%3A%202px%3B%0A%20%20%20%20z-index%3A%2010%3B%0A%20%20%20%20box-shadow%3A%20-1px%201px%202px%20%23cccccc%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-practicehelper-end-tip%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23646464%3B%0A%7D%0A");});

//From origin\module\practicehelper\practicehelper.js
define("originmodulepracticehelperpracticehelperjs",["avalon","util","originmodulepracticehelperpracticehelperhtml","originmodulepracticehelperpracticehelpercss","common","dialog"],function(e,t,a,n){var i=this,r=i.erp,o=$("#module-style");0===o.length&&(o=$('<style id="module-style"></style>'),o.appendTo("head"));var s=o.data("module")||{};if(!s.practicehelper){try{o.html(o.html()+t.adjustModuleCssUrl(n,"practicehelper/"))}catch(l){o[0].styleSheet.cssText+=t.adjustModuleCssUrl(n,"practicehelper/")}s.practicehelper=!0,o.data("module",s)}var d=r.module.practicehelper=function(n,o,s){function l(a){var n=e.getVm("page-study-coursestudy-practiceexam");return n||a||t.alert({content:"请不要直接访问考题页面，需要从考试入口进入。",iconType:"error",onSubmit:function(){t.jumpPage("#/study/coursestudy")}}),n}function d(){var e=$(".practice-info-panel-visible-h",f);clearTimeout(h),h=setTimeout(function(){e.hasClass("state-shown")&&e.css({right:248-($(".app").width()-$(this).width()-$(this).scrollLeft())+"px"})},30)}function c(){var e,t=l();t&&(e=t.leftTime,_.some(t.questionList.$model,function(e){return e.url===v.examPath?(v.examContent=e.content,!0):void 0}))}function u(){function a(){var e=0,t=0,a=0;n--,e=Math.floor(n/3600),t=Math.floor((n-3600*e)/60),a=n-60*t-3600*e,v.countdownText=_.str.lpad(e,2,"0")+":"+_.str.lpad(t,2,"0")+":"+_.str.lpad(a,2,"0"),i.leftTime=n}var n,i=l(!0),o=e.getVm(g);clearInterval(m),i&&(n=i.leftTime,i.originLeftTime===n&&0!==n&&t.c2s({url:r.BASE_PATH+"train/exam/startExam.do",type:"get",data:{examPaperId:i.examPaperId},contentType:"application/json"}),n>0?(a(),m=setInterval(function(){0>=n?(clearInterval(m),o.setTitle("很抱歉"),o.isPassed=!1,o.open()):a()},1e3)):(o.setTitle("很抱歉"),o.isPassed=!1,o.open()))}var m,p=o.practicehelperOptions,f=$(n),g=o.practicehelperId+"-end-tip",v=e.define(o.practicehelperId,function(c){e.mix(c,p),c.widgetElement=n,c.countdownText="",c.examContent="",c.$endTipOpts={dialogId:g,title:"提示",isPassed:!0,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">重新考试</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="reStudy">重新学习</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="backToCourseList">返回课程列表</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},onOpen:function(){var a,n=(e.getVm(g),l(!0));c.stopCountdown(),a=_.map(n.questionList.$model,function(e){return{id:e.id,isCorrect:e.isPassed?1:0}}),t.c2s({url:r.BASE_PATH+"train/exam/saveExam.do",type:"post",data:JSON.stringify(a),contentType:"application/json",success:function(e){e.flag}})},submit:function(){var a=l(!0),n=e.getVm(g);n.close(),t.jumpPage("#/study/coursestudy/practiceexam/"+a.learningProgressId+"/"+a.courseId+"/"+a.coursewareId)},reStudy:function(){var a=l(!0),n=e.getVm(g);n.close(),t.jumpPage("#/study/coursestudy/process/"+a.learningProgressId+"/"+a.courseId+"/"+a.coursewareId)},backToCourseList:function(){var a=e.getVm(g);a.close(),t.jumpPage("#/study/coursestudy")}},c.clickVisibleHandler=function(){var e=$(this);e.hasClass("state-shown")?f.css("overflow","hidden").stop(!0,!0).animate({width:0},"fast",function(){e.css("right",0),e.addClass("state-hidden").removeClass("state-shown").text("显示")}):f.css("overflow","visible").stop(!0,!0).animate({width:"248px"},"fast",function(){e.css("right",248-($(".app").width()-$(i).width()-$(i).scrollLeft())+"px"),e.addClass("state-shown").removeClass("state-hidden").text("隐藏")})},c.startCountdown=function(){u()},c.stopCountdown=function(){clearInterval(m)},c.setValidateResult=function(e){var t=l(!0),a=-1;_.some(t.questionList.$model,function(e,t){return e.url===v.examPath?(a=t,!0):void 0})&&t.questionList.set(a,{isPassed:e})},c.next=function(a){var n,i,r=!0,o=l(!0),s=e.getVm(g),d=-1,u=o.questionList;for(n=0;1e3>n&&(i="result"+n,a.hasOwnProperty(i));n++)if(!a[i]){r=!1;break}c.setValidateResult(r),_.some(u.$model,function(e,t){return e.url===v.examPath?(d=t,!0):void 0})&&(r?d!==u.size()-1?t.alert({content:"试题已通过，剩余"+(u.size()-d-1)+"道考题，加油哦～",iconType:"success",submitText:"下一题",onSubmit:function(){t.jumpPage("#/study/coursestudy/practiceexam"+u[d+1].url)}}):(s.setTitle("恭喜您"),s.isPassed=!0,s.open()):(s.setTitle("很抱歉"),s.isPassed=!1,s.open()))},c.$init=function(){f.addClass("module-practicehelper"),f.html(a),e.scan(n,[v].concat(s))},c.$remove=function(){var t=o.practicehelperId+"-end-tip";$(i).off("scroll resize",d),clearInterval(m),$(e.getVm(t).widgetElement).remove(),f.removeClass("module-practicehelper").off().empty()},c.$skipArray=["widgetElement"]});c();var h;return $(i).on("scroll resize",d),v};return d.version=1,d.defaults={examPath:""},e});

//From origin\module\qselector\qselector.html
define("originmoduleqselectorqselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22question-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24questionOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22query%20input-text%22%20placeholder%3D%22%E8%AF%95%E9%A2%98%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22qName%22%20ms-keydown%3D%22inputEnterKey%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22question-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22question-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectQuestion%22%20ms-repeat%3D%22list%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22cell-title%20item-cell%20fn-left%22%3E%7B%7Bel.question%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22cell-question-type%20item-cell%20fn-left%22%3E%7B%7Bel.questionType%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin\module\qselector\qselector.css
define("originmoduleqselectorqselectorcss", [], function () {return decodeURIComponent(".question-select-dialog%20.cell-title%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin\module\qselector\qselector.js
define("originmoduleqselectorqselectorjs",["avalon","util","json","originmoduleqselectorqselectorhtml","originmoduleqselectorqselectorcss","common","dialog"],function(e,t,a,n,i){var r=this,o=r.erp,s=$("#module-style");0===s.length&&(s=$('<style id="module-style"></style>'),s.appendTo("head"));var l=s.data("module")||{};if(!l.qselector){try{s.html(s.html()+t.adjustModuleCssUrl(i,"qselector/"))}catch(d){s[0].styleSheet.cssText+=t.adjustModuleCssUrl(i,"qselector/")}l.qselector=!0,s.data("module",l)}var c=o.module.qselector=function(i,r,s){var l=r.qselectorOptions,d=r.qselectorId+"-dialog",c=$(i),u=e.define(r.qselectorId,function(r){e.mix(r,l),r.widgetElement=i,r.dialogId=d,r.$questionOpts={dialogId:d,title:"选择试题",getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">确&nbsp;定</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},list:[],qName:"",onClose:function(){var t=e.getVm(d);t.list.clear(),t.qName="",$(".list-wrapper",t.widgetElement).scrollTop(0)},onOpen:function(){var t=e.getVm(d);t.updateList()},submit:function(){var t=e.getVm(d),a=[];_.each(t.list.$model,function(e){e.isSelected&&a.push(e)}),l.onSubmit&&l.onSubmit.call(r,a),t.close()},updateList:function(){var n=e.getVm(d),i=_.str.trim(n.qName),s={question:i,pageSize:1e4,pageNumber:1};s=r.onListRequestData.call(r,s),t.c2s({url:o.BASE_PATH+r.listPath,contentType:"application/json",data:a.stringify(s),success:function(e){var t;e.flag&&(t=e.data,n.list.clear(),_.each(t.rows,function(e){var t={};_.each(_.keys(e),function(a){t[_.str.camelize(a)]=e[a]}),n.list.push(_.extend(t,{isSelected:!1}))}),l.onListReady&&l.onListReady.call(r,n.list))}})},clickQueryBtn:function(){var t=e.getVm(d);t.updateList()},inputEnterKey:function(t){var a=e.getVm(d);13==t.keyCode&&a.updateList()},selectQuestion:function(){var t=e.getVm(d),a=this.$vmodel.$model,n=a.$index;l.multi?t.list.set(n,{isSelected:!t.list[n].isSelected}):(_.each(t.list,function(e){e.isSelected=!1}),t.list.set(n,{isSelected:!0}))}},r.open=function(){e.getVm(d).open()},r.$init=function(){c.addClass("module-cwselector fn-hide"),c.html(n),e.scan(i,[u].concat(s))},r.$remove=function(){$(e.getVm(d).widgetElement).remove(),c.empty()},r.$watch("title",function(t){var a=e.getVm(d);a.title=t}),r.$skipArray=["widgetElement","dialogId"]});return u};return c.version=1,c.defaults={title:"",multi:!1,listPath:"rule/getQuestionByCoursewareId.do",onListRequestData:function(e){return e},onListReady:e.noop,onSubmit:e.noop},e});

//From origin\module\schedule\schedule.html
define("originmodulescheduleschedulehtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-schedule-tbar%20fn-clear%22%3E%3Cdiv%20class%3D%22date-mark%20fn-left%22%3E%7B%7B%20currentReferDate%20%7C%20date(%22M%20%E6%9C%88%20yyyy%E5%B9%B4%22)%7D%7D%3C%2Fdiv%3E%3Cdiv%20class%3D%22nav-box%20fn-right%22%3E%3Cspan%20class%3D%22nav-l%22%20ms-click%3D%22navPrev%22%20title%3D%22%E4%B8%8A%E6%9C%88%22%3E%26%23139%3B%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cspan%20class%3D%22nav-r%22%20ms-click%3D%22navNext%22%20title%3D%22%E4%B8%8B%E6%9C%88%22%3E%26%23155%3B%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20class%3D%22today-btn%22%20ms-click%3D%22navToday%22%20title%3D%22%E8%BF%94%E5%9B%9E%E6%9C%AC%E6%9C%88%22%3E%E6%9C%AC%E6%9C%88%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22module-schedule-bd%22%3E%3Ctable%20class%3D%22module-schedule-grid%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E5%91%A8%E6%97%A5%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%B8%80%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%BA%8C%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%B8%89%3C%2Fth%3E%3Cth%3E%E5%91%A8%E5%9B%9B%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%BA%94%3C%2Fth%3E%3Cth%3E%E5%91%A8%E5%85%AD%3C%2Fth%3E%3C%2Ftr%3E%3C%2Fthead%3E%3Ctbody%3E%3Ctr%20ms-repeat%3D%22dateRows%22%3E%3Ctd%20ms-repeat%3D%22el%22%20ms-class-1%3D%22state-inactive%3A%20!el.isCurrentMonth%22%20ms-class-2%3D%22state-today%3A%20el.isToday%22%20ms-click%3D%22clickDateCell%22%3E%3Cdiv%20class%3D%22date-cell%22%3E%3Cdiv%20class%3D%22date-num%22%3E%7B%7B%20el.date%20%7C%20date(%22d%22)%7D%7D%3C%2Fdiv%3E%3Cul%20class%3D%22plan-list%22%3E%3Cli%20class%3D%22plan-item%22%20ms-repeat%3D%22el.planList%22%20ms-data-plan-id%3D%22el.id%22%20ms-data-status%3D%22el.status%22%20ms-data-plan%3D%22el.json%22%20ms-class-1%3D%22state-status-1%3Ael.status%20%3D%3D%20'1'%22%20ms-class-2%3D%22state-status-2%3Ael.status%20%3D%3D%20'2'%22%20ms-class-3%3D%22state-status-3%3Ael.status%20%3D%3D%20'3'%22%20ms-class-4%3D%22state-status-4%3Ael.status%20%3D%3D%20'4'%22%20ms-class-5%3D%22state-status-5%3Ael.status%20%3D%3D%20'5'%22%20ms-class-6%3D%22state-timeout%3Ael.isTimeout%22%3E%7B%7Bel.title%7D%7D%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%3C%2Fdiv%3E");});

//From origin\module\schedule\schedule.css
define("originmodulescheduleschedulecss", [], function () {return decodeURIComponent(".module-schedule%20%7B%0A%20%20%20%20color%3A%20%23393939%3B%0A%7D%0A.module-schedule%20.date-mark%20%7B%0A%20%20%20%20line-height%3A%2050px%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20padding-left%3A%2014px%3B%0A%7D%0A.module-schedule%20.nav-box%20%7B%0A%20%20%20%20padding-right%3A%2014px%3B%0A%20%20%20%20padding-top%3A%2012px%3B%0A%7D%0A.module-schedule%20.nav-box%20.nav-l%2C%0A.module-schedule%20.nav-box%20.nav-r%2C%0A.module-schedule%20.nav-box%20.today-btn%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20*display%3A%20inline%3B%0A%20%20%20%20*zoom%3A%201%3B%0A%20%20%20%20height%3A%2028px%3B%0A%20%20%20%20line-height%3A%2028px%3B%0A%20%20%20%20padding%3A%200%2012px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-family%3A%20%22%E5%AE%8B%E4%BD%93%22%3B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%20%20%20%20overflow%3Avisible%3B%20%2F*%20ie6%2F7%E4%B8%8B%20padding%E5%80%BC%E4%BC%9A%E5%8F%98%E5%A4%A7%EF%BC%8C%E4%B8%8D%E6%98%8E%E5%8E%9F%E3%80%82%E5%8F%82%E8%80%83http%3A%2F%2Fblog.csdn.net%2Fjyy_12%2Farticle%2Fdetails%2F6636099%20*%2F%0A%7D%0A.module-schedule%20.nav-box%20.nav-l%2C%0A.module-schedule%20.nav-box%20.nav-r%20%7B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20font-weight%3A%20bold%3B%0A%7D%0A.module-schedule%20.nav-box%20.today-btn%20%7B%0A%20%20%20%20line-height%3A%20normal%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20background%3A%20%23eaeaea%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%236f6f6f%3B%0A%7D%0A.module-schedule-grid%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-schedule-bd%20%7B%0A%20%20%20%20border-top%3A%201px%20solid%20%23eaeaea%3B%0A%20%20%20%20background%3A%20%23f6fafd%3B%0A%7D%0A.module-schedule%20.date-cell%20%7B%0A%20%20%20%20min-height%3A%20128px%3B%0A%7D%0A.module-schedule%20td%20%7B%0A%20%20%20%20border%3A%201px%20solid%20%23c5c8ca%3B%0A%20%20%20%20width%3A%2014%25%3B%0A%7D%0A.module-schedule%20th%20%7B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20line-height%3A%2054px%3B%0A%20%20%20%20width%3A%2014%25%3B%0A%7D%0A.module-schedule%20td.state-inactive%20%7B%0A%20%20%20%20background%3A%20%23f5f5f5%3B%0A%7D%0A.module-schedule%20td.state-today%20%7B%0A%20%20%20%20background%3A%20%23deeeff%3B%0A%7D%0A.module-schedule%20td.state-today%20.date-cell%20%7B%0A%20%20%20%20%2F*border%3A%201px%20solid%20%2376a9e0%3B*%2F%0A%7D%0A.module-schedule%20.date-cell%20.date-num%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20padding%3A%202px%204px%3B%0A%7D%0A.module-schedule%20.date-cell%20.plan-item%20%7B%0A%20%20%20%20padding%3A%202px%204px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-1%20%7B%0A%20%20%20%20background%3A%20%23FFFBE8%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-2%2C%0A.module-schedule%20.date-cell%20.state-timeout%20%7B%0A%20%20%20%20background%3A%20%23e67e96%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-3%20%7B%0A%20%20%20%20background%3A%20%23cccccc%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-4%20%7B%0A%20%20%20%20background%3A%20%238bbf43%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-5%20%7B%0A%20%20%20%20background%3A%20%230099cc%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A");});

//From origin\module\schedule\schedule.js
define("originmodulescheduleschedulejs",["avalon","util","json","moment","originmodulescheduleschedulehtml","originmodulescheduleschedulecss","common"],function(e,t,a,n,i,o){var s=this,r=s.erp,l=$("#module-style");0===l.length&&(l=$('<style id="module-style"></style>'),l.appendTo("head"));var d=l.data("module")||{};if(!d.schedule){try{l.html(l.html()+t.adjustModuleCssUrl(o,"schedule/"))}catch(c){l[0].styleSheet.cssText+=t.adjustModuleCssUrl(o,"schedule/")}d.schedule=!0,l.data("module",d)}var u=r.module.schedule=function(t,o,s){var r=o.scheduleOptions,l=$(t),d=new Date,c=e.define(o.scheduleId,function(o){e.mix(o,r),o.widgetElement=t,o.currentReferDate=n(d).date(0)._d,o.dateRows=[],o.updateDateRows=function(e){var t,i=[],s=[];e=n(e||n(d).date(1)),t=e.clone().startOf("week"),t.isSame(e,"day")&&(t=t.subtract("days",7)),_.each(_.range(0,42),function(a){var o=n(t).add("days",a);i.push({date:o._d,isCurrentMonth:o.month()===e.month(),isToday:o.isSame(d,"day"),planList:[]})}),o.currentReferDate=e._d,o.onFetchPlan({startTime:i[0].date/1,endTime:i[i.length-1].date/1},function(e){_.each(e,function(e){_.some(i,function(t){var i=n(e.start_time);return i.isSame(t.date,"day")?(t.planList.push({id:e.id,title:e.title,status:e.status,isTimeout:i.isBefore(d,"day"),json:a.stringify(e)}),!0):void 0})}),_.each(i,function(e,t){var a=Math.floor(t/7);s[a]=s[a]||[],s[a].push(e)}),o.dateRows=s})},o.navPrev=function(){o.updateDateRows(n(o.currentReferDate).subtract("months",1))},o.navNext=function(){o.updateDateRows(n(o.currentReferDate).add("months",1))},o.navToday=function(){o.updateDateRows(n(d).date(1))},o.clickDateCell=function(e){return o.onClickDateCell.call(this,e)},o.$init=function(){l.addClass("module-schedule"),l.html(i),e.scan(t,[c].concat(s)),o.updateDateRows()},o.$remove=function(){l.removeClass("module-schedule").off().empty()},o.$skipArray=["widgetElement"]});return c};return u.version=1,u.defaults={onFetchPlan:function(e,t){t([])},onClickDateCell:e.noop},e});

//From origin\module\survey\survey.html
define("originmodulesurveysurveyhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-survey%22%20ms-widget%3D%22dialog%2C%24%2C%24surveyOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24surveyFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22survey-head%20fn-clear%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E9%97%A8%E5%BA%97%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20style%3D%22width%3A190px%22%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24doorNameOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22storeId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E5%90%8D%E7%A7%B0%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E9%97%A8%E5%BA%97%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20style%3D%22width%3A190px%22%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24doorDutyOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22contactId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-tabs%22%3E%3Ctable%20width%3D%22100%25%22%3E%3Ctr%3E%3Ctd%20width%3D%2250%25%22%3E%3Cp%20class%3D%22tabs1%22%20ms-class-1%3D%22cur%3AsurveyTabs%3D%3D1%22%20ms-click%3D%22changeSurveyTabs(1)%22%3E%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2250%25%22%3E%3Cp%20class%3D%22tabs2%22%20ms-class-1%3D%22cur%3AsurveyTabs%3D%3D2%22%20ms-click%3D%22changeSurveyTabs(2)%22%3E%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E3%80%81%E5%AE%A3%E4%BC%A0%E7%89%A9%E6%96%99%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20con1%22%20ms-visible%3D%22surveyTabs%3D%3D1%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%9A%E6%80%81%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicformat%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('format'%2C%26quot%3Bcheckbox%26quot%3B%2C'dicformat')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicformat%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%B8%9A%E6%80%81%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%99%84%E8%BF%91%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cspan%20class%3D%22survey-select%22%20ms-widget%3D%22select%2C%24%2C%24NearSelectOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22near%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%99%84%E8%BF%91%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%90%A5%E4%B8%9A%E9%9D%A2%E7%A7%AF%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A400%E5%B9%B3%E6%96%B9%E7%B1%B3%22%20ms-duplex%3D%22data.businessArea%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%90%A5%E4%B8%9A%E9%9D%A2%E7%A7%AF%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%97%A5%E5%9D%87%E5%AE%A2%E6%B5%81%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A75%E4%BA%BA%22%20ms-duplex%3D%22data.dailyPassengerFlow%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%97%A5%E5%9D%87%E5%AE%A2%E6%B5%81%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.tableAverage%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%A4%90%E5%8F%B0%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.mealsNumber%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%A4%90%E5%8F%B0%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%8C%85%E9%97%B4%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.roomsNumber%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%8C%85%E9%97%B4%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%8A%E5%BA%A7%E6%AF%94%E4%BE%8B%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A10%25%22%20ms-duplex%3D%22data.attendanceRatio%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%B8%8A%E5%BA%A7%E6%AF%94%E4%BE%8B%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20con2%22%20ms-visible%3D%22surveyTabs%3D%3D2%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkCondition%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22radio%22%20ms-click%3D%22isChecked('networkCondition'%2C%26quot%3Bradio%26quot%3B%2C'dicNetworkCondition')%22%20name%3D%22dicNetworkCondition%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicNetworkCondition%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeed%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22radio%22%20ms-click%3D%22isChecked('networkSpeed'%2C%26quot%3Bradio%26quot%3B%2C'dicNetworkSpeed')%22%20name%3D%22dicNetworkSpeed%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicNetworkSpeed%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E7%8E%B0%E5%9C%A8%E5%AE%A3%E4%BC%A0%E7%89%A9%E6%96%99%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22dicPublicityMaterial%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('publicityMaterial'%2C%26quot%3Bcheckbox%26quot%3B%2C'dicPublicityMaterial')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicPublicityMaterial%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E7%8E%B0%E5%9C%A8%E5%AE%A3%E4%BC%A0%E7%89%A9%E6%96%99%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin\module\survey\survey.css
define("originmodulesurveysurveycss", [], function () {return decodeURIComponent(".module-survey%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-survey%20.f-body%20%7B%0A%20%20%20%20max-height%3A%20400px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%7D%0A.module-survey%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-survey%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%7D%0A.module-survey%20.survey-select%20%7B%0A%20%20%20%20width%3A%20400px%3B%0A%7D%0A%0A.module-survey%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-survey%20.survey-head%20%7B%0A%20%20%20%20padding%3A%2015px%200%3B%0A%7D%0A.module-survey%20.survey-head%20table%20th%20%7B%0A%20%20%20%20padding%3A%205px%200%3B%0A%7D%0A%0A.module-survey%20.research-tabs%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A45px%3B%0A%20%20%20%20background%3A%20%23ECF6FF%3B%0A%7D%0A.module-survey%20.research-tabs%20td%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-survey%20.research-tabs%20p%20%7B%0A%20%20%20%20height%3A%2045px%3B%0A%20%20%20%20line-height%3A%2045px%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-survey%20.research-tabs%20p.cur%20%7B%0A%20%20%20%20border-top%3A%204px%20solid%20%235EA9E0%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20color%3A%20%235EA9E0%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%7D%0A.module-survey%20.warn-bg%20%7B%0A%20%20%20%20background%20%3A%20red%3B%0A%7D%0A%0A.module-survey%20.research-con%20%7B%0A%20%20%20%20padding%3A%2020px%205px%3B%0A%7D%0A.module-survey%20.research-con%20td%20%7B%0A%20%20%20%20padding-bottom%3A%2010px%3B%0A%7D%0A.module-survey%20.research-left%20%7B%0A%20%20%20%20padding-left%3A%2010px%3B%0A%20%20%20%20width%3A%20130px%3B%0A%7D%0A.module-survey%20.label-check-radio%20%7B%0A%20%20%20%20margin%3A%200%2015px%2010px%200%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20min-width%3A%20100px%3B%0A%7D%0A%0A.module-survey%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-survey%20.research-input%20%7B%0A%20%20%20%20width%3A%20390px%3B%0A%7D%0A.module-survey%20.f-body%20%7B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%7D");});

//From origin\module\survey\survey.js
define("originmodulesurveysurveyjs",["avalon","util","json","moment","originmodulesurveysurveyhtml","originmodulesurveysurveycss","common","dialog","originwidgetformselectjs"],function(e,t,a,n,i,s){var o=this,r=o.erp,l=$("#module-style");0===l.length&&(l=$('<style id="module-style"></style>'),l.appendTo("head"));var d=l.data("module")||{};if(!d.survey){try{l.html(l.html()+t.adjustModuleCssUrl(s,"survey/"))}catch(c){l[0].styleSheet.cssText+=t.adjustModuleCssUrl(s,"survey/")}d.survey=!0,l.data("module",d)}var u=r.module.survey=function(n,s,o){var l=s.surveyOptions,d=$(n),c=s.surveyId+"-dialog",u=s.surveyId+"-form",m=s.surveyId+"-doorName",p=s.surveyId+"-doorDuty",f=s.surveyId+"-near",g=e.define(s.surveyId,function(s){e.mix(s,l),s.argv=p,s.isRead=!1,s.surveyTabs=1,s.dicformat=[],s.dicNetworkCondition=[],s.dicNetworkSpeed=[],s.dicPublicityMaterial=[],s.requestData={},s.data={merchantId:"",id:"",storeId:"",contactId:"",format:[],near:"",businessArea:"",dailyPassengerFlow:"",tableAverage:"",mealsNumber:"",roomsNumber:"",attendanceRatio:"",networkCondition:"",networkSpeed:"",publicityMaterial:[],moduleType:""},s.changeSurveyTabs=function(e){s.surveyTabs=e,$(this).removeClass("warn")},s.$NearSelectOpts={selectId:f,options:[],onSelect:function(a){var n=$(".near").val();if(s.data.near=a,"first"==n)$(".near").val(a);else{$(".near").val(a);var i=e.getVm(c);t.testing($(i.widgetElement)[0],$(".near"))}}},s.$doorNameOpts={selectId:m,options:[],selectedIndex:0,onSelect:function(a){var n=$(".storeId").val();if(s.data.storeId=a,"first"==n)$(".storeId").val(a);else{$(".storeId").val(a);var i=e.getVm(c);t.testing($(i.widgetElement)[0],$(".storeId"))}}},s.$doorDutyOpts={selectId:p,options:[],selectedIndex:0,getTemplate:function(e){var t=e.split("MS_OPTION_HEADER");return e='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" ms-click=addCommunication(argv) href="javascript:;">添加联系人</a></li></ul>',t[0]+e},onSelect:function(a){var n=$(".contactId").val();if(s.data.contactId=a,"first"==n)$(".contactId").val(a);else{$(".contactId").val(a);var i=e.getVm(c);t.testing($(i.widgetElement)[0],$(".contactId"))}}},s.$surveyOpts={dialogId:c,width:670,getTemplate:function(e){var t=e.split("MS_OPTION_FOOTER"),a='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">保&nbsp;存</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">取&nbsp;消</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">关&nbsp;闭</button></div></div>';return t[0]+"MS_OPTION_FOOTER"+a},onOpen:function(){},onClose:function(){var a=e.getVm(u),n=e.getVm(c);t.testCancel($(n.widgetElement)[0]),$(".near").val("first"),$(".contactId").val("first"),$(".storeId").val("first");for(var i=1;2>=i;i++)$(".tabs"+i,$(n.widgetElement)).removeClass("warn");a.reset(),_.each(s.data.$model,function(e,t){s.data[t]=""})},submit:function(){var n,i=e.getVm(c);n=t.testing($(i.widgetElement)[0]);for(var o=1;2>=o;o++)$(".con"+o+" .valid-error-field").length?$(".tabs"+o).addClass("warn"):$(".tabs"+o).removeClass("warn");$(".tabs"+s.surveyTabs).removeClass("warn"),n&&(s.data.merchantId=s.merchantId,s.data.moduleType=s.moduleType,s.data.networkCondition instanceof Array&&(s.data.networkCondition=s.data.networkCondition.join()),s.data.networkSpeed instanceof Array&&(s.data.networkSpeed=s.data.networkSpeed.join()),t.c2s({url:r.BASE_PATH+"mktShopSurvey/saveMktShopSurvey.do",type:"post",contentType:"application/json",data:a.stringify(s.data.$model),success:function(t){if(1==t.flag){var a=e.getVm(c);a.close(),s.callFn(t)}}}))}},s.$surveyFormOpts={formId:u},s.open=function(){t.c2s({url:r.BASE_PATH+"mktShopSurvey/loadMktShopSurvey.do",type:"post",contentType:"application/json",data:a.stringify(s.requestData.$model),success:function(t){var a;if(1==t.flag){a=t.data,s.surveyTabs=1,s.data.id=a.id,s.data.businessArea=a.businessArea,s.data.dailyPassengerFlow=a.dailyPassengerFlow,s.data.tableAverage=a.tableAverage,s.data.mealsNumber=a.mealsNumber,s.data.roomsNumber=a.roomsNumber,s.data.attendanceRatio=a.attendanceRatio,s.setCheckRadio({obj:a.dicFormat.dicObject,vals:a.dicFormat.checkedVals},{sendData:"format",showData:"dicformat",className:"dicformat"}),s.setCheckRadio({obj:a.dicNetworkCondition.dicObject,vals:a.dicNetworkCondition.checkedVals},{sendData:"networkCondition",showData:"dicNetworkCondition",className:"dicNetworkCondition"}),s.setCheckRadio({obj:a.dicNetworkSpeed.dicObject,vals:a.dicNetworkSpeed.checkedVals},{sendData:"networkSpeed",showData:"dicNetworkSpeed",className:"dicNetworkSpeed"}),s.setCheckRadio({obj:a.dicPublicityMaterial.dicObject,vals:a.dicPublicityMaterial.checkedVals},{sendData:"publicityMaterial",showData:"dicPublicityMaterial",className:"dicPublicityMaterial"}),s.setSelectCon({obj:a.dicNear.dicObject,vals:a.dicNear.checkedVals},{name:f,data:"near"});for(var n={checkedVals:a.merchantsForSurvey.checkedVals,dropdownlist:[]},i=0;i<a.merchantsForSurvey.dropdownlist.length;i++){var o={text:a.merchantsForSurvey.dropdownlist[i].merchant_name,value:a.merchantsForSurvey.dropdownlist[i].merchant_id};n.dropdownlist.push(o)}s.setSelectCon({obj:n.dropdownlist,vals:n.checkedVals},{name:m,data:"storeId"});for(var r={checkedVals:a.mktContactList.checkedVals,dropdownlist:[]},i=0;i<a.mktContactList.dropdownlist.length;i++){var o={text:a.mktContactList.dropdownlist[i].name,value:a.mktContactList.dropdownlist[i].id};r.dropdownlist.push(o)}s.setSelectCon({obj:r.dropdownlist,vals:r.checkedVals},{name:p,data:"doorDuty"}),e.getVm(c).title="门店调研单",s.surveyTabs=1,e.getVm(c).open(),s.readonly&&s.setRead()}}})},s.setCheckRadio=function(t,a){if(t.vals instanceof Array)for(var n=0;n<t.obj.length;n++){t.obj[n].isSelect=0;for(var i=0;i<t.vals.length;i++)t.obj[n].value==t.vals[i]&&(t.obj[n].isSelect=1)}else if("string"==typeof t.vals)for(var n=0;n<t.obj.length;n++)t.obj[n].isSelect=0,t.obj[n].value==t.vals&&(t.obj[n].isSelect=1);else alert(t.vals+"-类型有问题！");var o=e.getVm(c);$("."+a.className,o.widgetElement).val(t.vals),s.data[a.sendData]=t.vals,s[a.showData]=t.obj},s.setSelectCon=function(t,a){t.obj.unshift({value:"",text:"请选择"}),e.getVm(a.name).setOptions(t.obj),t.vals instanceof Array?""!==t.vals[0]&&e.getVm(a.name).selectValue(t.vals[0],!0):"string"==typeof t.vals||"number"==typeof t.vals?""!==t.vals&&e.getVm(a.name).selectValue(t.vals,!0):alert(t.vals+"-类型有问题！")},s.isChecked=function(a,n,i){var o=this.value,r=$(this)[0].checked,l=!0;if("checkbox"==n){var d=s.data[a];if(r)if(d.length){for(var u=0;u<d.length;u++)d[u]==o&&(l=!1);l&&d.push(o)}else d.push(o);else if(d.length)for(var u=0;u<d.length;u++)d[u]==o&&d.splice(u,1);$("."+i).val(s.data[a].$model)}else"radio"==n&&(s.data[a]=o,$("."+i).val(s.data[a]));var m=e.getVm(c);t.testing($(m.widgetElement)[0],$("."+i))},s.setRead=function(){var t=e.getVm(c);$("input",t.widgetElement).prop("disabled",!0),$("span",t.widgetElement).off("click")},s.$init=function(){d.addClass("module-survey"),d.html(i),e.scan(n,[g].concat(o))},s.$remove=function(){$(e.getVm(c).widgetElement).remove(),d.removeClass("module-survey").off().empty()}});return g};return u.defaults={readonly:"",merchantId:"",callFn:e.noop},e});

