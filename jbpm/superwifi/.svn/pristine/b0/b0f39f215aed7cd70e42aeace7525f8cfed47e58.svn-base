//From origin\asset\events.js
define("events",[],function(){function t(){}function e(t,e,r,n){var a;if(t)for(var s=0,o=t.length;o>s;s+=2)a=t[s].apply(t[s+1]||r,e),a===!1&&n.status&&(n.status=!1)}var r=/\s+/;t.prototype.on=function(t,e,n){var a,s,o;if(!e)return this;for(a=this.__events||(this.__events={}),t=t.split(r);s=t.shift();)o=a[s]||(a[s]=[]),o.push(e,n);return this},t.prototype.off=function(t,e,a){var s,o,i,l;if(!(s=this.__events))return this;if(!(t||e||a))return delete this.__events,this;for(t=t?t.split(r):n(s);o=t.shift();)if(i=s[o])if(e||a)for(l=i.length-2;l>=0;l-=2)e&&i[l]!==e||a&&i[l+1]!==a||i.splice(l,2);else delete s[o];return this},t.prototype.trigger=function(t){var n,a,s,o,i,l,p=[],u={status:!0};if(!(n=this.__events))return this;for(t=t.split(r),i=1,l=arguments.length;l>i;i++)p[i-1]=arguments[i];for(;a=t.shift();)(s=n.all)&&(s=s.slice()),(o=n[a])&&(o=o.slice()),e(o,p,this,u),e(s,[a].concat(p),this,u);return u.status},t.mixTo=function(e){e=e.prototype||e;var r=t.prototype;for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};var n=Object.keys;return n||(n=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),t});

//From origin\asset\draggable.js
define("originassetdraggablejs",["avalon"],function(e){function t(e,t){var n="page"+t;return v?e.changedTouches[0][n]:e[n]}function n(e,n,a,o,r){var i=t(e,o);if(a.containment){var s="X"===o?a.containment[0]:a.containment[1],l="X"===o?a.containment[2]:a.containment[3],c=i-("X"===o?a.clickX:a.clickY);s>c?i+=Math.abs(s-c):c>l&&(i-=Math.abs(l-c))}a["page"+o]=i;var u=b[o],d=u.toLowerCase(),p=a["start"+u]+i-a["startPage"+o]+(r?a["end"+u]:0);a[d]=p,a["drag"+o]&&(n.style[d]=p+"px")}function a(e){e.returnValue=!1}function o(t,n){if(!t.containment){if(Array.isArray(n.containment))return;return void(n.containment=null)}var a=n.$element.width(),o=n.$element.height();if("window"===t.containment){var r=e(window);return void(n.containment=[r.scrollLeft(),r.scrollTop(),r.scrollLeft()+r.width()-n.marginLeft-a,r.scrollTop()+r.height()-n.marginTop-o])}if("document"===t.containment)return void(n.containment=[0,0,e(document).width()-n.marginLeft,e(document).height()-n.marginTop]);if(Array.isArray(t.containment)){var i=t.containment;return void(n.containment=[i[0],i[1],i[2]-a,i[3]-o])}if("parent"===t.containment||"#"===t.containment.charAt(0)){var s;if(s="parent"===t.containment?n.element.parentNode:document.getElementById(t.containment.slice(1))){var l=e(s).offset();n.containment=[l.left+n.marginLeft,l.top+n.marginTop,l.left+s.offsetWidth-n.marginLeft-a,l.top+s.offsetHeight-n.marginTop-o]}}}var r={ghosting:!1,delay:0,axis:"xy",started:!0,start:e.noop,beforeStart:e.noop,drag:e.noop,beforeStop:e.noop,stop:e.noop,scrollPlugin:!0,scrollSensitivity:20,scrollSpeed:20},i=document.getElementById("avalonStyle"),s=".ui-helper-global-drag *{ -webkit-touch-callout: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.ui-helper-global-drag img{-webkit-user-drag:none; pointer-events:none;}";try{i.innerHTML+=s}catch(l){i.styleSheet.cssText+=s}var c,u=navigator.userAgent,d=/Android/i.test(u),p=/BlackBerry/i.test(u),m=/IEMobile/i.test(u),f=/iPhone|iPad|iPod/i.test(u),v=d||p||m||f;if(v)h="touchstart",g="touchmove",y="touchend";else var h="mousedown",g="mousemove",y="mouseup";var T=e.bindingHandlers.draggable=function(n,a){var i,s,l=n.value.match(e.rword)||["$","draggable"],u=l[0].trim(),d=l[1];if(!u||"$"==u||(i=e.vmodels[u])){n.element.removeAttribute("ms-draggable"),i||(i=a.length?a[0]:null);var p=i||{};i&&"object"==typeof i[d]&&(s=i[d],s.$model&&(s=s.$model),p=s);var m=n.element,f=e(m),v=e.mix({},r,s||{},n[d]||{},e.getWidgetData(m,"draggable"));"drag,stop,start,beforeStart,beforeStop".replace(e.rword,function(e){var t=v[e];"string"==typeof t&&"function"==typeof p[t]&&(v[e]=p[t])}),""===v.axis||/^(x|y|xy)$/.test(v.axis)||(v.axis="xy"),c=document.body,f.bind(h,function(n){var a=e.mix({},v,{element:m,$element:f,pageX:t(n,"X"),pageY:t(n,"Y"),marginLeft:parseFloat(f.css("marginLeft"))||0,marginTop:parseFloat(f.css("marginTop"))||0});if(a.startPageX=a.pageX,a.startPageY=a.pageY,v.axis.replace(/./g,function(e){a["drag"+e.toUpperCase()]=!0}),a.dragX||a.dragY||(a.started=!1),"function"==typeof v.beforeStart&&v.beforeStart.call(a.element,n,a),a.handle&&p){var r=p[a.handle];if(r="function"==typeof r?r:a.handle,"function"==typeof r){var i=r.call(m,n,a);if(!i||1!==i.nodeType)return;if(!m.contains(i))return}}_();var s=f.css("position");/^(?:r|a|f)/.test(s)||(m.style.position="relative",m.style.top="0px",m.style.left="0px"),v.delay&&isFinite(v.delay)&&(a.started=!1,setTimeout(function(){a.started=!0},v.delay));var l=f.offset();if(v.ghosting){var u=m.cloneNode(!0);e(u).css("opacity",.7).width(m.offsetWidth).height(m.offsetHeight),a.clone=u,"fixed"!==s&&(u.style.position="absolute",u.style.top=l.top-a.marginTop+"px",u.style.left=l.left-a.marginLeft+"px"),c.appendChild(u)}var d=e(a.clone||a.element);a.startLeft=parseFloat(d.css("left")),a.startTop=parseFloat(d.css("top")),a.endLeft=parseFloat(f.css("left"))-a.startLeft,a.endTop=parseFloat(f.css("top"))-a.startTop,a.clickX=a.pageX-l.left,a.clickY=a.pageY-l.top,o(v,a),T.dragData=a,"start,drag,beforeStop,stop".replace(e.rword,function(e){T[e]=[v[e]]}),T.plugin.call("start",n,a)})}},b={X:"Left",Y:"Top"};T.dragData={},T.start=[],T.drag=[],T.stop=[],T.beforeStop=[],T.plugin={add:function(e,t){for(var n in t){var a=t[n];"function"==typeof a&&Array.isArray(T[n])&&(a.isPlugin=!0,a.pluginName=e+"Plugin",T[n].push(a))}},call:function(t,n,a){var o=T[t];if(Array.isArray(o)&&o.forEach(function(e){("undefined"==typeof e.pluginName?!0:a[e.pluginName])&&e.call(a.element,n,a)}),"stop"===t)for(var r in T)o=T[r],Array.isArray(o)&&o.forEach(function(t){t.isPlugin||e.Array.remove(o,t)})}};var $=new Date-0,x=document.querySelector?12:30;e(document).bind(g,function(e){var t=new Date-$;if(t>x){$=t;var a=T.dragData;if(a.started===!0){e.preventDefault();var o=a.clone||a.element;n(e,o,a,"X"),n(e,o,a,"Y"),T.plugin.call("drag",e,a)}}}),e(document).bind(y,function(e){var t=T.dragData;if(t.started===!0){P();var a=t.element;T.plugin.call("beforeStop",e,t),t.dragX&&n(e,a,t,"X",!0),t.dragY&&n(e,a,t,"Y",!0),t.clone&&c.removeChild(t.clone),T.plugin.call("stop",e,t),T.dragData={}}});var w=document.documentElement,_=function(){e(w).addClass("ui-helper-global-drag")},P=function(){e(w).removeClass("ui-helper-global-drag")};if(window.VBArray&&!("msUserSelect"in w.style)){var O;_=function(){O=c.onselectstart,c.onselectstart=a},P=function(){c.onselectstart=O}}return e});

