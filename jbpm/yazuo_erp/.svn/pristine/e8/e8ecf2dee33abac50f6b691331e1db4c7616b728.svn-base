//From origin\asset\events.js
define('events',[],function(){function a(){}function d(b,f,g,c){var d;if(b)for(var a=0,e=b.length;a<e;a+=2)d=b[a].apply(b[a+1]||g,f),d===!1&&c.status&&(c.status=!1);}var b=/\s+/;a.prototype.on=function(a,e,g){var c,d,f;if(!e)return this;c=this.__events||(this.__events={}),a=a.split(b);while(d=a.shift())f=c[d]||(c[d]=[]),f.push(e,g);return this;},a.prototype.off=function(e,f,g){var h,i,a,d;if(!(h=this.__events))return this;if(!(e||f||g))return delete this.__events,this;e=e?e.split(b):c(h);while(i=e.shift()){if(a=h[i],!a)continue;if(!(f||g)){delete h[i];continue;}for(d=a.length-2;d>=0;d-=2)f&&a[d]!==f||g&&a[d+1]!==g||a.splice(d,2);}return this;},a.prototype.trigger=function(h){var i,j,c,e,a,k,f=[],g={status:!0};if(!(i=this.__events))return this;for(h=h.split(b),a=1,k=arguments.length;a<k;a++)f[a-1]=arguments[a];while(j=h.shift())(c=i.all)&&(c=c.slice()),(e=i[j])&&(e=e.slice()),d(e,f,this,g),d(c,[j].concat(f),this,g);return g.status;},a.mixTo=function(b){b=b.prototype||b;var c=a.prototype;for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);};var c=Object.keys;return c||(c=function(c){var a=[];for(var b in c)c.hasOwnProperty(b)&&a.push(b);return a;}),a;});

//From origin\asset\draggable.js
define('originassetdraggablejs',['avalon'],function(a){function h(b,c){var a='page'+c;return i?b.changedTouches[0][a]:b[a];}function e(k,m,a,b,l){var c=h(k,b);if(a.containment){var i=b==='X'?a.containment[0]:a.containment[1],j=b==='X'?a.containment[2]:a.containment[3],d=c-(b==='X'?a.clickX:a.clickY);d<i?c+=Math.abs(i-d):d>j&&(c-=Math.abs(j-d));}a['page'+b]=c;var e=r[b],g=e.toLowerCase(),f=a['start'+e]+c-a['startPage'+b]+(l?a['end'+e]:0);a[g]=f,a['drag'+b]&&(m.style[g]=f+'px');}function y(c,b){if(!c.containment){if(Array.isArray(b.containment))return;b.containment=null;return;}var h=b.$element.width(),i=b.$element.height();if(c.containment==='window'){var d=a(window);b.containment=[d.scrollLeft(),d.scrollTop(),d.scrollLeft()+d.width()-b.marginLeft-h,d.scrollTop()+d.height()-b.marginTop-i];return;}if(c.containment==='document'){b.containment=[0,0,a(document).width()-b.marginLeft,a(document).height()-b.marginTop];return;}if(Array.isArray(c.containment)){var f=c.containment;b.containment=[f[0],f[1],f[2]-h,f[3]-i];return;}if(c.containment==='parent'||c.containment.charAt(0)==='#'){var e;if(c.containment==='parent'?e=b.element.parentNode:e=document.getElementById(c.containment.slice(1)),e){var g=a(e).offset();b.containment=[g.left+b.marginLeft,g.top+b.marginTop,g.left+e.offsetWidth-b.marginLeft-h,g.top+e.offsetHeight-b.marginTop-i];}}}var s={ghosting:!1,delay:0,axis:'xy',started:!0,start:a.noop,beforeStart:a.noop,drag:a.noop,beforeStop:a.noop,stop:a.noop,scrollPlugin:!0,scrollSensitivity:20,scrollSpeed:20},l=document.getElementById('avalonStyle'),n='.ui-helper-global-drag *{ -webkit-touch-callout: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.ui-helper-global-drag img{-webkit-user-drag:none; pointer-events:none;}';try{l.innerHTML+=n;}catch(a){l.styleSheet.cssText+=n;}var c,d=navigator.userAgent,u=/Android/i.test(d),v=/BlackBerry/i.test(d),w=/IEMobile/i.test(d),q=/iPhone|iPad|iPod/i.test(d),i=u||v||w||q;if(!i)var g='mousedown',j='mousemove',k='mouseup';else g='touchstart',j='touchmove',k='touchend';var b=a.bindingHandlers.draggable=function(n,q){var p=n.value.match(a.rword)||['$','draggable'],l=p[0].trim(),m=p[1],i,j;if(l&&l!='$'&&(i=a.vmodels[l],!i))return;n.element.removeAttribute('ms-draggable'),i||(i=q.length?q[0]:null);var k=i||{};i&&typeof i[m]==='object'&&(j=i[m],j.$model&&(j=j.$model),k=j);var e=n.element,f=a(e),d=a.mix({},s,j||{},n[m]||{},a.getWidgetData(e,'draggable'));'drag,stop,start,beforeStart,beforeStop'.replace(a.rword,function(b){var a=d[b];typeof a==='string'&&typeof k[a]==='function'&&(d[b]=k[a]);}),d.axis!==''&&!/^(x|y|xy)$/.test(d.axis)&&(d.axis='xy'),c=document.body,f.bind(g,function(l){var g=a.mix({},d,{element:e,$element:f,pageX:h(l,'X'),pageY:h(l,'Y'),marginLeft:parseFloat(f.css('marginLeft'))||0,marginTop:parseFloat(f.css('marginTop'))||0});if(g.startPageX=g.pageX,g.startPageY=g.pageY,d.axis.replace(/./g,function(a){g['drag'+a.toUpperCase()]=!0;}),g.dragX||g.dragY||(g.started=!1),typeof d.beforeStart==='function'&&d.beforeStart.call(g.element,l,g),g.handle&&k){var j=k[g.handle];if(j=typeof j==='function'?j:g.handle,typeof j==='function'){var n=j.call(e,l,g);if(!(n&&n.nodeType===1))return;if(!e.contains(n))return;}}o();var p=f.css('position');/^(?:r|a|f)/.test(p)||(e.style.position='relative',e.style.top='0px',e.style.left='0px'),d.delay&&isFinite(d.delay)&&(g.started=!1,setTimeout(function(){g.started=!0;},d.delay));var m=f.offset();if(d.ghosting){var i=e.cloneNode(!0);a(i).css('opacity',0.7).width(e.offsetWidth).height(e.offsetHeight),g.clone=i,p!=='fixed'&&(i.style.position='absolute',i.style.top=m.top-g.marginTop+'px',i.style.left=m.left-g.marginLeft+'px'),c.appendChild(i);}var q=a(g.clone||g.element);g.startLeft=parseFloat(q.css('left')),g.startTop=parseFloat(q.css('top')),g.endLeft=parseFloat(f.css('left'))-g.startLeft,g.endTop=parseFloat(f.css('top'))-g.startTop,g.clickX=g.pageX-m.left,g.clickY=g.pageY-m.top,y(d,g),b.dragData=g,'start,drag,beforeStop,stop'.replace(a.rword,function(a){b[a]=[d[a]];}),b.plugin.call('start',l,g);});},r={X:'Left',Y:'Top'};b.dragData={},b.start=[],b.drag=[],b.stop=[],b.beforeStop=[],b.plugin={add:function(e,d){for(var c in d){var a=d[c];typeof a==='function'&&Array.isArray(b[c])&&(a.isPlugin=!0,a.pluginName=e+'Plugin',b[c].push(a));}},call:function(e,g,d){var c=b[e];if(Array.isArray(c)&&c.forEach(function(a){(a.pluginName===void 0?!0:d[a.pluginName])&&a.call(d.element,g,d);}),e==='stop')for(var f in b)c=b[f],Array.isArray(c)&&c.forEach(function(b){b.isPlugin||a.Array.remove(c,b);});}};var m=new Date()-0,t=document.querySelector?12:30;a(document).bind(j,function(c){var d=new Date()-m;if(d>t){m=d;var a=b.dragData;if(a.started===!0){c.preventDefault();var f=a.clone||a.element;e(c,f,a,'X'),e(c,f,a,'Y'),b.plugin.call('drag',c,a);}}}),a(document).bind(k,function(d){var a=b.dragData;if(a.started===!0){p();var f=a.element;b.plugin.call('beforeStop',d,a),a.dragX&&e(d,f,a,'X',!0),a.dragY&&e(d,f,a,'Y',!0),a.clone&&c.removeChild(a.clone),b.plugin.call('stop',d,a),b.dragData={};}});var f=document.documentElement,o=function(){a(f).addClass('ui-helper-global-drag');},p=function(){a(f).removeClass('ui-helper-global-drag');};if(window.VBArray&&!('msUserSelect'in f.style)){var x;function z(a){a.returnValue=!1;}o=function(){x=c.onselectstart,c.onselectstart=z;},p=function(){c.onselectstart=x;};}return a;});

