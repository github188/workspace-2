//From origin/asset/events.js
define('events',[],function(){function a(){}function d(b,f,g,c){var d;if(b)for(var a=0,e=b.length;a<e;a+=2)d=b[a].apply(b[a+1]||g,f),d===!1&&c.status&&(c.status=!1);}var b=/\s+/;a.prototype.on=function(a,e,g){var c,d,f;if(!e)return this;c=this.__events||(this.__events={}),a=a.split(b);while(d=a.shift())f=c[d]||(c[d]=[]),f.push(e,g);return this;},a.prototype.off=function(e,f,g){var h,i,a,d;if(!(h=this.__events))return this;if(!(e||f||g))return delete this.__events,this;e=e?e.split(b):c(h);while(i=e.shift()){if(a=h[i],!a)continue;if(!(f||g)){delete h[i];continue;}for(d=a.length-2;d>=0;d-=2)f&&a[d]!==f||g&&a[d+1]!==g||a.splice(d,2);}return this;},a.prototype.trigger=function(h){var i,j,c,e,a,k,f=[],g={status:!0};if(!(i=this.__events))return this;for(h=h.split(b),a=1,k=arguments.length;a<k;a++)f[a-1]=arguments[a];while(j=h.shift())(c=i.all)&&(c=c.slice()),(e=i[j])&&(e=e.slice()),d(e,f,this,g),d(c,[j].concat(f),this,g);return g.status;},a.mixTo=function(b){b=b.prototype||b;var c=a.prototype;for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);};var c=Object.keys;return c||(c=function(c){var a=[];for(var b in c)c.hasOwnProperty(b)&&a.push(b);return a;}),a;});

