//From origin/module/userwidget/userwidget.html
define("originmoduleuserwidgetuserwidgethtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22fn-clear%22%3E%3Cdiv%20class%3D%22thumb-wrapper%20fn-left%22%3E%3Cimg%20class%3D%22user-avatar%22%20ms-src%3D%22%7B%7BuserAvatar%7D%7D%22%20ms-alt%3D%22%7B%7BuserName%7D%7D%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22user-info%20fn-left%22%3E%3Ch3%20class%3D%22user-name%22%3E%7B%7BuserName%7D%7D%EF%BC%8C%E6%82%A8%E5%A5%BD%3C%2Fh3%3E%3Cdiv%20class%3D%22user-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22modify-pwd-btn%22%20ms-click%3D%22clickModifyInfo%22%3E%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%3C%2Fbutton%3E%26nbsp%3B%20%3Cbutton%20type%3D%22button%22%20ms-click%3D%22logOut%22%20class%3D%22logout-btn%22%3E%E9%80%80%26nbsp%3B%E5%87%BA%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22modify-user-pwd-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24dialogOpts%22%3E%3Cform%20action%3D%22javascript%3A%3B%22%20ms-widget%3D%22form%2C%24%2C%24formOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%97%A7%E5%AF%86%E7%A0%81%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22password%22%20name%3D%22oldPassword%22%20class%3D%22input-text%20old-pwd%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%96%B0%E5%AF%86%E7%A0%81%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22password%22%20class%3D%22input-text%20new-pwd%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E7%A1%AE%E8%AE%A4%E5%AF%86%E7%A0%81%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22password%22%20name%3D%22newPassword%22%20class%3D%22input-text%20confirm-pwd%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin/module/userwidget/userwidget.css
define("originmoduleuserwidgetuserwidgetcss", [], function () {return decodeURIComponent(".module-userwidget%20%7B%0A%20%20%20%20%2F*height%3A%20120px%3B*%2F%0A%20%20%20%20%2F*width%3A%20100%25%3B*%2F%0A%20%20%20%20background%3A%20%235f8ab8%3B%0A%20%20%20%20padding%3A%2020px%2012px%3B%0A%7D%0A.module-userwidget%20.user-avatar%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20border-radius%3A%2040px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20box-shadow%3A%200px%200px%202px%20%23aaaaaa%3B%0A%7D%0A.module-userwidget%20.user-info%20%7B%0A%20%20%20%20margin-left%3A%2010px%3B%0A%20%20%20%20width%3A%20114px%3B%0A%7D%0A.module-userwidget%20.user-name%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20margin-bottom%3A%2012px%3B%0A%7D%0A.module-userwidget%20.user-action%20button%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20*display%3A%20inline%3B%0A%20%20%20%20*zoom%3A%201%3B%0A%20%20%20%20padding%3A%200%204px%3B%0A%20%20%20%20background%3A%20%237daada%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20line-height%3A%20normal%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20overflow%3Avisible%3B%20%2F*%20ie6%2F7%E4%B8%8B%20padding%E5%80%BC%E4%BC%9A%E5%8F%98%E5%A4%A7%EF%BC%8C%E4%B8%8D%E6%98%8E%E5%8E%9F%E3%80%82%E5%8F%82%E8%80%83http%3A%2F%2Fblog.csdn.net%2Fjyy_12%2Farticle%2Fdetails%2F6636099%20*%2F%0A%20%20%20%20font-family%3A%20%5C65B0%5C5B8B%5C4F53%2C%20%5C5b8b%5C4f53%3B%0A%7D%0A.modify-user-pwd-dialog%20.ff-label%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%7D%0A.modify-user-pwd-dialog%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.modify-user-pwd-dialog%20.input-text%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin/module/userwidget/userwidget.js
define('originmoduleuserwidgetuserwidgetjs',['avalon','util','originmoduleuserwidgetuserwidgethtml','originmoduleuserwidgetuserwidgetcss','common','dialog','originwidgetformformjs'],function(a,c,h,f){var g=this,d=g.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));try{b.html(b.html()+c.adjustModuleCssUrl(f,'userwidget/'));}catch(a){b[0].styleSheet.cssText+=c.adjustModuleCssUrl(f,'userwidget/');}var e=d.module.userwidget=function(g,k,l){var m=k.userwidgetOptions,i=$(g),b='module-userwidget-dialog',e='module-userwidget-form',f=d.getAppData('user'),j=a.define(k.userwidgetId,function(k){k.widgetElement=g,k.userName=f.userName,k.userAvatar=f.userImage||d.ASSET_PATH+'image/user-avatar-default.png',k.$dialogOpts={dialogId:b,title:'\u4FEE\u6539\u5BC6\u7801',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onClose:function(){var b=a.getVm(e);b.reset();},submit:function(){var g,h=a.getVm(b),f=a.getVm(e);f.validate()&&(g=f.getFormData(),c.c2s({url:d.BASE_PATH+'login/changePWD.do',type:'post',data:g,success:function(a){a.flag==1&&(c.alert({iconType:'success',content:a.message}),h.close());}}));}},k.$formOpts={formId:e,field:[{selector:'.old-pwd',rule:['noempty',function(b,a){return a[0]!==!0?'\u539F\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A':!0;}]},{selector:'.new-pwd',rule:['noempty',function(b,a){return a[0]!==!0?'\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A':!0;}]},{selector:'.confirm-pwd',rule:['noempty',function(b,a){return a[0]!==!0?'\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A':!0;},function(b,a,c){return _.isString(a[1])?a[1]:b!==_.str.trim($('.new-pwd',c).val())?'\u786E\u8BA4\u5BC6\u7801\u4E0D\u4E00\u81F4':!0;}]}]},k.openPwd=function(){a.getVm(b).open();},k.clickModifyInfo=function(){c.jumpPage('#/profile/edit/'+f.id);},k.logOut=function(){c.c2s({url:d.BASE_PATH+'login/removeSessionUser.do',success:function(a){a.flag;}});},k.$init=function(){i.addClass('module-userwidget'),i.html(h),a.scan(g,[j].concat(l));},k.$remove=function(){$(a.getVm(e).widgetElement).remove(),$(a.getVm(b).widgetElement).remove();},k.$skipArray=['widgetElement'];});return j;};return e.version=1,e.defaults={},a;});

//From origin/module/addproduct/addproduct.html
define("originmoduleaddproductaddproducthtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22addproduct-index%22%3E%3Cdiv%20class%3D%22addproduct-main%22%3E%3Cbutton%20class%3D%22prev%20iconfont%22%20ms-click%3D%22prev%22%3E%26%23xe624%3B%3C%2Fbutton%3E%3Cdiv%20class%3D%22content%22%3E%3Cdiv%20class%3D%22addproduct-outer%22%3E%3Cdiv%20ms-repeat%3D%22list%22%20class%3D%22item%22%3E%3Ch2%3E%7B%7Bel.title%7D%7D%3C%2Fh2%3E%3Cdiv%20class%3D%22middle%22%3E%7B%7Bel.content%7Chtml%7D%7D%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22button-box%22%3E%3Cbutton%20class%3D%22button%20main-btn%20iconfont%22%20ms-click%3D%22close%22%3E%E6%88%91%E7%9F%A5%E9%81%93%E4%BA%86%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cbutton%20class%3D%22next%20iconfont%22%20ms-click%3D%22next%22%3E%26%23xe625%3B%3C%2Fbutton%3E%20%3Cbutton%20class%3D%22close%20iconfont%22%20ms-click%3D%22close%22%3E%26%23xe616%3B%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/addproduct/addproduct.css
define("originmoduleaddproductaddproductcss", [], function () {return decodeURIComponent(".addproduct-index%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%7D%0A.addproduct-index%20.addproduct-main%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20background%3A%20rgba(0%2C0%2C0%2C0.6)%3B%0A%7D%0A.addproduct-index%20.prev%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20200px%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20margin-top%3A-100px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2060px%3B%0A%20%20%20%20color%3A%20%2366ccb5%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20background%3A%20none%3B%0A%7D%0A%0A.addproduct-index%20.next%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20200px%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20margin-top%3A-100px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2060px%3B%0A%20%20%20%20color%3A%20%2366ccb5%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20background%3A%20none%3B%0A%7D%0A.addproduct-index%20.next%3Ahover%2C%0A.addproduct-index%20.prev%3Ahover%0A%7B%0A%20%20%20%20color%3A%20%23777%3B%0A%20%20%20%20background%3A%20%23333%3B%0A%20%20%20%20opacity%3A%200.6%3B%0A%7D%0A.addproduct-index%20.ban%20%7B%0A%20%20%20%20background%3A%20%23777%3B%0A%7D%0A.addproduct-index%20.close%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%2050px%3B%0A%20%20%20%20height%3A%2050px%3B%0A%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2035px%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20border%3A%20none%3B%0A%7D%0A.button-box%20%7B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20padding%3A%2050px%200%2020px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20bottom%3A%2010px%3B%0A%7D%0A.addproduct-index%20.button%20%7B%0A%20%20%20%20width%3A%20150px%3B%0A%20%20%20%20height%3A%2050px%3B%0A%20%20%20%20font-size%3A%2020px%3B%0A%7D%0A.addproduct-index%20.content%20%7B%0A%20%20%20%20width%3A%20700px%3B%0A%20%20%20%20margin%3A%2030px%20auto%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A%0A.addproduct-index%20.content%20h2%20%7B%0A%20%20%20%20height%3A%2050px%3B%0A%20%20%20%20line-height%3A%2050px%3B%0A%20%20%20%20font-size%3A%2022px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20background%3A%20%23eee%3B%0A%7D%0A.addproduct-index%20.addproduct-outer%20%7B%0A%20%20%20%20width%3A%201000000px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%7D%0A.addproduct-index%20.item%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20width%3A%20700px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20min-height%3A%20500px%3B%0A%7D%0A.addproduct-index%20.middle%20%7B%0A%20%20%20%20width%3A%20660px%3B%0A%20%20%20%20padding%3A%200%2020px%3B%0A%7D");});

//From origin/module/addproduct/addproduct.js
define('originmoduleaddproductaddproductjs',['avalon','util','json','originmoduleaddproductaddproducthtml','originmoduleaddproductaddproductcss'],function(d,c,f,i,g){var h=this,b=h.erp,a=$('#module-style');a.length===0&&(a=$('<style id="module-style"></style>'),a.appendTo('head'));try{a.html(a.html()+c.adjustModuleCssUrl(g,'addproduct/'));}catch(b){a[0].styleSheet.cssText+=c.adjustModuleCssUrl(g,'addproduct/');}var e=b.module.addproduct=function(h,j,k){var l=j.addproductOptions,a=$(h),e=b.getAppData('user'),g=d.define(j.addproductId,function(j){j.widgetElement=h,j.list=[];var m,l;c.c2s({url:b.BASE_PATH+'sysProductOperation/listSysProductOperations.do',type:'post',contentType:'application/json',data:f.stringify({inputPromotionPlatform:'2',userId:e.id}),success:function(b){var d;if(b.flag==1){for(var c=0;c<b.data.length;c++)try{b.data[c].content=decodeURIComponent(b.data[c].content);}catch(a){b.data[c].content=b.data[c].content;}d=b.data,d.length&&(g.list=d,$(a).show(),g.autoScroll());}}}),j.close=function(){c.c2s({url:b.BASE_PATH+'sysUserRequirement/saveSysUserRequirement.do',type:'post',contentType:'application/json',data:f.stringify({promotionPlatform:'2',userId:e.id,userName:e.userName,tel:e.tel,position:e.position}),success:function(b){b.flag&&$(a).hide();}});},j.autoScroll=function(){l=0,m=$('.item',$(a)).length,l==0&&$('.prev',$(a)).hide(),l==m-1?($('.next',$(a)).hide(),$('.button').show(),$('.close').show()):($('.button').hide(),$('.close').hide());},j.displayButton=function(){l==0?$('.prev',$(a)).hide():$('.prev',$(a)).show(),l>=m-1?($('.next',$(a)).hide(),$('.button').show(),$('.close').show()):($('.next',$(a)).show(),$('.button').hide(),$('.close').hide());},j.next=function(){l<m-1&&(l++,$('.addproduct-outer').animate({left:-700*l}),j.displayButton());},j.prev=function(){l>0&&(l--,$('.addproduct-outer').animate({left:-700*l}),j.displayButton());},j.$init=function(){a.addClass('module-addproduct').hide(),a.html(i),d.scan(h,[g].concat(k));},j.$remove=function(){},j.$skipArray=['widgetElement'];});return g;};return e.version=1,e.defaults={},d;});

//From origin/module/addquestion/addquestion.html
define("originmoduleaddquestionaddquestionhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-add-question%22%20ms-widget%3D%22dialog%2C%24%2C%24addQuestionDialogOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24addQuestionFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%95%86%E6%88%B7%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20customer-title%22%3E%3Cdiv%20ms-visible%3D%22addType%22%3E%3Cspan%20class%3D%22brand-name%22%20ms-widget%3D%22autocomplete%2C%24%2C%24brandOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20ms-visible%3D%22!addType%22%3E%7B%7BmerchantName%7D%7D%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22merchantId%22%20name%3D%22merchantId%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%AE%E9%A2%98%E6%A0%87%E9%A2%98%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20time-limit%20title%22%20name%3D%22title%22%20ms-value%3D%22title%22%20maxlength%3D%2220%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BA%A7%E5%93%81%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cspan%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24scheduleOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%AE%E9%A2%98%E6%9D%A5%E6%BA%90%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cspan%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24formOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Ctextarea%20class%3D%22input-text%20description%22%20name%3D%22description%22%20ms-text%3D%22description%22%3E%3C%2Ftextarea%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin/module/addquestion/addquestion.css
define("originmoduleaddquestionaddquestioncss", [], function () {return decodeURIComponent(".module-add-question%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-add-question%20.input-text%20%7B%0A%20%20%20%20width%3A%20310px%3B%0A%7D%0A.module-add-question%20.ff-value-tip%20%7B%0A%20%20%20%20margin-left%3A%2085px%3B%0A%20%20%20%20clear%3A%20both%3B%0A%7D%0A.module-add-question%20.ff-label%20%7B%0A%20%20%20%20width%3A%2085px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-add-question%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D");});

//From origin/module/addquestion/addquestion.js
define('originmoduleaddquestionaddquestionjs',['avalon','util','json','moment','originmoduleaddquestionaddquestionhtml','originmoduleaddquestionaddquestioncss','common','originwidgetformformjs','originwidgetautocompleteautocompletejs','dialog'],function(a,d,i,k,j,f){var h=this,b=h.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var e=c.data('module')||{};if(!e.addquestion){try{c.html(c.html()+d.adjustModuleCssUrl(f,'addquestion/'));}catch(a){c[0].styleSheet.cssText+=d.adjustModuleCssUrl(f,'addquestion/');}e.addquestion=!0,c.data('module',e);}var g=b.module.addquestion=function(h,e,l){var k=e.addquestionOptions,f=$(h),c=function(a){return b.addquestion||(b.addquestion=[]),b.addquestion.push(e.addquestionId+a),e.addquestionId+a;},g=a.define(e.addquestionId,function(e){a.mix(e,k),e.addType=1,e.merchantId=0,e.merchantName='',e.$brandOpts={autocompleteId:c('brandId'),placeholder:'\u8BF7\u6307\u5B9A\u5546\u6237',delayTime:300,onChange:function(a,c){a.length?d.c2s({url:b.BASE_PATH+'synMerchant/getSynMerchantInfo.do',data:{merchantName:a},success:function(a){var b;a.flag&&(b=a.data,c(_.map(b,function(a){return a.text=a.merchant_name||'\u672A\u77E5',a.value=a.merchant_id,a;})));}},{mask:!1}):c([]);},onSelect:function(d){var b=a.getVm(c('brandId')).getOptionByValue(d).value;e.merchantId=b;}},e.$addQuestionDialogOpts={dialogId:c('addQuestionDialogId'),title:'\u6DFB\u52A0\u95EE\u9898',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var b=a.getVm(c('addQuestionFormId'));b.reset(),b.merchantId='',b.title='',b.description='';},submit:function(l){var f,h=a.getVm(c('addQuestionDialogId')),g=a.getVm(c('addQuestionFormId'));if(g.validate()){var j=a.getVm(c('scheduleId')).selectedValue,k=a.getVm(c('scheduleFormId')).selectedValue;f=g.getFormData(),f.merchantId=e.merchantId,f.productName=j,f.source=k,f.problemStatus=1,f=i.stringify(f),d.c2s({url:b.BASE_PATH+'sysProblem/saveSysProblem.do',type:'post',contentType:'application/json',data:f,success:function(a){a.flag==1&&h.close();}});}}},e.$addQuestionFormOpts={formId:c('addQuestionFormId'),field:[{selector:'.merchantId',rule:['noempty',function(a,b){return e.merchantId?!0:'\u5546\u6237\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A';}]},{selector:'.title',rule:['noempty',function(b,a){return a[0]!==!0?'\u95EE\u9898\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A':!0;}]},{selector:'.description',rule:['noempty',function(b,a){return a[0]!==!0?'\u95EE\u9898\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A':!0;}]}],merchantId:'',title:'',description:''},e.$scheduleOpts={selectId:c('scheduleId'),options:[],selectedIndex:1},e.$formOpts={selectId:c('scheduleFormId'),options:[],selectedIndex:1},e.open=function(){d.c2s({url:b.BASE_PATH+'sysProblem/loadSysProblem.do',type:'post',contentType:'application/json',data:i.stringify({}),success:function(d){if(d.flag){var b=d.data;a.getVm(c('scheduleId')).setOptions(b.productName),a.getVm(c('scheduleFormId')).setOptions(b.source),a.getVm(c('addQuestionDialogId')).open();}}});},e.$init=function(){f.addClass('module-addquestion'),f.html(j),a.scan(h,[g].concat(l));},e.$remove=function(){_.each(b.addquestion,function(c){var b=a.getVm(c);b&&$(b.widgetElement).remove();}),b.addquestion.length=0,f.removeClass('module-addquestion').off().empty();};});return g;};return g.defaults={addType:1,merchantId:0,merchantName:'',callFn:a.noop},a;});

//From origin/module/address/address.html
define("originmoduleaddressaddresshtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-address%22%20ms-widget%3D%22dialog%2C%24%2C%24addressOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24addressFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22research-con%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%95%86%E6%88%B7%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-if%3D%22!isSearch%22%3E%7B%7Bdata.merchantName%7D%7D%3C%2Fdiv%3E%3Cdiv%20ms-if%3D%22isSearch%22%3E%3Cspan%20class%3D%22brand-name%22%20ms-widget%3D%22autocomplete%2C%24%2C%24brandOpts%22%3E%3C%2Fspan%3E%20%3Cinput%20type%3D%22hidden%22%20class%3D%22auto-complete%22%20ms-value%3D%22data.merchantId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E5%95%86%E6%88%B7%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%A7%93%E5%90%8D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-if%3D%22displayType%20%3D%3D%20'edit'%20%7C%7C%20displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.name%7D%7D%3C%2Fdiv%3E%3Cinput%20ms-if%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.name%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E5%A7%93%E5%90%8D%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%80%A7%E5%88%AB%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cdiv%20ms-if%3D%22displayType%20%3D%3D%20'edit'%20%7C%7C%20displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%3E%3Clabel%20class%3D%22label-check-radio%22%3E%3Cinput%20name%3D%22sex%22%20ms-checked%3D%22data.genderType%3D%3D1%22%20ms-click%3D%22setGenderType%22%20value%3D%221%22%20type%3D%22radio%22%3E%20%E7%94%B7%3C%2Flabel%3E%3Clabel%20class%3D%22label-check-radio%22%3E%3Cinput%20name%3D%22sex%22%20ms-checked%3D%22data.genderType%3D%3D0%22%20ms-click%3D%22setGenderType%22%20value%3D%220%22%20type%3D%22radio%22%3E%20%E5%A5%B3%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20ms-if%3D%22displayType%20%3D%3D%20'read'%22%3E%3Cspan%20ms-if%3D%22data.genderType%3D%3D1%22%3E%E7%94%B7%3C%2Fspan%3E%20%3Cspan%20ms-if%3D%22data.genderType%3D%3D0%22%3E%E5%A5%B3%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E%3C%2Fspan%3E%E7%94%9F%E6%97%A5%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cdiv%20ms-if%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.birthday%7D%7D%3C%2Fdiv%3E%3Cinput%20ms-if%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%20type%3D%22text%22%20class%3D%22input-text%20birthday%22%20name%3D%22birthday%22%20readonly%3D%22readonly%22%20ms-value%3D%22data.birthday%22%20ms-click%3D%22openDateCalendar%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%81%8C%E4%BD%8D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-if%3D%22displayType%20%3D%3D%20'edit'%7C%7CdisplayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.position%7D%7D%3C%2Fdiv%3E%3Cinput%20ms-if%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.position%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E8%81%8C%E4%BD%8D%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%A7%92%E8%89%B2%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%3E%3Cspan%20class%3D%22survey-select%22%20ms-widget%3D%22select%2C%24%2C%24addressroleSelectOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'read'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20class%3D%22readroleId%22%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22roleId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E8%A7%92%E8%89%B2%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%89%8B%E6%9C%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'edit'%7C%7CdisplayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.mobilePhone%7D%7D%3C%2Fdiv%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.mobilePhone%22%20data-rules%3D%22empty%26mobile%22%20data-tips%3D%22%E6%89%8B%E6%9C%BA%E5%8F%B7%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%26%E8%AF%B7%E8%BE%93%E5%85%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%89%8B%E6%9C%BA%E5%8F%B7%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E%3C%2Fspan%3E%E5%BA%A7%E6%9C%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'edit'%7C%7CdisplayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.telephone%7D%7D%3C%2Fdiv%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%20type%3D%22text%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.telephone%22%20data-rules%3D%22tel%22%20data-tips%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%BA%A7%E6%9C%BA%E5%8F%B7%EF%BC%81%22%20isempty%3D%22true%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%82%AE%E7%AE%B1%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.mail%7D%7D%3C%2Fdiv%3E%3Cinput%20type%3D%22text%22%20ms-visible%3D%22displayType%20%3D%3D%20'edit'%7C%7CdisplayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'allEdit'%22%20class%3D%22input-text%20address-input%22%20ms-duplex%3D%22data.mail%22%20data-rules%3D%22empty%26mail%22%20data-tips%3D%22%E9%82%AE%E7%AE%B1%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%26%E8%AF%B7%E8%BE%93%E5%85%A5%E6%AD%A3%E7%A1%AE%E7%9A%84%E9%82%AE%E7%AE%B1%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin/module/address/address.css
define("originmoduleaddressaddresscss", [], function () {return decodeURIComponent("%0A.module-address%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-address%20.f-body%20%7B%0A%20%20%20%20max-height%3A%20400px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%7D%0A.module-address%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%20%20%20%20padding%3A%205px%200%205px%205px%3B%0A%20%20%20%20min-height%3A%2035px%3B%0A%7D%0A.module-address%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-address%20.address-input%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A.module-address%20label.label-check-radio%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20width%3A%2060px%3B%0A%7D%0A");});

//From origin/module/address/address.js
define('originmoduleaddressaddressjs',['avalon','util','json','moment','originmoduleaddressaddresshtml','originmoduleaddressaddresscss','common','dialog','originwidgetformformjs','originwidgetformselectjs','originwidgetautocompleteautocompletejs'],function(a,b,i,d,k,g){var h=this,e=h.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var f=c.data('module')||{};if(!f.address){try{c.html(c.html()+b.adjustModuleCssUrl(g,'address/'));}catch(a){c[0].styleSheet.cssText+=b.adjustModuleCssUrl(g,'address/');}f.address=!0,c.data('module',f);}var j=e.module.address=function(o,f,q){var p=f.addressOptions,j=$(o),c=f.addressId+'-dialog',l=f.addressId+'-form',m=f.addressId+'-brandId',h=f.addressId+'-birthday',g=f.addressId+'-role',n=a.define(f.addressId,function(f){a.mix(f,p),f.isSearch=!1,f.readonly=!1,f.displayType='add',f.requestData={},f.data={id:'',merchantName:'',moduleType:'',merchantId:0,name:'',genderType:1,birthday:'',position:'',mobilePhone:'',telephone:'',roleType:'',mail:''},f.$brandOpts={autocompleteId:m,placeholder:'\u8BF7\u6307\u5B9A\u5546\u6237',delayTime:300,onChange:function(a,c){a.length?b.c2s({url:e.BASE_PATH+'synMerchant/getSynMerchantInfoByUserId.do',data:{merchantName:a},success:function(a){var b;a.flag&&(b=a.data,c(_.map(b,function(a){return a.text=a.merchant_name||'\u672A\u77E5',a.value=a.merchant_id,a;})));}},{mask:!1}):c([]);},onSelect:function(g){var d=a.getVm(m).getOptionByValue(g).merchant_id;f.data.merchantId=d;var e=a.getVm(c);b.testing($(e.widgetElement)[0],$('.auto-complete'));}},f.$addressOpts={dialogId:c,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u5173&nbsp;\u95ED</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var d=a.getVm(l),e=a.getVm(c);b.testCancel($(e.widgetElement)[0]),$('.roleId').val('first'),f.data.birthday='',f.data.merchantName='',f.data.moduleType='',f.data.name='',f.data.genderType=1,f.data.position='',f.data.mobilePhone='',f.data.telephone='',f.data.roleType='',f.data.mail='',d.reset();},submit:function(j){f.data.merchantId||(f.data.merchantId='');var h,g=a.getVm(c);h=b.testing($(g.widgetElement)[0]),h&&(f.data.moduleType=f.moduleType,f.data.birthday=d(f.data.birthday)/1,b.c2s({url:e.BASE_PATH+'contact/saveMktContact.do',type:'post',contentType:'application/json',data:i.stringify(f.data.$model),success:function(a){a.flag==1&&(g.close(),f.callFn(a));}}));}},f.$addressFormOpts={formId:l},f.setGenderType=function(){var a=this.value;f.data.genderType=a;},f.$addressroleSelectOpts={selectId:g,options:[],selectedIndex:0,onSelect:function(d){var e=$('.roleId').val();if(f.data.roleType=d,e=='first')$('.roleId').val(d);else{$('.roleId').val(d);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.roleId'));}}},f.$startDateOpts={calendarId:h,onClickDate:function(a){f.data.birthday=d(a).format('YYYY-MM-DD'),$(this.widgetElement).hide();}},f.openDateCalendar=function(){var j=a.getVm(l),g=$(this),c=a.getVm(h),e,i=g.offset();c?e=$(c.widgetElement):(e=$('<div ms-widget="calendar,$,$startDateOpts"></div>'),e.css({position:'absolute','z-index':10000}).hide().appendTo('body'),a.scan(e[0],[f]),c=a.getVm(h),b.regGlobalMdExcept({element:e,handler:function(){e.hide();}})),f.data.birthday?c.focusDate=d(f.data.birthday,'YYYY-MM-DD')._d:c.focusDate=new Date(),c.maxDate=d(d(),'YYYY-MM-DD')._d,e.css({top:i.top+g.outerHeight()-1,left:i.left}).show();},f.open=function(){if(f.isSearch&&!f.readonly){var h=a.getVm(g);b.c2s({url:e.BASE_PATH+'dictionary/querySysDictionaryByType.do',type:'post',data:'dictionaryType=00000065',success:function(b){var d,e;b.flag&&(d=b.data,e=_.map(d,function(a){return{text:a.dictionary_value,value:a.dictionary_key};}),h.setOptions(e),a.getVm(c).title='\u6DFB\u52A0\u8054\u7CFB\u4EBA',a.getVm(c).open());}});}else f.isSearch?b.alert({content:'readonly\u6216isSearch\u53C2\u6570\u9519\u8BEF\uFF01',iconType:'error'}):b.c2s({url:e.BASE_PATH+'contact/loadMktContact.do',type:'post',contentType:'application/json',data:i.stringify(f.requestData.$model),success:function(h){var b,e;h.flag&&(b=h.data,e=f.data,e.id=b.id,e.merchantName=b.merchantName,e.moduleType=b.moduleType,e.merchantId=b.merchantId,e.name=b.name,b.genderType?e.genderType=b.genderType=0:e.genderType=1,b.birthday&&(e.birthday=d(b.birthday).format('YYYY-MM-DD')),e.position=b.position,e.mobilePhone=b.mobilePhone,e.telephone=b.telephone,e.mail=b.mail,f.setSelectCon({obj:b.dicRole.dicObject,vals:b.dicRole.checkedVals},{name:g,data:'roleType'}),f.displayType=='read'?(f.readonly=!0,a.getVm(c).title='\u67E5\u770B\u8054\u7CFB\u4EBA',a.getVm(c).open()):f.displayType=='add'?(f.readonly=!1,a.getVm(c).title='\u6DFB\u52A0\u8054\u7CFB\u4EBA',a.getVm(c).open()):(f.displayType=='edit'||f.displayType=='allEdit')&&(f.readonly=!1,a.getVm(c).title='\u4FEE\u6539\u8054\u7CFB\u4EBA',a.getVm(c).open()));}});},f.setSelectCon=function(b,c){b.obj.unshift({value:'',text:'\u8BF7\u9009\u62E9'}),a.getVm(c.name).setOptions(b.obj),b.vals instanceof Array?b.vals[0]!==''&&(a.getVm(c.name).selectValue(b.vals[0],!0),$('.readroleId').html(a.getVm(c.name).selectedText)):typeof b.vals=='string'||typeof b.vals=='number'?b.vals!==''&&(a.getVm(c.name).selectValue(b.vals,!0),$('.readroleId').html(a.getVm(c.name).selectedText)):alert(b.vals+'-\u7C7B\u578B\u6709\u95EE\u9898\uFF01');},f.$init=function(){j.addClass('module-address'),j.html(k),a.scan(o,[n].concat(q));},f.$remove=function(){$(a.getVm(c).widgetElement).remove(),j.removeClass('module-address').off().empty();};});return n;};return j.defaults={displayType:'add',merchantId:0,isSearch:!1,callFn:a.noop},a;});

//From origin/module/address/address2.js
define('originmoduleaddressaddress2js',['avalon','util','json','moment','originmoduleaddressaddresshtml','originmoduleaddressaddresscss','common','dialog','originwidgetformformjs','originwidgetformselectjs'],function(a,c,i,d,k,g){var h=this,f=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var e=b.data('module')||{};if(!e.address){try{b.html(b.html()+c.adjustModuleCssUrl(g,'address/'));}catch(a){b[0].styleSheet.cssText+=c.adjustModuleCssUrl(g,'address/');}e.address=!0,b.data('module',e);}var j=f.module.address=function(n,e,p){var o=e.addressOptions,g=$(n),b=e.addressId+'-dialog',j=e.addressId+'-form',h=e.addressId+'-birthday',l=e.addressId+'-role',m=a.define(e.addressId,function(e){a.mix(e,o),e.readonly=0,e.requestData={},e.data={merchantName:'',moduleType:'',merchantId:'',name:'',genderType:1,birthday:'',position:'',mobilePhone:'',telephone:'',roleType:'',mail:''},e.$addressOpts={dialogId:b,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u5173&nbsp;\u95ED</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var d=a.getVm(j),f=a.getVm(b);c.testCancel($(f.widgetElement)[0]),$('.roleId').val('first'),e.data.birthday='',e.data.merchantName='',e.data.moduleType='',e.data.name='',e.data.genderType='',e.data.position='',e.data.mobilePhone='',e.data.telephone='',e.data.roleType='',e.data.mail='',d.reset();},submit:function(h){var g,d=a.getVm(b);g=c.testing($(d.widgetElement)[0]),g&&(e.data.moduleType=e.moduleType,c.c2s({url:f.BASE_PATH+'contact/saveMktContact.do',type:'post',contentType:'application/json',data:i.stringify(e.data.$model),success:function(a){a.flag==1&&(d.close(),e.callFn(a));}}));}},e.$addressFormOpts={formId:j},e.setGenderType=function(){var a=this.value;e.data.genderType=+a;},e.$addressroleSelectOpts={selectId:l,options:[],selectedIndex:0,onSelect:function(d){var f=$('.roleId').val();if(e.data.roleType=d,f=='first')$('.roleId').val(d);else{$('.roleId').val(d);var g=a.getVm(b);c.testing($(g.widgetElement)[0],$('.roleId'));}}},e.$startDateOpts={calendarId:h,onClickDate:function(a){e.data.birthday=d(a).format('YYYY-MM-DD'),$(this.widgetElement).hide();}},e.openDateCalendar=function(){var k=a.getVm(j),g=$(this),f=a.getVm(h),b,i=g.offset();f?b=$(f.widgetElement):(b=$('<div ms-widget="calendar,$,$startDateOpts"></div>'),b.css({position:'absolute','z-index':10000}).hide().appendTo('body'),a.scan(b[0],[e]),f=a.getVm(h),c.regGlobalMdExcept({element:b,handler:function(){b.hide();}})),e.data.birthday?f.focusDate=d(e.data.birthday,'YYYY-MM-DD')._d:f.focusDate=new Date(),b.css({top:i.top+g.outerHeight()-1,left:i.left}).show();},e.open=function(){c.c2s({url:f.BASE_PATH+'contact/loadMktContact.do',type:'post',contentType:'application/json',data:i.stringify(e.requestData.$model),success:function(g){var c,f;g.flag&&(c=g.data,f=e.data,f.merchantName=c.merchantName,f.moduleType=c.moduleType,f.merchantId=c.merchantId,f.name=c.name,c.genderType?f.genderType=c.genderType:f.genderType=1,c.birthday?f.birthday=d(c.birthday).format('YYYY-MM-DD'):f.birthday=d(new Date()).format('YYYY-MM-DD'),f.position=c.position,f.mobilePhone=c.mobilePhone,f.telephone=c.telephone,f.mail=c.mail,e.setSelectCon({obj:c.dicRole.dicObject,vals:c.dicRole.checkedVals},{name:l,data:'roleType'}),e.readonly?(e.setRead(),a.getVm(b).title='\u67E5\u770B\u8054\u7CFB\u4EBA',a.getVm(b).open()):(e.setAdd(),a.getVm(b).title='\u6DFB\u52A0\u8054\u7CFB\u4EBA',a.getVm(b).open()));}});},e.setSelectCon=function(b,c){b.obj.unshift({value:'',text:'\u8BF7\u9009\u62E9'}),a.getVm(c.name).setOptions(b.obj),b.vals instanceof Array?b.vals[0]!==''&&(a.getVm(c.name).selectValue(b.vals[0],!0),$('.readroleId').val(a.getVm(c.name).selectedText)):typeof b.vals=='string'||typeof b.vals=='number'?b.vals!==''&&(a.getVm(c.name).selectValue(b.vals,!0),$('.readroleId').val(a.getVm(c.name).selectedText)):alert(b.vals+'-\u7C7B\u578B\u6709\u95EE\u9898\uFF01');},e.setRead=function(){var c=a.getVm(b);$('input',c.widgetElement).prop('disabled',!0);},e.setAdd=function(){var c=a.getVm(b);$('input',c.widgetElement).prop('disabled',!1);},e.$init=function(){g.addClass('module-address'),g.html(k),a.scan(n,[m].concat(p));},e.$remove=function(){$(a.getVm(b).widgetElement).remove(),g.removeClass('module-address').off().empty();};});return m;};return j.defaults={readonly:'',merchantId:'',callFn:a.noop},a;});

//From origin/module/autocomplete/autocomplete.html
define("originmoduleautocompleteautocompletehtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22ui_thinkSearch%22%3E%3Cinput%20type%3D%22text%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E5%86%85%E5%AE%B9%22%20ms-duplex%3D%22searchValue%22%20ms-focus%3D%22getDataAll%22%3E%3Cdiv%20class%3D%22ui_thinkSearch_search%22%20ms-css-display%3D%22showHide%22%3E%3Cdiv%20ms-repeat%3D%22matchData%22%20class%3D%22ui_thinkSearch_search_list%22%20ms-data-id%3D%22el.id%22%20ms-click%3D%22getValue%22%3E%7B%7Bel.value%7D%7D%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/autocomplete/autocomplete.css
define("originmoduleautocompleteautocompletecss", [], function () {return decodeURIComponent(".ui_thinkSearch%20%7B%0D%0A%09position%3Aabsolute%3B%0D%0A%09top%3A0px%3B%0D%0A%09left%3A0px%3B%0D%0A%09width%3A100%25%3B%0D%0A%7D%0D%0A.ui_thinkSearch%20input%20%7B%0D%0A%09width%3A100%25%3B%0D%0A%09border%3A1px%20solid%20%232cc78f%3B%0D%0A%09height%3A33px%3B%0D%0A%09line-height%3A33px%3B%0D%0A%09text-indent%3A3px%3B%0D%0A%09font-size%3A12px%3B%0D%0A%7D%0D%0A.ui_thinkSearch_search%20%7B%0D%0A%09border%3A1px%20solid%20%232cc78f%3B%0D%0A%09position%3Aabsolute%3B%0D%0A%09left%3A0px%3B%0D%0A%09top%3A34px%3B%0D%0A%09width%3A100%25%3B%0D%0A%09background%3A%23fff%3B%0D%0A%09max-height%3A300px%3B%0D%0A%09height%3A300px%20%5C9%3B%0D%0A%09overflow-y%3Aauto%3B%0D%0A%20%20%20%20z-index%3A%2010000%3B%0D%0A%7D%0D%0A.ui_thinkSearch_search%20div.ui_thinkSearch_search_list%20%7B%0D%0A%09line-height%3A30px%3B%0D%0A%09font-size%3A14px%3B%0D%0A%09padding-left%3A5px%3B%0D%0A%09cursor%3Apointer%3B%0D%0A%7D%0D%0A.ui_thinkSearch_search%20div.ui_thinkSearch_search_cur%2C%0D%0A.ui_thinkSearch_search%20div.ui_thinkSearch_search_list%3Ahover%20%7B%0D%0A%09background%3A%23eee%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A");});

//From origin/module/autocomplete/autocomplete.js
define('originmoduleautocompleteautocompletejs',['avalon','originmoduleautocompleteautocompletehtml','originmoduleautocompleteautocompletecss'],function(a,f,b){var c=this,d=c.erp,e=d.module.autocomplete=function(c,e,g){c.innerHTML='';var d=a.define(e.autocompleteId,function(h){a.mix(h,e.autocompleteOptions),h.$init=function(){var e=document.getElementsByTagName('style'),h=document.getElementsByTagName('head')[0];if(e&&e[0])e[0].innerHTML+=b;else{var e=document.createElement('style');e.innerHTML=b,h.appendChild(e);}c.innerHTML=f,a.scan(c,[d].concat(g));},h.dataAll='',h.matchData=[],h.getThinkAll=function(){this.onkeyup=h.getKeyValue,h.isInputChange(),$(document).on('click',h.closeThink);},h.getKeyValue=function(a){a=a||window.event;var b=a.keyCode;switch(b){case 38:h.setKeyValue('prev');break;case 40:h.setKeyValue('next');break;default:h.isInputChange();}},h.isInputChange=function(){var a=h.searchValue;a=a.replace(/(^\s+)|(\s+$)/g,''),a.length>0?h.getMatchData(a):(h.showHide='none',h.matchData=[]);},h.getMatchData=function(d){h.matchData=[];for(var a=0,c=h.dataAll.length;a<c;a++)for(var b in h.dataAll[a])b=='value'&&h.dataAll[a][b].indexOf(d)!=-1&&h.matchData.push(h.dataAll[a]);h.matchData.length?h.showHide='block':(h.showHide='none',h.matchData=[]);},h.setKeyValue=function(d){h.num===void 0&&(h.num=-1);var a=$('.ui_thinkSearch_search')[0].getElementsByTagName('div'),b=a.length;d=='prev'?(h.num--,h.num<0&&(h.num=b-1)):d=='next'&&(h.num++,h.num>=b&&(h.num=0));for(var c=0;c<b;c++)a[c].className='ui_thinkSearch_search_list';a[h.num].className+=' ui_thinkSearch_search_cur',h.searchValue=a[h.num].innerHTML,h.searchId=a[h.num].getAttribute('data-id');},h.getValue=function(){h.searchId=this.getAttribute('data-id'),h.searchValue=this.innerHTML,h.showHide='none';},h.closeThink=function(a){a=a||window.event;var b=a.target||a.srcElement;$('.ui_thinkSearch').has(b).length||(h.showHide='none',h.matchData=[],$(document).off('click',h.closeThink));};});return d;};return e.defaults={searchValue:'',showHide:'none',searchId:'',getDataAll:a.noop},a;});

//From origin/module/bindselector/bindselector.html
define("originmodulebindselectorbindselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22bind-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24bindOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22user-name%20input-text%22%20placeholder%3D%22%E5%A7%93%E5%90%8D%22%20ms-duplex%3D%22userName%22%3E%26nbsp%3B%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22mobile%20input-text%22%20placeholder%3D%22%E6%89%8B%E6%9C%BA%E5%8F%B7%22%20ms-duplex%3D%22mobile%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22list-hd%22%3E%3Cul%20class%3D%22select-list%20fn-clear%22%3E%3Cli%20class%3D%22select-item%22%3E%3Cspan%20class%3D%22name-cell%20item-cell%20fn-left%22%3E%E5%A7%93%E5%90%8D%3C%2Fspan%3E%20%3Cspan%20class%3D%22mobile-cell%20item-cell%20fn-left%22%3E%E8%81%94%E7%B3%BB%E7%94%B5%E8%AF%9D%3C%2Fspan%3E%20%3Cspan%20class%3D%22position-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%3E%E8%81%8C%E4%BD%8D%3C%2Fspan%3E%20%3Cspan%20class%3D%22group-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%3E%E9%83%A8%E9%97%A8%3C%2Fspan%3E%20%3Cspan%20class%3D%22course-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%3E%E8%AF%BE%E7%A8%8B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22user-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22user-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectUser%22%20ms-repeat%3D%22userList%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22name-cell%20item-cell%20fn-left%22%20ms-attr-title%3D%22el.userName%22%3E%7B%7Bel.userName%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22mobile-cell%20item-cell%20fn-left%22%20ms-attr-title%3D%22el.tel%22%3E%7B%7Bel.tel%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22position-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%20ms-attr-title%3D%22el.positionName%22%3E%7B%7Bel.positionName%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22group-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%20ms-attr-title%3D%22el.groupName%22%3E%7B%7Bel.groupName%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22course-cell%20item-cell%20fn-left%22%20ms-if%3D%22userRole%20%3D%3D%20'student'%22%20ms-attr-title%3D%22el.courseName%22%3E%7B%7Bel.courseName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/bindselector/bindselector.css
define("originmodulebindselectorbindselectorcss", [], function () {return decodeURIComponent(".bind-select-dialog%20.bind-course-wrapper%20%7B%0A%20%20%20%20padding%3A%2010px%2014px%3B%0A%7D%0A.bind-select-dialog%20.bind-course-wrapper%20.f-field%7B%0A%20%20%20%20margin-bottom%3A%200%3B%0A%7D%0A.bind-select-dialog%20.dialog-tbar%20.input-text%20%7B%0A%20%20%20%20width%3A%20160px%3B%0A%7D%0A.bind-select-dialog%20.name-cell%20%7B%0A%20%20%20%20width%3A%20130px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A.bind-select-dialog%20.mobile-cell%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A.bind-select-dialog%20.group-cell%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A.bind-select-dialog%20.position-cell%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A");});

//From origin/module/bindselector/bindselector.js
define('originmodulebindselectorbindselectorjs',['avalon','util','json','originmodulebindselectorbindselectorhtml','originmodulebindselectorbindselectorcss','common','dialog','originwidgetformselectjs'],function(a,c,j,i,h){var g=this,f=g.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var d=b.data('module')||{};if(!d.bindselector){try{b.html(b.html()+c.adjustModuleCssUrl(h,'bindselector/'));}catch(a){b[0].styleSheet.cssText+=c.adjustModuleCssUrl(h,'bindselector/');}d.bindselector=!0,b.data('module',d);}var e=f.module.bindselector=function(h,e,m){var d=e.bindselectorOptions,b=e.bindselectorId+'-dialog',k=e.bindselectorId+'-select',g=$(h),l=a.define(e.bindselectorId,function(e){a.mix(e,d),e.widgetElement=h,e.dialogId=b,e.courseSelectId=k,e.userRole='student',e.$bindOpts={dialogId:b,width:620,title:'',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},userList:[],userName:'',mobile:'',onClose:function(){var c=a.getVm(b);c.userList.clear(),c.userName='',c.mobile='',$('.list-wrapper',c.widgetElement).scrollTop(0);},onOpen:function(){var c=a.getVm(b);c.updateList();},submit:function(i){var g=a.getVm(b),h=a.getVm(k),f=[];_.each(g.userList.$model,function(a){a.isSelected&&f.push(a);}),f.length?d.onSubmit&&d.onSubmit.call(e,f):c.alert({iconType:'error',content:'\u8BF7\u9009\u62E9\u5BF9\u5E94\u7684\u8001\u5E08'});},updateList:function(){var g=a.getVm(b),h=_.str.trim(g.userName),i=_.str.trim(g.mobile);c.c2s({url:f.BASE_PATH+d.listPath,data:j.stringify({userName:h,tel:i,pageSize:10000,pageNumber:1}),contentType:'application/json',success:function(a){var b;a.flag&&(b=a.data,g.userList.clear(),_.each(b.rows,function(b){var a={};_.each(_.keys(b),function(c){a[_.str.camelize(c)]=b[c];}),g.userList.push(_.extend(a,{isSelected:!1}));}),d.onListReady&&d.onListReady.call(e,g.userList));}});},clickQueryBtn:function(){var c=a.getVm(b);c.updateList();},inputEnterKey:function(d){var c=a.getVm(b);d.keyCode==13&&c.updateList();},selectUser:function(g){var c=a.getVm(b),f=this.$vmodel.$model,e=f.$index;d.multi?c.userList.set(e,{isSelected:!c.userList[e].isSelected}):(_.each(c.userList,function(a){a.isSelected=!1;}),c.userList.set(e,{isSelected:!0}));}},e.open=function(){a.getVm(b).open();},e.close=function(){a.getVm(b).close();},e.$init=function(){g.addClass('module-bindselector fn-hide'),g.html(i),a.scan(h,[l].concat(m));},e.$remove=function(){$(a.getVm(b).widgetElement).remove(),g.empty();},e.$skipArray=['widgetElement','dialogId'],e.$watch('title',function(c){a.getVm(b).title=c;});});return l;};return e.version=1,e.defaults={title:'',multi:!1,listPath:'studentManagement/queryStudentListToBeAllocated.do',onListReady:a.noop,onSubmit:a.noop},a;});

//From origin/module/cardrulesetting/cardrulesetting.html
define("originmodulecardrulesettingcardrulesettinghtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-cardrulesetting-dialog%22%20ms-widget%3D%22dialog%2C%24%2C%24settingDialogOpts%22%3E%3Cform%20action%3D%22javascript%3A%3B%22%20ms-widget%3D%22form%2C%24%2C%24settingFormOpts%22%3E%3Cul%20class%3D%22module-cardrulesetting-nav-list%20fn-clear%22%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22fans%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'fans'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22integral%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'integral'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22store%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'store'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-nav-item%20fn-left%22%20data-panel-name%3D%22integralStore%22%20ms-class-1%3D%22state-active%3AactivePanel%20%3D%3D%20'integralStore'%22%20ms-click%3D%22switchPanel%22%3E%3Ca%20href%3D%22javascript%3A%3B%22%3E%E7%A7%AF%E5%88%86%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22module-cardrulesetting-panel-list%22%3E%3Cli%20class%3D%22fans-panel-item%20module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'fans'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22fansCardList.length%22%3E%3Cul%20class%3D%22fans-card-list%22%3E%3Cli%20class%3D%22fans-card-item%20card-item%22%20ms-repeat%3D%22fansCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22f-field%20f-field-last%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%94%B5%E5%AD%90%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%20iconfont%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22fans%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22fans%22%3E%E5%A2%9E%E5%8A%A0%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!fansCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22fans%22%3E%E6%B7%BB%E5%8A%A0%E7%B2%89%E4%B8%9D%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'integral'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22integralCardList.length%22%3E%3Cul%20class%3D%22integral-card-list%22%3E%3Cli%20class%3D%22integral-card-item%20card-item%22%20ms-repeat%3D%22integralCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%A7%AF%E5%88%86%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%EF%BC%8C%E6%AF%8F%E5%BC%A0%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22card-price%20input-text%22%20ms-value%3D%22el.cardPrice%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22consume-rebate%20input-text%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E7%8E%B0%E9%87%91%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%E7%8E%87%22%20ms-value%3D%22el.consumeRebate%22%20ms-data-consume-rebate-id%3D%22el.consumeRebateId%22%3E%26nbsp%3B%25%E7%A7%AF%E5%88%86%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22integral%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integral%22%3E%E5%A2%9E%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!integralCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integral%22%3E%E6%B7%BB%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'store'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22storeCardList.length%22%3E%3Cul%20class%3D%22store-card-list%22%3E%3Cli%20class%3D%22store-card-item%20card-item%22%20ms-repeat%3D%22storeCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%A7%AF%E5%88%86%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%20ff-value-text%22%3E%3Cdiv%20class%3D%22rebate-type-wrapper%22%20ms-attr-id%3D%22el.%24assistId%22%3E%3Cdiv%20class%3D%22rebate-type-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-type%22%20ms-widget%3D%22select%2C%24%2C%24rebateTypeOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-range-wrapper%22%20ms-visible%3D%22el.showAmountRange%22%3E%3Cul%20class%3D%22card-rebate-list%22%3E%3Cli%20class%3D%22card-rebate-item%22%20ms-repeat%3D%22el.rangeRebate%22%20ms-attr-id%3D%22el.%24assistId%22%20ms-data-rule-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-rebate-item-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cdiv%20class%3D%22rebate-type-field%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22begin-amount%20input-text%22%20ms-value%3D%22beginAmount%22%3E%26nbsp%3B-%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22end-amount%20input-text%22%20ms-value%3D%22endAmount%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-setting-field%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-value%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22close-h%20icon-close%20iconfont%22%20data-panel-name%3D%22store%22%20ms-visible%3D%22%24index%20!%3D%200%22%20ms-click%3D%22_clickRemoveRebate%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Ca%20href%3D%22javascript%3A%3B%22%20class%3D%22add-more-rebate-h%22%20ms-click%3D%22_clickAddRebate%22%20data-panel-name%3D%22store%22%3E%E5%A2%9E%E5%8A%A0%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%E8%A7%84%E5%88%99%3C%2Fa%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-fixed-wrapper%22%20ms-attr-id%3D%22el.fixedRebate.%24assistId%22%20ms-data-rule-id%3D%22el.fixedRebate.id%22%20ms-visible%3D%22!el.showAmountRange%22%3E%3Cdiv%20class%3D%22amount-fixed-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-duplex%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%20iconfont%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22store%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22store%22%3E%E5%A2%9E%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!storeCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22store%22%3E%E6%B7%BB%E5%8A%A0%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22module-cardrulesetting-panel-item%22%20ms-visible%3D%22activePanel%20%3D%3D%20'integralStore'%22%3E%3Cdiv%20class%3D%22card-list-wrapper%22%20ms-visible%3D%22integralStoreCardList.length%22%3E%3Cul%20class%3D%22integral-store-card-list%22%3E%3Cli%20class%3D%22integral-store-card-item%20card-item%22%20ms-repeat%3D%22integralStoreCardList%22%20ms-data-card-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%8D%A1%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22card-name%20input-text%22%20placeholder%3D%22%E5%A6%82%EF%BC%9A%E7%A7%AF%E5%88%86%E5%8D%A1%22%20ms-value%3D%22el.cardName%22%3E%EF%BC%8C%E6%AF%8F%E5%BC%A0%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22card-price%20input-text%22%20ms-value%3D%22el.cardPrice%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22consume-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20ff-value-text%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22consume-rebate%20input-text%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E7%8E%B0%E9%87%91%E6%B6%88%E8%B4%B9%E8%BF%94%E7%82%B9%E7%8E%87%22%20ms-value%3D%22el.consumeRebate%22%20ms-data-consume-rebate-id%3D%22el.consumeRebateId%22%3E%26nbsp%3B%25%E7%A7%AF%E5%88%86%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-info-field%20f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%20ff-value-text%22%3E%3Cdiv%20class%3D%22rebate-type-wrapper%22%20ms-attr-id%3D%22el.%24assistId%22%3E%3Cdiv%20class%3D%22rebate-type-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-type%22%20ms-widget%3D%22select%2C%24%2C%24rebateTypeOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-range-wrapper%22%20ms-visible%3D%22el.showAmountRange%22%3E%3Cul%20class%3D%22card-rebate-list%22%3E%3Cli%20class%3D%22card-rebate-item%22%20ms-repeat%3D%22el.rangeRebate%22%20ms-attr-id%3D%22el.%24assistId%22%20ms-data-rule-id%3D%22el.id%22%3E%3Cdiv%20class%3D%22card-rebate-item-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cdiv%20class%3D%22rebate-type-field%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22begin-amount%20input-text%22%20ms-value%3D%22beginAmount%22%3E%26nbsp%3B-%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22end-amount%20input-text%22%20ms-value%3D%22endAmount%22%3E%26nbsp%3B%E5%85%83%3C%2Fdiv%3E%3Cdiv%20class%3D%22rebate-setting-field%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-value%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22close-h%20icon-close%20iconfont%22%20data-panel-name%3D%22integralStore%22%20ms-visible%3D%22%24index%20!%3D%200%22%20ms-click%3D%22_clickRemoveRebate%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Ca%20href%3D%22javascript%3A%3B%22%20class%3D%22add-more-rebate-h%22%20ms-click%3D%22_clickAddRebate%22%20data-panel-name%3D%22integralStore%22%3E%E5%A2%9E%E5%8A%A0%E5%82%A8%E5%80%BC%E8%BF%94%E7%82%B9%E8%A7%84%E5%88%99%3C%2Fa%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22amount-fixed-wrapper%22%20ms-attr-id%3D%22el.fixedRebate.%24assistId%22%20ms-data-rule-id%3D%22el.fixedRebate.id%22%20ms-visible%3D%22!el.showAmountRange%22%3E%3Cdiv%20class%3D%22amount-fixed-inner%20fn-hide%22%20ms-skip%3D%221%22%3E%3Cspan%20class%3D%22rebate-setting%22%20ms-widget%3D%22select%2C%24%2C%24rebateSettingOpts%22%3E%3C%2Fspan%3E%26nbsp%3B%E8%BF%94%26nbsp%3B%3Cinput%20type%3D%22text%22%20class%3D%22rebate-value%20input-text%22%20ms-duplex%3D%22rebateValue%22%3E%26nbsp%3B%3Cspan%20class%3D%22rebate-unit%22%20ms-widget%3D%22select%2C%24%2C%24rebateUnitOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22card-item-close-h%20icon-close%20iconfont%22%20ms-click%3D%22removeCardItem%22%20data-panel-name%3D%22integralStore%22%3E%26%2310005%3B%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3Cdiv%20class%3D%22panel-action%22%3E%3Cbutton%20type%3D%22button%22%20class%3D%22add-more-card-btn%20simple-btn%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integralStore%22%3E%E5%A2%9E%E5%8A%A0%E7%A7%AF%E5%88%86%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-list-empty-tip%22%20ms-visible%3D%22!integralStoreCardList.length%22%3E%E8%BF%98%E6%B2%A1%E6%9C%89%E7%A7%AF%E5%88%86%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%EF%BC%8C%E7%82%B9%E5%87%BB%3Ca%20href%3D%22javascript%3A%3B%22%20ms-click%3D%22_clickAddCard%22%20data-panel-name%3D%22integralStore%22%3E%E6%B7%BB%E5%8A%A0%E7%A7%AF%E5%88%86%E5%82%A8%E5%80%BC%E4%BC%9A%E5%91%98%E5%8D%A1%3C%2Fa%3E%3C%2Fdiv%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin/module/cardrulesetting/cardrulesetting.css
define("originmodulecardrulesettingcardrulesettingcss", [], function () {return decodeURIComponent(".module-cardrulesetting-dialog%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%20%20%20%20border-top%3A%205px%20solid%20%23C7D4E3%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23cde2f9%3B%0A%7D%0A.module-cardrulesetting-nav-list%20%7B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20background%3A%20%23edf6ff%3B%0A%7D%0A.module-cardrulesetting-nav-item%20%7B%0A%20%20%20%20width%3A%2025%25%3B%0A%7D%0A.module-cardrulesetting-nav-item%20a%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20line-height%3A%2034px%3B%0A%20%20%20%20height%3A%2034px%3B%0A%20%20%20%20border-top%3A%204px%20solid%20%23edf6ff%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20margin-bottom%3A%20-1px%3B%0A%20%20%20%20color%3A%20%23666666%3B%0A%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%7D%0A.module-cardrulesetting-nav-list%20.state-active%20a%20%7B%0A%20%20%20%20border-top%3A%204px%20solid%20%2376a9e0%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23ffffff%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23cde2f9%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20color%3A%20%2376a9e0%3B%0A%20%20%20%20font-family%3A%20%5C65B0%5C5B8B%5C4F53%2C%20%5C5b8b%5C4f53%3B%0A%7D%0A.module-cardrulesetting-nav-list%20.state-error%20a%20%7B%0A%20%20%20%20background%3A%20%23F56152%3B%0A%7D%0A.module-cardrulesetting-panel-item%20%7B%0A%20%20%20%20height%3A%20380px%3B%0A%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20padding%3A%2020px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-item%20%7B%0A%20%20%20%20background%3A%20%23f3f3f3%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20margin-bottom%3A%2010px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-item-close-h%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%208px%3B%0A%20%20%20%20right%3A%208px%3B%0A%20%20%20%20line-height%3A%201em%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.panel-action%20%7B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-list-empty-tip%20%7B%0A%20%20%20%20padding-top%3A%2020px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23666666%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.ff-label%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-name%2C%0A.module-cardrulesetting-panel-item%20.rebate-type%2C%0A.module-cardrulesetting-panel-item%20.rebate-setting%2C%0A.module-cardrulesetting-panel-item%20.rebate-unit%20%7B%0A%20%20%20%20width%3A%20148px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-num%2C%0A.module-cardrulesetting-panel-item%20.card-price%2C%0A.module-cardrulesetting-panel-item%20.begin-amount%2C%0A.module-cardrulesetting-panel-item%20.end-amount%2C%0A.module-cardrulesetting-panel-item%20.rebate-value%20%7B%0A%20%20%20%20width%3A%2078px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-rebate-item%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-rebate-item%20.close-h%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%208px%3B%0A%20%20%20%20right%3A%208px%3B%0A%20%20%20%20line-height%3A%201em%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.card-rebate-item%20.rebate-type-field%20%7B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%7D%0A.module-cardrulesetting-panel-item%20.add-more-rebate-h%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20width%3A%20130px%3B%0A%7D%0A.module-cardrulesetting-dialog%20.amount-range-wrapper%2C%0A.module-cardrulesetting-dialog%20.amount-fixed-wrapper%20%7B%0A%20%20%20%20margin-top%3A%208px%3B%0A%7D%0A.module-cardrulesetting-dialog%20.amount-fixed-inner%20%7B%0A%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%7D%0A");});

//From origin/module/cardrulesetting/cardrulesetting.js
define('originmodulecardrulesettingcardrulesettingjs',['avalon','util','json','moment','originmodulecardrulesettingcardrulesettinghtml','originmodulecardrulesettingcardrulesettingcss','common','dialog','originwidgetformformjs','originwidgetformselectjs'],function(a,c,k,l,j,g){function i(b){var a='';switch(b){case 1:a='fans';break;case 2:a='integral';break;case 3:a='store';break;case 4:a='integralStore';break;default:break;}return a;}var h=this,e=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var d=b.data('module')||{};if(!d.cardrulesetting){try{b.html(b.html()+c.adjustModuleCssUrl(g,'cardrulesetting/'));}catch(a){b[0].styleSheet.cssText+=c.adjustModuleCssUrl(g,'cardrulesetting/');}d.cardrulesetting=!0,b.data('module',d);}var f=e.module.cardrulesetting=function(l,f,p){var n=f.cardrulesettingOptions,h=$(l),o=new Date(),g=f.cardrulesettingId+'-setting-dialog',b=f.cardrulesettingId+'-setting-form',m=0,d=a.define(f.cardrulesettingId,function(o){a.mix(o,n),o.widgetElement=l,o.activePanel='fans',o.fansCardList=[],o.integralCardList=[],o.storeCardList=[],o.integralStoreCardList=[],o.readonly=!1,o.$settingDialogOpts={dialogId:g,title:'\u4F1A\u5458\u5361\u89C4\u5219',width:700,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="close">\u786E&nbsp;\u5B9A</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onClose:function(){var c=a.getVm(b),d=$(c.widgetElement);$('.card-rebate-item',d).each(function(){$('.close-h',this).click();}),_.each(['fans','integral','store','integralStore'],function(a){o[a+'CardList'].clear();}),c.reset(),$('.module-cardrulesetting-nav-item',d).removeData('valid').removeClass('state-error'),o.activePanel='fans';},onOpen:function(){c.c2s({url:e.BASE_PATH+'trade/cardtype/listCardtypes.do',data:{merchantId:o.merchantId},success:function(a){var b;a.flag&&(b=a.data,_.each(b,function(a){var d=a.awardRuleVos,e=i(a.gradeLevel),c=_.find(d,function(a){return a.awardType===1;}),b=_.find(d,function(a){return a.awardType===2&&a.rebateType===1;}),f=_.filter(d,function(a){return a.awardType===2&&a.rebateType===2;});o['add'+_.str.capitalize(e)+'Card']({cardName:a.cardtype,id:a.id,gradeLevel:a.gradeLevel,cardPrice:a.price,consumeRebate:c?c.awardAmount:'',consumeRebateId:c?c.id:'',rebateType:a.rebateType,fixedRebate:b?{rebateValue:b.awardAmount,awardType:b.awardType,awardAmountType:b.awardAmountType,id:b.id}:null,rangeRebate:_.map(f,function(a){return{id:a.id,beginAmount:a.lowerLimit,endAmount:a.upperLimit,rebateValue:a.awardAmount,awardType:a.awardType,awardAmountType:a.awardAmountType};})});}));}});},submit:function(){var h=a.getVm(b),f,d=[];h.validate()&&(f=h.getFormData(),f.fansCard&&(d=d.concat(f.fansCard)),f.integralCard&&(d=d.concat(f.integralCard)),f.storeCard&&(d=d.concat(f.storeCard)),f.integralStoreCard&&(d=d.concat(f.integralStoreCard)),_.each(d,function(a){a.id||(a.id=null),_.each(a.awardRuleVos,function(a){a.id||(a.id=null);});}),c.c2s({url:e.BASE_PATH+'trade/cardtype/saveCardtypes.do',contentType:'application/json',data:k.stringify(d),success:function(b){b.flag&&(c.alert({content:b.message,iconType:'success'}),a.getVm(g).close()),o.onUpdateCallback.call(o,b);}}));}},o.$settingFormOpts={formId:b,field:[{selector:'.fans-panel-item .card-name',name:'fansCard',getValue:function(){var d=$('.fans-card-item',a.getVm(b).widgetElement),c=[];return d.each(function(){var a=$(this),b=$('.card-name',this);c.push({cardtype:_.str.trim(b.val()),id:a.data('cardId'),gradeLevel:1,awardRuleVos:[],merchantId:o.merchantId});}),c;},rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.fans-card-item',f),c=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="fans"]'),d=c.data('valid')||{},g=!0;return e.each(function(){var a=$(this);return _.str.trim(a.val()).length?void 0:(g=!1,!1);}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),d.card=!0,d.card&&c.removeClass('state-error')):(h.each(function(g){var e=$(this),c=$('.card-name',e),f=$('.ff-value',e),b=$('.ff-value-tip',f),d=[];_.str.trim(c.val()).length?c.removeClass(a.errorCls+'-field'):(d.push('\u5361\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field')),d.length?(b.addClass(a.errorCls),b.text(d.join('\uFF0C'))):(b.removeClass(a.errorCls),b.empty());}),o.activePanel!=='fans'&&(c.addClass('state-error'),d.card=!1)),c.data('valid',d);},isPassed:g};}},{selector:'.integral-card-item .card-name,.integral-card-item .card-price',name:'integralCard',getValue:function(){var d=$('.integral-card-item',a.getVm(b).widgetElement),c=[];return d.each(function(){var b=$(this),d=$('.card-name',this),e=$('.card-price',this),a=$('.consume-rebate',this);c.push({cardtype:_.str.trim(d.val()),id:b.data('cardId'),price:_.str.trim(e.val()),gradeLevel:2,awardRuleVos:[{id:a.data('consumeRebateId'),awardAmount:_.str.trim(a.val()),awardType:1,transCode:'0002',awardAmountType:2}],merchantId:o.merchantId});}),c;},rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.integral-card-list .card-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="integral"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this);return _.str.trim(a.val()).length?void 0:(g=!1,!1);}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.card=!0,c.card&&c.consume&&d.removeClass('state-error')):(h.each(function(h){var d=$(this),e=$('.card-name',d),f=$('.card-price',d),g=$('.ff-value',d),b=$('.ff-value-tip',g),c=[];_.str.trim(e.val()).length?e.removeClass(a.errorCls+'-field'):(c.push('\u5361\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A'),e.addClass(a.errorCls+'-field')),_.str.trim(f.val()).length?f.removeClass(a.errorCls+'-field'):(c.push('\u5361\u5355\u4EF7\u4E0D\u80FD\u4E3A\u7A7A'),f.addClass(a.errorCls+'-field')),c.length?(b.addClass(a.errorCls),b.text(c.join('\uFF0C'))):(b.removeClass(a.errorCls),b.empty());}),o.activePanel!=='integral'&&(d.addClass('state-error'),c.card=!1)),d.data('valid',c);},isPassed:g};}},{selector:'.integral-card-item .consume-rebate',rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.integral-card-list .rebate-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="integral"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this);return _.str.trim(a.val()).length?void 0:(g=!1,!1);}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.consume=!0,c.card&&c.consume&&d.removeClass('state-error')):(h.each(function(g){var e=$(this),c=$('.consume-rebate',e),f=$('.ff-value',e),b=$('.ff-value-tip',f),d=[];_.str.trim(c.val()).length?c.removeClass(a.errorCls+'-field'):(d.push('\u6D88\u8D39\u8FD4\u70B9\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field')),d.length?(b.addClass(a.errorCls),b.text(d.join('\uFF0C'))):(b.removeClass(a.errorCls),b.empty());}),o.activePanel!=='integral'&&(d.addClass('state-error'),c.consume=!1)),d.data('valid',c);},isPassed:g};}},{selector:'.store-card-item .card-name',name:'storeCard',getValue:function(){var d=$('.store-card-item',a.getVm(b).widgetElement),c=[];return d.each(function(){var f=$(this),k=$('.card-name',this),i=$('.rebate-type-wrapper',this),h=a.getVm(i.attr('id')),b=a.getVm(h.$rebateTypeOpts.selectId),g,j=$('.amount-range-wrapper .card-rebate-item',this),e,l,m,d=[];b.selectedValue===1?(g=$('.amount-fixed-wrapper',f),e=a.getVm(g.attr('id')),l=a.getVm(e.$rebateSettingOpts.selectId),m=a.getVm(e.$rebateUnitOpts.selectId),d.push({id:g.data('ruleId'),awardAmount:_.str.trim(e.rebateValue),rebateType:b.selectedValue,awardType:2,awardAmountType:l.selectedValue,transCode:'2001'})):j.each(function(){var e=$('.begin-amount',this),f=$('.end-amount',this),g=$('.rebate-value',this),c=a.getVm($(this).attr('id')),h=a.getVm(c.$rebateSettingOpts.selectId),i=a.getVm(c.$rebateUnitOpts.selectId);d.push({id:$(this).data('ruleId'),lowerLimit:_.str.trim(e.val()),upperLimit:_.str.trim(f.val()),awardAmount:_.str.trim(g.val()),rebateType:b.selectedValue,awardType:2,awardAmountType:h.selectedValue,transCode:'2001'});}),c.push({cardtype:_.str.trim(k.val()),id:f.data('cardId'),gradeLevel:3,rebateType:b.selectedValue,awardRuleVos:d,merchantId:o.merchantId});}),c;},rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.store-card-list .card-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="store"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this);return _.str.trim(a.val()).length?void 0:(g=!1,!1);}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.card=!0,c.card&&c.rebate&&d.removeClass('state-error')):(h.each(function(g){var e=$(this),c=$('.card-name',e),f=$('.ff-value',e),b=$('.ff-value-tip',f),d=[];_.str.trim(c.val()).length?c.removeClass(a.errorCls+'-field'):(d.push('\u5361\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field')),d.length?(b.addClass(a.errorCls),b.text(d.join('\uFF0C'))):(b.removeClass(a.errorCls),b.empty());}),o.activePanel!=='store'&&(d.addClass('state-error'),c.card=!1)),d.data('valid',c);},isPassed:g};}},{selector:'.store-card-item .begin-amount,.store-card-item .end-amount,.store-card-item .rebate-value',rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.store-card-list .rebate-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="store"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this),b=a.closest('.amount-range-wrapper');return b.length||(b=a.closest('.amount-fixed-wrapper')),b.css('display')==='block'&&!_.str.trim(a.val()).length?(g=!1,!1):void 0;}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.rebate=!0,c.card&&c.rebate&&d.removeClass('state-error')):(h.each(function(i){var c=$(this),e=$('.begin-amount',c),f=$('.end-amount',c),g=$('.rebate-value',c),h=$('.ff-value',c),d=$('.ff-value-tip',h),b=[];e.each(function(){var c=$(this),d=_.str.trim(c.val());if(c.is(':visible')){if(!d.length)return b.push('\u8D77\u59CB\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field'),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(d))return b.push('\u91D1\u989D\u6700\u591A\u4FDD\u75592\u4F4D\u5C0F\u6570'),c.addClass(a.errorCls+'-field'),!1;c.removeClass(a.errorCls+'-field');}else c.removeClass(a.errorCls+'-field');}),f.each(function(){var c=$(this),e=c.siblings('.begin-amount'),d=_.str.trim(c.val());if(c.is(':visible')){if(!d.length)return b.push('\u622A\u6B62\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field'),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(d))return b.push('\u91D1\u989D\u6700\u591A\u4FDD\u75592\u4F4D\u5C0F\u6570'),c.addClass(a.errorCls+'-field'),!1;if(d<parseFloat(_.str.trim(e.val()),10))return b.push('\u8D77\u59CB\u91D1\u989D\u4E0D\u80FD\u5927\u4E8E\u622A\u6B62\u91D1\u989D'),c.addClass(a.errorCls+'-field'),!1;c.removeClass(a.errorCls+'-field');}else c.removeClass(a.errorCls+'-field');}),g.each(function(){var c=$(this);if(c.is(':visible')&&!_.str.trim(c.val()).length)return b.push('\u8FD4\u70B9\u503C\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field'),!1;c.removeClass(a.errorCls+'-field');}),b.length?(d.addClass(a.errorCls),d.text(b.join('\uFF0C'))):(d.removeClass(a.errorCls),d.empty());}),o.activePanel!=='store'&&(d.addClass('state-error'),c.rebate=!1)),d.data('valid',c);},isPassed:g};}},{selector:'.integral-store-card-item .card-name,.integral-store-card-item .card-price',name:'integralStoreCard',getValue:function(){var d=$('.integral-store-card-item',a.getVm(b).widgetElement),c=[];return d.each(function(){var h=$(this),j=$('.card-name',this),k=$('.card-price',this),g=$('.consume-rebate',this),m=$('.rebate-type-wrapper',this),i=a.getVm(m.attr('id')),b=a.getVm(i.$rebateTypeOpts.selectId),f,l=$('.amount-range-wrapper .card-rebate-item',this),e,n,p,d=[];b.selectedValue===1?(f=$('.amount-fixed-wrapper',h),e=a.getVm(f.attr('id')),n=a.getVm(e.$rebateSettingOpts.selectId),p=a.getVm(e.$rebateUnitOpts.selectId),d.push({id:f.data('ruleId'),awardAmount:_.str.trim(e.rebateValue),rebateType:b.selectedValue,awardType:2,awardAmountType:n.selectedValue,transCode:'2001'})):l.each(function(){var e=$('.begin-amount',this),f=$('.end-amount',this),g=$('.rebate-value',this),c=a.getVm($(this).attr('id')),h=a.getVm(c.$rebateSettingOpts.selectId),i=a.getVm(c.$rebateUnitOpts.selectId);d.push({id:$(this).data('ruleId'),lowerLimit:_.str.trim(e.val()),upperLimit:_.str.trim(f.val()),awardAmount:_.str.trim(g.val()),rebateType:b.selectedValue,awardType:2,awardAmountType:h.selectedValue,transCode:'2001'});}),d.push({id:g.data('consumeRebateId'),awardAmount:_.str.trim(g.val()),awardType:1,transCode:'0002',awardAmountType:2}),c.push({cardtype:_.str.trim(j.val()),price:_.str.trim(k.val()),id:h.data('cardId'),gradeLevel:4,rebateType:b.selectedValue,awardRuleVos:d,merchantId:o.merchantId});}),c;},rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.integral-store-card-list .card-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="integralStore"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this);return _.str.trim(a.val()).length?void 0:(g=!1,!1);}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.card=!0,c.card&&c.consume&&c.rebate&&d.removeClass('state-error')):(h.each(function(h){var d=$(this),e=$('.card-name',d),f=$('.card-price',d),g=$('.ff-value',d),b=$('.ff-value-tip',g),c=[];_.str.trim(e.val()).length?e.removeClass(a.errorCls+'-field'):(c.push('\u5361\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A'),e.addClass(a.errorCls+'-field')),_.str.trim(f.val()).length?f.removeClass(a.errorCls+'-field'):(c.push('\u5361\u5355\u4EF7\u4E0D\u80FD\u4E3A\u7A7A'),f.addClass(a.errorCls+'-field')),c.length?(b.addClass(a.errorCls),b.text(c.join('\uFF0C'))):(b.removeClass(a.errorCls),b.empty());}),o.activePanel!=='integralStore'&&(d.addClass('state-error'),c.card=!1)),d.data('valid',c);},isPassed:g};}},{selector:'.integral-store-card-item .consume-rebate',rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.integral-store-card-list .consume-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="integralStore"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this);return _.str.trim(a.val()).length?void 0:(g=!1,!1);}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.consume=!0,c.card&&c.consume&&c.rebate&&d.removeClass('state-error')):(h.each(function(g){var e=$(this),c=$('.consume-rebate',e),f=$('.ff-value',e),b=$('.ff-value-tip',f),d=[];_.str.trim(c.val()).length?c.removeClass(a.errorCls+'-field'):(d.push('\u6D88\u8D39\u8FD4\u70B9\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field')),d.length?(b.addClass(a.errorCls),b.text(d.join('\uFF0C'))):(b.removeClass(a.errorCls),b.empty());}),o.activePanel!=='integralStore'&&(d.addClass('state-error'),c.consume=!1)),d.data('valid',c);},isPassed:g};}},{selector:'.integral-store-card-item .begin-amount,.integral-store-card-item .end-amount,.integral-store-card-item .rebate-value',rule:function(){var e=$(this),f=$(a.getVm(b).widgetElement),h=$('.integral-store-card-list .rebate-info-field',f),d=$('.module-cardrulesetting-nav-item',f).filter('[data-panel-name="integralStore"]'),c=d.data('valid')||{},g=!0;return e.each(function(){var a=$(this),b=a.closest('.amount-range-wrapper');return b.length||(b=a.closest('.amount-fixed-wrapper')),b.css('display')==='block'&&!_.str.trim(a.val()).length?(g=!1,!1):void 0;}),{handler:function(b,a){b?(e.each(function(e){var b=$(this),c=b.closest('.ff-value'),d=$('.ff-value-tip',c);d.removeClass(a.errorCls).empty(),b.removeClass(a.errorCls+'-field');}),c.rebate=!0,c.card&&c.consume&&c.rebate&&d.removeClass('state-error')):(h.each(function(i){var c=$(this),e=$('.begin-amount',c),f=$('.end-amount',c),g=$('.rebate-value',c),h=$('.ff-value',c),d=$('.ff-value-tip',h),b=[];e.each(function(){var c=$(this),d=_.str.trim(c.val());if(c.is(':visible')){if(!d.length)return b.push('\u8D77\u59CB\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field'),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(d))return b.push('\u91D1\u989D\u6700\u591A\u4FDD\u75592\u4F4D\u5C0F\u6570'),c.addClass(a.errorCls+'-field'),!1;c.removeClass(a.errorCls+'-field');}else c.removeClass(a.errorCls+'-field');}),f.each(function(){var c=$(this),e=c.siblings('.begin-amount'),d=_.str.trim(c.val());if(c.is(':visible')){if(!d.length)return b.push('\u622A\u6B62\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field'),!1;if(!/^-?\d+(\.\d{1,2})?$/.test(d))return b.push('\u91D1\u989D\u6700\u591A\u4FDD\u75592\u4F4D\u5C0F\u6570'),c.addClass(a.errorCls+'-field'),!1;if(d<parseFloat(_.str.trim(e.val()),10))return b.push('\u8D77\u59CB\u91D1\u989D\u4E0D\u80FD\u5927\u4E8E\u622A\u6B62\u91D1\u989D'),c.addClass(a.errorCls+'-field'),!1;c.removeClass(a.errorCls+'-field');}else c.removeClass(a.errorCls+'-field');}),g.each(function(){var c=$(this);if(c.is(':visible')&&!_.str.trim(c.val()).length)return b.push('\u8FD4\u70B9\u503C\u4E0D\u80FD\u4E3A\u7A7A'),c.addClass(a.errorCls+'-field'),!1;c.removeClass(a.errorCls+'-field');}),b.length?(d.addClass(a.errorCls),d.text(b.join('\uFF0C'))):(d.removeClass(a.errorCls),d.empty());}),o.activePanel!=='integralStore'&&(d.addClass('state-error'),c.rebate=!1)),d.data('valid',c);},isPassed:g};}}]},o.switchPanel=function(){var c=a(this).data('panelName');o.activePanel=c,$('.module-cardrulesetting-nav-item',a.getVm(b).widgetElement).filter('[data-panel-name="'+c+'"]').removeClass('state-error');},o.removeCardItem=function(){var c=a(this).data('panelName'),d=$(this).closest('.card-item'),e,f,b,g=this.$vmodel.$index;(c==='store'||c==='integralStore')&&($('.card-rebate-list .close-h',d).click(),e=$('.rebate-type-wrapper',d),e.length&&(b=a.getVm(e.attr('id')),$(a.getVm(b.$rebateTypeOpts.selectId).widgetElement).remove(),delete a.vmodels[b.$id]),f=$('.amount-fixed-wrapper',d),f.length&&(b=a.getVm(f.attr('id')),$(a.getVm(b.$rebateSettingOpts.selectId).widgetElement).remove(),$(a.getVm(b.$rebateUnitOpts.selectId).widgetElement).remove(),delete a.vmodels[b.$id])),o[c+'CardList'].removeAt(g);},o._clickAddCard=function(){var b=a(this).data('panelName');o['add'+_.str.capitalize(b)+'Card']();},_.each(['fans','integral','store','integralStore'],function(a){o['add'+_.str.capitalize(a)+'Card']=function(c){var e={rebateType:1,cardName:'',cardPrice:'',consumeRebate:'',id:0,gradeLevel:0,consumeRebateId:0,showAmountRange:!1},d=[],b=null;(a==='store'||a==='integralStore')&&(d=c&&c.rangeRebate||[{beginAmount:'',endAmount:'',rebateValue:'',id:0,awardType:2,awardAmountType:0}],b=c&&c.fixedRebate||{rebateValue:'',id:0,awardType:2,awardAmountType:0},_.extend(b,o._createAssistVm(b,'fixed')),_.extend(e,o._createAssistVm({$atIndex:o[a+'CardList'].size(),$panelName:a,$fixedAssistId:b.$assistId},'card'))),_.each(d,function(a){_.extend(a,o._createAssistVm(a,'range'));}),o[a+'CardList'].push(_.extend(e,c,{rangeRebate:d,fixedRebate:b})),(a==='store'||a==='integralStore')&&(o._scanRebateTmpl(e,'card'),o._scanRebateTmpl(b,'fixed'),_.each(d,function(a){o._scanRebateTmpl(a,'range');}));};}),o._clickAddRebate=function(){var c=this.$vmodel.$index,d=a(this).data('panelName'),e=o[d+'CardList'][c],b=o._getNewRangeRebate();e.rangeRebate.push(b),o._scanRebateTmpl(b,'range');},o._getNewRangeRebate=function(){var a={beginAmount:'',endAmount:'',rebateValue:'',id:0,awardType:2,awardAmountType:0};return _.extend(a,o._createAssistVm(a,'range')),a;},o._clickRemoveRebate=function(){var b=$(this).closest('.card-rebate-item').attr('id'),c=a(this).data('panelName');_.some(o[c+'CardList'].$model,function(d,e){return _.some(d.rangeRebate,function(h,i){var d,f,g;return h.$assistId==b?(d=a.getVm(b),f=a.getVm(d.$rebateSettingOpts.selectId),g=a.getVm(d.$rebateUnitOpts.selectId),$(f.widgetElement).remove(),$(g.widgetElement).remove(),delete a.vmodels[b],o[c+'CardList'][e].rangeRebate.removeAt(i),!0):void 0;});});},o._createAssistVm=function(g,c){var b=f.cardrulesettingId+'-'+c+'-'+m,e;return c==='range'?e=a.define(b,function(c){a.mix(c,g),c.$assistId=b,c.$rebateSettingOpts={selectId:b+'-rebate-setting',options:[{text:'\u6309\u767E\u5206\u6BD4',value:2},{text:'\u6309\u56FA\u5B9A\u503C',value:1}],onSelect:function(d){var c=a.getVm(b+'-rebate-unit');d===2?c.setOptions([{text:'%\u50A8\u503C',value:1},{text:'%\u79EF\u5206',value:2}]):c.setOptions([{text:'\u50A8\u503C',value:1},{text:'\u79EF\u5206',value:2}]);}},c.$rebateUnitOpts={selectId:b+'-rebate-unit',options:[{text:'%\u50A8\u503C',value:1},{text:'%\u79EF\u5206',value:2}]};}):c==='fixed'?e=a.define(b,function(c){a.mix(c,g),c.$assistId=b,c.$rebateSettingOpts={selectId:b+'-rebate-setting',options:[{text:'\u6309\u767E\u5206\u6BD4',value:2},{text:'\u6309\u56FA\u5B9A\u503C',value:1}],onSelect:function(d){var c=a.getVm(b+'-rebate-unit');d===2?c.setOptions([{text:'%\u50A8\u503C',value:1},{text:'%\u79EF\u5206',value:2}]):c.setOptions([{text:'\u50A8\u503C',value:1},{text:'\u79EF\u5206',value:2}]);}},c.$rebateUnitOpts={selectId:b+'-rebate-unit',options:[{text:'%\u50A8\u503C',value:1},{text:'%\u79EF\u5206',value:2}]};}):c==='card'&&(e=a.define(b,function(c){a.mix(c,g),c.$assistId=b,c.$rebateTypeOpts={selectId:b+'-rebate-type',options:[{text:'\u56FA\u5B9A\u8FD4\u70B9',value:1},{text:'\u91D1\u989D\u6BB5',value:2}],onSelect:function(g){var f,e=d[c.$panelName+'CardList'][c.$atIndex];g===2?(e.showAmountRange=!0,a.getVm(c.$fixedAssistId).rebateValue=''):(e.showAmountRange=!1,_.each(e.rangeRebate.$model,function(c){var b=a.getVm(c.$assistId),d=a.getVm(b.$rebateSettingOpts.selectId),e=a.getVm(b.$rebateUnitOpts.selectId);$(d.widgetElement).remove(),$(e.widgetElement).remove(),delete a.vmodels[c.$assistId];}),e.rangeRebate.clear(),f=d._getNewRangeRebate(),e.rangeRebate.push(f),d._scanRebateTmpl(f,'range')),$(a.getVm(b+'-rebate-type').widgetElement).closest('.ff-value').find('.ff-value-tip').empty().removeClass('valid-error');}};})),m++,{$assistVm:e,$assistId:b};},o._scanRebateTmpl=function(b,d){var f=b.$assistId,c=b.$assistVm,g,h,e=$('#'+f);e.children().removeAttr('ms-skip').removeClass('fn-hide'),a.scan(e[0],[c]),d==='fixed'||d==='range'?(h=a.getVm(c.$rebateSettingOpts.selectId),h.selectValue(b.awardAmountType)):d==='card'&&(g=a.getVm(c.$rebateTypeOpts.selectId),g.selectValue(b.rebateType));},o.open=function(){a.getVm(g).open();},o.close=function(){a.getVm(g).close();},o.setReadonly=function(a){o.readonly=!!a;},o.$init=function(){h.addClass('module-cardrulesetting'),h.html(j),a.scan(l,[d].concat(p));},o.$remove=function(){h.removeClass('module-cardrulesetting').off().empty();},o.$skipArray=['widgetElement'];});return d;};return f.version=1,f.defaults={merchantId:0,onUpdateCallback:a.noop},a;});

//From origin/module/cwselector/cwselector.html
define("originmodulecwselectorcwselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22courseware-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24coursewareOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22query%20input-text%22%20placeholder%3D%22%E8%AF%BE%E4%BB%B6%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22queryCourseName%22%20ms-keydown%3D%22inputEnterKey%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22courseware-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22courseware-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectCourseware%22%20ms-repeat%3D%22coursewareList%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22item-cell%20fn-left%22%3E%7B%7Bel.coursewareName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/cwselector/cwselector.css
define("originmodulecwselectorcwselectorcss", [], function () {return decodeURIComponent(".courseware-select-dialog%20.query%20%7B%0A%20%20%20%20width%3A%20200px%3B%0A%7D%0A");});

//From origin/module/cwselector/cwselector.js
define('originmodulecwselectorcwselectorjs',['avalon','util','originmodulecwselectorcwselectorhtml','originmodulecwselectorcwselectorcss','common','dialog'],function(a,d,i,g){var h=this,e=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var c=b.data('module')||{};if(!c.cwselector){try{b.html(b.html()+d.adjustModuleCssUrl(g,'cwselector/'));}catch(a){b[0].styleSheet.cssText+=d.adjustModuleCssUrl(g,'cwselector/');}c.cwselector=!0,b.data('module',c);}var f=e.module.cwselector=function(g,h,k){var c=h.cwselectorOptions,b=h.cwselectorId+'-dialog',f=$(g),j=a.define(h.cwselectorId,function(h){a.mix(h,c),h.widgetElement=g,h.dialogId=b,h.$coursewareOpts={dialogId:b,title:'\u9009\u62E9\u8BFE\u4EF6',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},coursewareList:[],queryCourseName:'',onClose:function(){var c=a.getVm(b);c.coursewareList.clear(),c.queryCourseName='',$('.list-wrapper',c.widgetElement).scrollTop(0);},onOpen:function(){var c=a.getVm(b);c.updateList();},submit:function(f){var d=a.getVm(b),e=[];_.each(d.coursewareList.$model,function(a){a.isSelected&&e.push(a);}),c.onSubmit&&c.onSubmit.call(h,e),d.close();},updateList:function(){var f=a.getVm(b),g=_.str.trim(f.queryCourseName);d.c2s({url:e.BASE_PATH+'courseware/getCourseware.do',data:{coursewareName:g,pageSize:10000,pageNumber:1},success:function(a){var b;a.flag&&(b=a.data,f.coursewareList.clear(),_.each(b.rows,function(b){var a={};_.each(_.keys(b),function(c){a[_.str.camelize(c)]=b[c];}),f.coursewareList.push(_.extend(a,{isSelected:!1}));}),c.onListReady&&c.onListReady.call(h,f.coursewareList));}});},clickQueryBtn:function(){var c=a.getVm(b);c.updateList();},inputEnterKey:function(d){var c=a.getVm(b);d.keyCode==13&&c.updateList();},selectCourseware:function(g){var d=a.getVm(b),f=this.$vmodel.$model,e=f.$index;c.multi?d.coursewareList.set(e,{isSelected:!d.coursewareList[e].isSelected}):(_.each(d.coursewareList,function(a){a.isSelected=!1;}),d.coursewareList.set(e,{isSelected:!0}));}},h.open=function(){a.getVm(b).open();},h.$init=function(){f.addClass('module-cwselector fn-hide'),f.html(i),a.scan(g,[j].concat(k));},h.$remove=function(){$(a.getVm(b).widgetElement).remove(),f.empty();},h.$skipArray=['widgetElement','dialogId'];});return j;};return f.version=1,f.defaults={multi:!1,onListReady:a.noop,onSubmit:a.noop},a;});

//From origin/module/equipmentdistribution/equipmentdistribution.html
define("originmoduleequipmentdistributionequipmentdistributionhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-equipment-distribution%22%20ms-widget%3D%22dialog%2C%24%2C%24equipmentdistributionOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22content%22%3E%3Cdiv%20class%3D%22model%22%3E%3Ctable%20class%3D%22outer1%22%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22table-let%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%AE%BE%E5%A4%87%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22inner1%22%3E%3Cdiv%3E%3Cspan%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24selectProcessOpts%22%3E%3C%2Fspan%3E%3Cinput%20class%3D%22input-text%20card-number%22%20ms-duplex%3D%22requestData%5B0%5D.fesStowageDtls%5B0%5D.amount%22%20placeholder%3D%22%E6%95%B0%E9%87%8F%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E6%95%B0%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E6%95%B0%E9%87%8F%E5%8F%AA%E8%83%BD%E4%B8%BA%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cspan%20class%3D%22unit%20unit0%22%3E%E4%B8%AA%3C%2Fspan%3E%3Cb%20type%3D%22button%22%20class%3D%22card-add%22%20data-num%3D%221%22%20data-outer-index%3D%220%22%20ms-click%3D%22addInner%22%3E%2B%3C%2Fb%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22table-let%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%BF%AB%E9%80%92%E5%85%AC%E5%8F%B8%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cspan%20class%3D%22schedule%20width-select%22%20ms-widget%3D%22select%2C%24%2C%24selectExpressOpts%22%3E%3C%2Fspan%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22table-let%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%BF%AB%E9%80%92%E5%8D%95%E5%8F%B7%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cinput%20type%3D%22text%22%20ms-duplex%3D%22requestData%5B0%5D.logisticsNum%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%BF%AB%E9%80%92%E5%8D%95%E5%8F%B7%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%20class%3D%22input-text%20width-select%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22table-let%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%94%B6%E4%BB%B6%E4%BA%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cspan%20class%3D%22schedule%20width-select%22%20ms-widget%3D%22select%2C%24%2C%24selectSeizeOpts%22%3E%3C%2Fspan%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22table-let%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E7%9F%AD%E4%BF%A1%E9%80%9A%E7%9F%A5%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cspan%20class%3D%22schedule%20width-select%22%20ms-widget%3D%22select%2C%24%2C%24selectMessOpts%22%3E%3C%2Fspan%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22fn-clear%22%3E%3Cdiv%20class%3D%22fn-right%22%3E%3Cbutton%20class%3D%22simple-btn%20addOuter%22%20ms-click%3D%22addOuter%22%3E%E6%B7%BB%E5%8A%A0%E6%98%8E%E7%BB%86%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20ms-module%3D%22address%2C%24%2C%24addressOpts%22%3E%3C%2Fdiv%3E");});

//From origin/module/equipmentdistribution/equipmentdistribution.css
define("originmoduleequipmentdistributionequipmentdistributioncss", [], function () {return decodeURIComponent(".module-equipment-distribution%20%7B%0A%20%20%20%20color%3A%20%23777%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%7D%0A.module-equipment-distribution%20.f-body%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-equipment-distribution%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-equipment-distribution%20.content%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20height%3A%20300px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%7D%0A.module-equipment-distribution%20.model%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20border%3A1px%20solid%20%23ccc%3B%0A%20%20%20%20background%3A%20%23eee%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20margin-bottom%3A%2015px%3B%0A%7D%0A.module-equipment-distribution%20.model%20.iconfont%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A-1px%3B%0A%20%20%20%20right%3A%20-1px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20width%3A%2020px%3B%0A%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20line-height%3A%2020px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A.module-equipment-distribution%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-equipment-distribution%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-equipment-distribution%20table%20td%20%7B%0A%20%20%20%20padding%3A%205px%203px%3B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%7D%0A.module-equipment-distribution%20.table-let%20%7B%0A%20%20%20%20width%3A%2085px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-equipment-distribution%20.fn-right%20%7B%0A%20%20%20%20padding%3A%2010px%200%3B%0A%7D%0A.module-equipment-distribution%20.card-add%20%7B%0A%20%20%20%20border%3A%202px%20solid%20%232cc78f%3B%0A%20%20%20%20width%3A%2020px%3B%0A%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20line-height%3A%2018px%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20color%3A%20%232cc78f%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20margin-left%3A%2010px%3B%0A%7D%0A.module-equipment-distribution%20.card-number%20%7B%0A%20%20%20%20width%3A%2025px%3B%0A%20%20%20%20margin%3A0%206px%3B%0A%7D%0A.module-equipment-distribution%20.unit%20%7B%0A%20%20%20%20width%3A%2030px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20_display%3A%20inline%3B%0A%20%20%20%20_zoom%3A1%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20line-height%3A%2030px%3B%0A%7D%0A.module-equipment-distribution%20.select-model%20%7B%0A%20%20%20%20padding-top%3A%208px%3B%0A%7D%0A.module-equipment-distribution%20.width-select%20%7B%0A%20%20%20%20width%3A%20320px%3B%0A%7D%0A.module-equipment-distribution%20input.width-select%20%7B%0A%20%20%20%20width%3A%20312px%3B%0A%7D%0A.module-equipment-distribution%20.addOuter%20%7B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D");});

//From origin/module/equipmentdistribution/equipmentdistribution.js
define('originmoduleequipmentdistributionequipmentdistributionjs',['avalon','util','json','moment','originmoduleequipmentdistributionequipmentdistributionhtml','originmoduleequipmentdistributionequipmentdistributioncss','common','dialog','originwidgetformselectjs','originmoduleaddressaddressjs'],function(a,d,i,k,j,f){var h=this,c=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var e=b.data('module')||{};if(!e.equipmentdistribution){try{b.html(b.html()+d.adjustModuleCssUrl(f,'equipmentdistribution/'));}catch(a){b[0].styleSheet.cssText+=d.adjustModuleCssUrl(f,'equipmentdistribution/');}e.equipmentdistribution=!0,b.data('module',e);}var g=c.module.equipmentdistribution=function(g,e,k){var h=e.equipmentdistributionOptions,f=$(g),b=a.define(e.equipmentdistributionId,function(l){var n=function(a){return c.model||(c.modelEquipmentDistribution=[]),c.modelEquipmentDistribution.push(e.equipmentdistributionId+a),e.equipmentdistributionId+a;};a.mix(l,h),l.readonly=!1,l.merchantId=0,l.processId=0;var m=0,q=[],o=[],r=[],p=['-selectSeizeOpts','-selectMessOpts'];l.requestData=[{id:'',processId:l.processId,logisticsCompany:'',logisticsNum:'',contactId:0,recipient:'',fesStowageDtls:[{category:'',amount:1,unitType:''}]}],l.$equipmentdistributionOpts={dialogId:n('-dialog'),width:500,title:'\u8BBE\u5907\u914D\u9001\u660E\u7EC6',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u5173&nbsp;\u95ED</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var b=a.getVm(n('-dialog'));$('.remove-button').click(function(){var b=$(this).attr('data-count'),c=$(this).attr('data-num'),d=$(this).attr('data-outer-index'),e=$(this).attr('data-inner-index');a.getVm(n('-selectProcessOpts'+c+b))&&$(a.getVm(n('-selectProcessOpts'+c+b)).widgetElement).remove(),delete a.vmodels['model'+c+b],$('.model'+c+b,'.module-equipment-distribution').remove(),l.requestData[d].fesStowageDtls instanceof Array&&(l.requestData[d].fesStowageDtls[e]='',l.requestData[d].$model.fesStowageDtls[e]='');}),$('.remove-button').trigger('click'),$('.remove-all').click(function(){var b=$(this).attr('data-num'),c=$(this).attr('data-outer-index');l.requestData[c]='',l.requestData.$model[c]='',a.getVm(n('-selectProcessOpts'+b+m))&&$(a.getVm(n('-selectProcessOpts'+b+m)).widgetElement).remove(),$('.model'+b).remove(),delete a.vmodels['model'+b];}),$('.remove-all').trigger('click'),d.testCancel($(b.widgetElement)[0]);},submit:function(q){var m,g=a.getVm(n('-dialog'));m=d.testing($(g.widgetElement)[0]);var b=l.requestData.$model;for(var e=b.length;e>0;e--)if(b[e-1]=='')b.splice(e-1,1);else{var o=b[e-1].fesStowageDtls;for(var f=o.length;f>0;f--)b[e-1].fesStowageDtls[f-1]==''&&b[e-1].fesStowageDtls.splice(f-1,1);}if(m)d.c2s({url:c.BASE_PATH+'fesStowage/saveFesStowages.do',type:'post',contentType:'application/json',data:i.stringify(b),success:function(b){b.flag&&(a.getVm(n('-dialog')).close(),l.callFn(b));}});else{var j=$(g.widgetElement).find('.valid-error')[0],p=$(j).closest('.ff-value').position().top,k=$(j).closest('.model').position().top,h=p+k+$('.content',g.widgetElement)[0].scrollTop;$('.content').scrollTop(h>0?h:0);}}},l.$selectProcessOpts={selectId:n('-selectProcessOpts'),options:[],onSelect:function(a,c,b){l.requestData[0].fesStowageDtls[0].category=a,$('.unit0').html(b.unit);}},l.$selectExpressOpts={selectId:n('-selectExpressOpts'),options:[],onSelect:function(a,b,c){l.requestData[0].logisticsCompany=a;}},l.$selectSeizeOpts={selectId:n('-selectSeizeOpts'),options:[],getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" data-num="-selectSeizeOpts" ms-click=addCommunication href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li></ul>',b[0]+a;},onSelect:function(a,b,c){l.requestData[0].recipient=a;}},l.$selectMessOpts={selectId:n('-selectMessOpts'),options:[],getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;"  data-num="-selectMessOpts" ms-click=addCommunication href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li></ul>',b[0]+a;},onSelect:function(a,b,c){l.requestData[0].contactId=a;}},l.open=function(){d.c2s({url:c.BASE_PATH+'fesStowage/loadFesStowage.do',type:'post',contentType:'application/json',data:i.stringify({merchantId:l.merchantId}),success:function(c){if(c.flag){l.requestData[0].processId=l.processId;var b=c.data;q=b.category,a.getVm(n('-selectProcessOpts')).setOptions(q),o=b.contacts,a.getVm(n('-selectSeizeOpts')).setOptions(o),a.getVm(n('-selectMessOpts')).setOptions(o),r=b.logisticCompany,a.getVm(n('-selectExpressOpts')).setOptions(r),a.getVm(n('-dialog')).open();}}});},l.addInner=function(){m++;var c=$(this).attr('data-num'),d=$(this).attr('data-outer-index'),e=l.requestData[d].fesStowageDtls.length,f={category:'',amount:1,unitType:''};l.requestData[d].fesStowageDtls.push(f);var g='<div class="select-model model'+c+m+'" ms-controller="model'+c+m+'"><span class="schedule" ms-widget="select,$,$selectProcessOpts'+c+m+'"></span><input class="input-text card-number" ms-duplex="requestData['+d+'].fesStowageDtls['+e+'].amount" placeholder="\u6570\u91CF" data-rules="empty" data-tips="\u6570\u91CF\u4E0D\u80FD\u4E3A\u7A7A\uFF01" isrule=true><span class="unit unit'+c+m+'"></span><b class="card-add remove-button" data-num='+c+' data-count='+m+' data-outer-index='+d+' data-inner-index='+e+' ms-click="removeInner">-</b><div class="ff-value-tip"></div></div>';$('.inner'+c,'.module-equipment-distribution').append(g),a.define('model'+c+m,function(a){a.num=c,a.count=m,a['$selectProcessOpts'+c+m]={selectId:n('selectProcessOpts'+c+m),options:[],onSelect:function(c,g,f){b.requestData[d].fesStowageDtls[e].category=c,$('.unit'+a.num+a.count).html(f.unit);}};}),a.scan($('.module-equipment-distribution').eq(0)[0],[l]),a.getVm(n('selectProcessOpts'+c+m)).setOptions(q);},l.removeInner=function(){var b=$(this).attr('data-count'),c=$(this).attr('data-num'),d=$(this).attr('data-outer-index'),e=$(this).attr('data-inner-index');a.getVm(n('-selectProcessOpts'+c+b))&&$(a.getVm(n('-selectProcessOpts'+c+b)).widgetElement).remove(),delete a.vmodels['model'+c+b],$('.model'+c+b,'.module-equipment-distribution').remove(),l.requestData[d].fesStowageDtls instanceof Array&&(l.requestData[d].fesStowageDtls[e]='',l.requestData[d].$model.fesStowageDtls[e]='');},l.addOuter=function(){var e={id:'',processId:l.processId,logisticsCompany:'',logisticsNum:'',contactId:0,recipient:'',fesStowageDtls:[{category:'',amount:1,unitType:''}]};l.requestData.push(e);var d=l.requestData.length-1;m++;var c=($('.content').children('div').length+1).toString(),f='<div class="model model'+c+m+'" ms-controller="model'+c+m+'"><table class="outer'+c+'">'+'<tr class="f-field ff-value">'+'<td class="table-let"><span class="warn">*</span>\u8BBE\u5907\u540D\u79F0\uFF1A</td>'+'<td class="inner'+c+'">'+'<div class="select-model model'+c+m+'">'+'<span class="schedule" ms-widget="select,$,$selectProcessOpts'+c+m+'"></span><input class="input-text card-number" ms-duplex="requestData['+d+'].fesStowageDtls[0].amount" placeholder="\u6570\u91CF" data-rules="empty" data-tips="\u6570\u91CF\u4E0D\u80FD\u4E3A\u7A7A\uFF01" isrule=true><span class="unit unit'+c+0+'">\u4E2A</span><b class="card-add" data-num="'+c+'" data-outer-index="'+d+'" ms-click="addInner">+</b><div class="ff-value-tip"></div>'+'</div>'+'</td>'+'</tr>'+'<tr>'+'<td class="table-let"><span class="warn">*</span>\u5FEB\u9012\u516C\u53F8\uFF1A</td>'+'<td><span class="schedule width-select" ms-widget="select,$,$selectExpressOpts'+c+m+'"></span></td>'+'</tr>'+'<tr class="f-field ff-value">'+'<td class="table-let"><span class="warn">*</span>\u5FEB\u9012\u5355\u53F7\uFF1A</td>'+'<td><input type="text" class="input-text width-select" data-rules="empty" data-tips="\u5FEB\u9012\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01" isrule=true ms-duplex="requestData['+d+'].logisticsNum"><div class="ff-value-tip"></div></td>'+'</tr>'+'<tr>'+'<td class="table-let"><span class="warn">*</span>\u6536\u4EF6\u4EBA\uFF1A</td>'+'<td><span class="schedule width-select" ms-widget="select,$,$selectSeizeOpts'+c+m+'"></span></td>'+'</tr>'+'<tr>'+'<td class="table-let"><span class="warn">*</span>\u77ED\u4FE1\u901A\u77E5\uFF1A</td>'+'<td><span class="schedule width-select" ms-widget="select,$,$selectMessOpts'+c+m+'"></span></td>'+'</tr>'+'</table><i class="iconfont remove-all" data-outer-index="'+d+'" data-num="'+c+m+'" ms-click="removeOuter">&#xe616;</i></div>';$('.content','.module-equipment-distribution').append(f),a.define('model'+c+m,function(a){a['$selectProcessOpts'+c+m]={selectId:n('-selectProcessOpts'+c+m),options:[],onSelect:function(a,f,e){b.requestData[d].fesStowageDtls[0].category=a,$('.unit'+c+0).html(e.unit);}},a['$selectExpressOpts'+c+m]={selectId:n('-selectExpressOpts'+c+m),options:[],onSelect:function(a,c,e){b.requestData[d].logisticsCompany=a;}},a['$selectSeizeOpts'+c+m]={selectId:n('-selectSeizeOpts'+c+m),options:[],getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" data-num="-selectSeizeOpts'+c+m+'" ms-click=addCommunication href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li>'+'</ul>',b[0]+a;},onSelect:function(a,c,e){b.requestData[d].recipient=a;}},a['$selectMessOpts'+c+m]={selectId:n('-selectMessOpts'+c+m),options:[],getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" data-num="-selectMessOpts'+c+m+'"  ms-click=addCommunication href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li>'+'</ul>',b[0]+a;},onSelect:function(a,c,e){b.requestData[d].contactId=a;}};}),a.scan($('.module-equipment-distribution').eq(0)[0],[l]),a.getVm(n('-selectProcessOpts'+c+m)).setOptions(q),a.getVm(n('-selectExpressOpts'+c+m)).setOptions(r),a.getVm(n('-selectSeizeOpts'+c+m)).setOptions(o),a.getVm(n('-selectMessOpts'+c+m)).setOptions(o),$('.content','.module-equipment-distribution').scrollTop($('.content','.module-equipment-distribution')[0].scrollHeight),p.push('-selectSeizeOpts'+c+m),p.push('-selectMessOpts'+c+m);},l.removeOuter=function(){var b=$(this).attr('data-num'),c=$(this).attr('data-outer-index');l.requestData[c]='',l.requestData.$model[c]='',a.getVm(n('-selectProcessOpts'+b+m))&&$(a.getVm(n('-selectProcessOpts'+b+m)).widgetElement).remove(),$('.model'+b).remove(),delete a.vmodels['model'+b];},l.$addressOpts={addressId:n('-addressModule'),isSearch:!1,displayType:'add',moduleType:'fes',merchantId:0},l.addCommunication=function(){var d=$(this).attr('data-num'),c=a.getVm(n('-addressModule'));c.readonly=!1,c.callFn=function(f){var e=f.data,c={text:e.name,value:e.id};o.push(c);for(var b=0;b<p.length;b++)a.getVm(n(p[b]))&&a.getVm(n(p[b])).panelVmodel.options.push(c);a.getVm(n(d)).selectValue(c.value);},c.requestData={merchantId:b.merchantId},c.isSearch=!1,c.displayType='add',c.open();},l.$init=function(){f.addClass('module-equipmentdistribution'),f.html(j),a.scan(g,[b].concat(k));},l.$remove=function(){_.each(c.modelEquipmentDistribution,function(c){var b=a.getVm(c);b&&$(b.widgetElement).remove();}),c.modelEquipmentDistribution.length=0,f.removeClass('module-equipmentdistribution').off().empty();};});return b;};return g.defaults={merchantId:0,processId:0,callFn:a.noop},a;});

//From origin/module/gridpage/grid-page.js
define('originmodulegridpagegridpagejs',['avalon','util','originwidgetpaginationpaginationjs','dialog','originwidgetformformjs'],function(a,c){var e=this,b=e.erp,d={$overwrite:function(a){}};return b.module.pageMod=d,_.extend(d,_.clone({$init:function(j,g){function h(g){var e=a.getVm(i),f={};g?(f.pageSize=e.perPages,f.pageNumber=1):(f.pageSize=e.perPages,f.pageNumber=e.currentPage),c.c2s({url:b.BASE_PATH+'position/list.do',data:f,success:function(b){var a;b.flag&&(a=b.data,e.total=a.totalSize,g&&(e.currentPage=1),d.gridData=a.rows,d.gridTotalSize=a.totalSize,d.gridAllChecked=!1,d.gridSelected.clear());}});}var f=g+'-add-edit-dialog',e=g+'-add-edit-form',i=g+'-pagination',d=a.define(g,function(d){d.gridTotalSize=0,d.gridData=[],d.gridAllChecked=!1,d.gridSelected=[],d.addEditState='',d.gridCheckAll=function(){this.checked?d.gridSelected=_.map(d.gridData.$model,function(a){return a.id+'';}):d.gridSelected.clear();},d.scCheckAll=function(){d.gridSelected=_.map(d.gridData.$model,function(a){return a.id+'';});},d.$paginationOpts={paginationId:i,total:0,onJump:function(a,b){h();}},d.$addEditDialogOpts={dialogId:f,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var b=a.getVm(e);b.positionName='',b.reset();},submit:function(n){var g,i,m=a.getVm(f),j=a.getVm(e),k=d.addEditState,l;j.validate()&&(g=j.getFormData(),k=='edit'?(l=d.gridSelected[0],_.extend(g,{id:l}),i=b.BASE_PATH+'position/edit.do'):i=b.BASE_PATH+'position/savePosition.do',c.c2s({url:i,type:'post',data:g,success:function(a){a.flag==1&&(k=='edit'?_.some(d.gridData.$model,function(a,b){return a.id==l?(d.gridData.set(b,{position_name:g.positionName}),!0):void 0;}):h(!0),m.close());}}));}},d.$addEditFormOpts={formId:e,field:[{selector:'.position-name',rule:['noempty',function(b,a){return a[0]!==!0?'\u804C\u4F4D\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A':!0;}]}],positionName:''},d.openAdd=function(){var b=a.getVm(f),c=a.getVm(e);b.title='\u6DFB\u52A0\u804C\u4F4D',c.positionName='',d.addEditState='add',d.gridSelected.clear(),b.open();},d.openEdit=function(){var b=a.getVm(f),g=a.getVm(e),c=a(this),h=c.data('positionId')+'',i=c.data('positionName');b.title='\u7F16\u8F91\u804C\u4F4D',g.positionName=i,d.addEditState='edit',d.gridSelected=[h],b.open();},d.removeGridItem=function(){var b=a(this),c=b.data('positionId')+'';d.gridSelected=[c],d._removePosition();},d.batchRemoveGridItem=function(){d._removePosition();},d._removePosition=function(){var a,e,f;d.gridSelected.size()===0?c.alert({content:'\u8BF7\u5148\u9009\u4E2D\u804C\u4F4D'}):(a=d.gridSelected.$model,a.length===1?(f=b.BASE_PATH+'position/delete.do',e={id:a[0]}):(f=b.BASE_PATH+'position/deleteMany.do',e={idString:a}),c.confirm({content:'\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684\u804C\u4F4D\u5417\uFF1F',onSubmit:function(){c.c2s({url:f,type:'post',data:e,success:function(a){a.flag==1&&h(!0);}});}}));},b.module.pageMod.$overwrite(d);});d.gridSelected.$watch('length',function(a){d.gridAllChecked=a===d.gridData.size();}),a.scan(j[0],[d]),h();},$remove:function(a,b){$('.add-edit-position-dialog .add-edit-form').remove(),$('.add-edit-position-dialog').remove(),$('.pagination',a).remove();}})),d;});

//From origin/module/interview/interview.html
define("originmoduleinterviewinterviewhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-interview%22%20ms-widget%3D%22dialog%2C%24%2C%24interviewOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24interviewFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%20interview-position-scroll%22%3E%3Cdiv%20class%3D%22interview-head%20fn-clear%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E5%95%86%E6%88%B7%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cp%3E%7B%7Bdata.merchantName%7D%7D%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E5%95%86%E6%88%B7%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20width%3D%22200%22%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cspan%20style%3D%22width%3A190px%22%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24merchantDutyOpts%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20class%3D%22interview-merchant-person-text%22%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22inter-contactId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E5%95%86%E6%88%B7%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-tabs%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs1%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D1%22%20ms-click%3D%22changeInterviewTabs(1)%22%3E%E5%95%86%E5%AE%B6%E4%BF%A1%E6%81%AF%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs2%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D2%22%20ms-click%3D%22changeInterviewTabs(2)%22%3E%E5%95%86%E6%88%B7%E7%8E%B0%E6%9C%89%E4%BC%98%E6%83%A0%E6%B4%BB%E5%8A%A8%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs3%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D3%22%20ms-click%3D%22changeInterviewTabs(3)%22%3E%E4%BC%9A%E5%91%98%E6%9D%83%E7%9B%8A%E6%96%B9%E6%A1%88%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2225%25%22%3E%3Cp%20class%3D%22inter-tabs4%22%20ms-class-1%3D%22cur%3AinterviewTabs%3D%3D4%22%20ms-click%3D%22changeInterviewTabs(4)%22%3E%E9%97%A8%E5%BA%97%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con1%22%20ms-visible%3D%22interviewTabs%3D%3D1%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%9A%E6%80%81%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20class%3D%22interview-format%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7BdicforParentText%7D%7D%7B%7BdicforChildrenText%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20ms-value%3D%22%7B%7BdicforParentText%7D%7D%7B%7BdicforChildrenText%7D%7D%22%20class%3D%22input-text%20research-input%20interview-format-choose%22%20ms-click%3D%22_showFormat%22%20readonly%3D%22readonly%22%3E%20%3Cinput%20ms-if%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22hidden%22%20class%3D%22format-testing%20interview-format-testing%22%20ms-value%3D%22%7B%7BdicforChildrenText%7D%7D%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%B8%9A%E6%80%81%E5%AD%90%E5%86%85%E5%AE%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.storeNumber%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20ms-duplex%3D%22data.storeNumber%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E9%97%A8%E5%BA%97%E6%95%B0%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E7%9B%B4%E8%90%A5%2F%E5%8A%A0%E7%9B%9F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20class%3D%22interview-join-text%22%3E%3C%2Fp%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cspan%20class%3D%22interview-select%22%20ms-widget%3D%22select%2C%24%2C%24interviewJoinSelectOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22inter-join%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E7%9B%B4%E8%90%A5%2F%E5%8A%A0%E7%9B%9F%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%BB%E8%A6%81%E5%AE%A2%E6%88%B7%E7%B1%BB%E5%9E%8B%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20class%3D%22interview-customer-text%22%3E%3C%2Fp%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cspan%20class%3D%22interview-select%20schedule%22%20ms-widget%3D%22select%2C%24%2C%24interviewCustomerSelectOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22inter-customer%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%B8%BB%E8%A6%81%E5%AE%A2%E6%88%B7%E7%B1%BB%E5%9E%8B%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%97%A5%E5%9D%87%E8%90%A5%E4%B8%9A%E9%A2%9D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.dailyTurnover%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E5%95%86%E6%88%B7%E6%9C%AA%E5%91%8A%E7%9F%A5%22%20ms-duplex%3D%22data.dailyTurnover%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%97%A5%E5%9D%87%E8%90%A5%E4%B8%9A%E9%A2%9D%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E6%97%A5%E5%9D%87%E6%94%B6%E9%93%B6%E7%AC%94%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.cashCountPerDay%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.cashCountPerDay%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E6%97%A5%E5%9D%87%E6%94%B6%E9%93%B6%E7%AC%94%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E9%97%A8%E5%BA%97%E6%97%A5%E5%9D%87%E6%94%B6%E9%93%B6%E7%AC%94%E6%95%B0%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.perOrder%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.perOrder%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BA%BA%E5%9D%87%E6%B6%88%E8%B4%B9%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.perCapita%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.perCapita%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E4%BA%BA%E5%9D%87%E6%B6%88%E8%B4%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E4%BA%BA%E5%9D%87%E6%B6%88%E8%B4%B9%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%8A%E4%BC%A0logo%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20class%3D%22merchant-logo%22%3E%3Cp%3E%3Cimg%20ms-src%3D%22data.relativePath%22%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%E5%9B%BE%E7%89%87%E5%A4%A7%E5%B0%8F%EF%BC%9A180*180%2C100K%E4%BB%A5%E5%86%85%E3%80%82%3C%2Fp%3E%3C%2Fdiv%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20class%3D%22merchant-logo-select%22%20ms-widget%3D%22uploader%2C%24%2C%24uploadLogOpts%22%3E%3Cbutton%20ms-if%3D%22!uploading%22%20class%3D%22simple-btn%22%3E%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%87%3C%2Fbutton%3E%20%3Cbutton%20ms-if%3D%22uploading%22%20class%3D%22simple-btn-disabled%22%3E%E6%AD%A3%E5%9C%A8%E4%B8%8A%E4%BC%A0%26%238230%3B%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con2%22%20ms-visible%3D%22interviewTabs%3D%3D2%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20colspan%3D%222%22%20align%3D%22center%22%3E%E5%88%97%E5%87%BA%E6%AD%A3%E5%9C%A8%E5%BC%80%E5%B1%95%E6%88%96%E5%8D%B3%E5%B0%86%E5%BC%80%E5%B1%95%E7%9A%84%E4%BC%98%E6%83%A0%E6%B4%BB%E5%8A%A8%E3%80%81%E6%B4%BB%E5%8A%A8%E9%97%A8%E5%BA%97%EF%BC%8C%E6%B4%BB%E5%8A%A8%E6%9C%89%E6%95%88%E6%9C%9F%EF%BC%8C%E5%8F%82%E4%B8%8E%E4%BA%BA%E6%95%B0%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%9B%A2%E8%B4%AD%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.groupPurchase%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E6%9A%82%E6%97%A0%22%20ms-duplex%3D%22data.groupPurchase%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%9B%A2%E8%B4%AD%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%98%E6%83%A0%E5%88%B8%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.coupon%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E4%B8%81%E4%B8%81%E4%BC%98%E6%83%A07.9%22%20ms-duplex%3D%22data.coupon%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%BC%98%E6%83%A0%E5%88%B8%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%93%B6%E8%A1%8C%E5%8D%A1%E4%BC%98%E6%83%A0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.bankCardOffer%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E9%93%B6%E8%A1%8C%E5%8D%A1%EF%BC%8C%E4%BA%A4%E9%80%9A%E9%93%B6%E8%A1%8C%E8%8F%9C%E5%93%818.5%E6%8A%98%22%20ms-duplex%3D%22data.bankCardOffer%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%93%B6%E8%A1%8C%E5%8D%A1%E4%BC%98%E6%83%A0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%85%B6%E4%BB%96%E5%BA%97%E5%86%85%E4%BC%98%E6%83%A0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.otherShopDiscount%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E7%82%B9%E8%AF%84%E7%94%B5%E5%AD%90%E4%BC%9A%E5%91%98%E5%8D%A188%E6%8A%98%22%20ms-duplex%3D%22data.otherShopDiscount%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%85%B6%E4%BB%96%E5%BA%97%E5%86%85%E4%BC%98%E6%83%A0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con3%22%20ms-visible%3D%22interviewTabs%3D%3D3%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cdiv%20style%3D%22width%3A%20140px%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%8E%9F%E6%9C%89%E4%BC%9A%E5%91%98%E5%8D%A1%E5%90%84%E7%B1%BB%EF%BC%9A%3C%2Fdiv%3E%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicCardType%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Clabel%20ms-repeat%3D%22dicCardType%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('cardType'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-diccardtype')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-diccardtype%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E5%8E%9F%E6%9C%89%E4%BC%9A%E5%91%98%E5%8D%A1%E5%90%84%E7%B1%BB%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%9A%E5%91%98%E5%8D%A1%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicMemberSys%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Clabel%20ms-repeat%3D%22dicMemberSys%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('managementSystem'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-membersys')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-membersys%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%BC%9A%E5%91%98%E5%8D%A1%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%9A%E5%91%98%E6%9D%83%E7%9B%8A%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeedMemberRight%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeedMemberRight%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('memberRight'%2C%26quot%3Bcheckbox%26quot%3B%2C'inter-right')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-right%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%BC%9A%E5%91%98%E6%9D%83%E7%9B%8A%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%B7%B2%E5%8F%91%E5%8D%A1%E6%95%B0%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.sendCardNumber%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A12%22%20ms-duplex%3D%22data.sendCardNumber%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E5%B7%B2%E5%8F%91%E5%8D%A1%E6%95%B0%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E5%B7%B2%E5%8F%91%E5%8D%A1%E6%95%B0%E9%87%8F%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%BD%9C%E5%AE%A2%E6%9D%A5%E6%BA%90%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.potentialCustomerSource%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A%E5%9B%A2%E8%B4%AD%22%20ms-duplex%3D%22data.potentialCustomerSource%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%BD%9C%E5%AE%A2%E6%9D%A5%E6%BA%90%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%BD%9C%E5%AE%A2%E6%95%B0%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.potentialCustomerNum%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A12%22%20ms-duplex%3D%22data.potentialCustomerNum%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E6%BD%9C%E5%AE%A2%E6%95%B0%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E6%BD%9C%E5%AE%A2%E6%95%B0%E9%87%8F%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E%3C%2Fspan%3E%E4%B8%8A%E4%BC%A0%E7%94%B5%E5%AD%90%E6%96%87%E6%A1%A3%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%3E%3Cspan%20class%3D%22inter-upfile%22%20ms-if%3D%22data.attachDocument.originalFileName%22%3E%7B%7Bdata.attachDocument.originalFileName%7D%7D%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22merchant-logo-select%22%20ms-widget%3D%22uploader%2C%24%2C%24uploadFile%22%3E%3Cbutton%20ms-if%3D%22!uploading%22%20class%3D%22simple-btn%22%3E%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6%3C%2Fbutton%3E%20%3Cbutton%20ms-if%3D%22uploading%22%20class%3D%22simple-btn-disabled%22%3E%E6%AD%A3%E5%9C%A8%E4%B8%8A%E4%BC%A0%26%238230%3B%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20inter-con4%22%20ms-visible%3D%22interviewTabs%3D%3D4%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkCondition%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3Cspan%20ms-if%3D%22el.text%3D%3D'%E5%A4%87%E6%B3%A8'%22%3E(%7B%7Bdata.networkRemark%7D%7D)%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cp%20ms-repeat%3D%22dicNetworkCondition%22%20class%3D%22label-check-radio%22%3E%3Clabel%3E%3Cinput%20type%3D%22radio%22%20name%3D%22networkCondition%22%20ms-click%3D%22isChecked('networkCondition'%2C%26quot%3Bradio%26quot%3B%2C'inter-dicNetworkCondition')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cspan%20ms-if%3D%22el.text%20%3D%3D%20'%E5%A4%87%E6%B3%A8'%22%3E%3Cinput%20ms-if%3D%22data.networkCondition%20%3D%3D%204%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22data.networkRemark%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-dicNetworkCondition%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeed%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeed%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22networkSpeed%22%20ms-click%3D%22isChecked('networkSpeed'%2C%26quot%3Bradio%26quot%3B%2C'inter-dicNetworkSpeed')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22inter-dicNetworkSpeed%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22interview-format-box%22%3E%3Cul%20class%3D%22format-box-info%22%3E%3Cli%20class%3D%22format-left%22%3E%3Clabel%20ms-repeat%3D%22dicFormat%22%3E%3Cinput%20type%3D%22radio%22%20ms-attr-data-value%3D%22el.value%22%20ms-attr-data-text%3D%22el.text%22%20ms-checked%3D%22el.isSelected%20%3D%3D%201%22%20ms-click%3D%22showFormatChildren%22%20name%3D%22outer%22%20ms-value%3D%22formatChildId%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fli%3E%3Cli%20class%3D%22format-right%22%3E%3Cp%20ms-repeat%3D%22formatChild%22%3E%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20name%3D%22inner%22%20ms-attr-data-text%3D%22el.text%22%20ms-attr-data-value%3D%22el.value%22%20ms-checked%3D%22el.isSelected%20%3D%3D%201%22%20ms-click%3D%22selectedFormatChildren%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22format-box-button%22%3E%3Cbutton%20class%3D%22simple-btn%20close-interview-format%22%3E%E7%A1%AE%E5%AE%9A%3C%2Fbutton%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20ms-module%3D%22address%2C%24%2C%24addressOpts%22%3E%3C%2Fdiv%3E");});

//From origin/module/interview/interview.css
define("originmoduleinterviewinterviewcss", [], function () {return decodeURIComponent(".module-interview%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-interview%20.f-body%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20max-height%3A%20400px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%7D%0A.module-interview%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-interview%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%7D%0A.module-interview%20.interview-select%20%7B%0A%20%20%20%20width%3A%20400px%3B%0A%7D%0A.module-interview%20.merchant-logo%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20margin-bottom%3A%2010px%3B%0A%7D%0A.module-interview%20.merchant-logo%20p%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20margin-right%3A%2010px%3B%0A%20%20%20%20line-height%3A%20100px%3B%0A%7D%0A.module-interview%20.merchant-logo%20img%20%7B%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-interview%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-interview%20.interview-head%20%7B%0A%20%20%20%20padding%3A%2015px%200%3B%0A%7D%0A.module-interview%20.interview-head%20table%20th%20%7B%0A%20%20%20%20padding%3A%205px%200%3B%0A%7D%0A%0A.module-interview%20.research-tabs%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A45px%3B%0A%20%20%20%20background%3A%20%23ECF6FF%3B%0A%7D%0A.module-interview%20.research-tabs%20td%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-interview%20.research-tabs%20p%20%7B%0A%20%20%20%20height%3A%2045px%3B%0A%20%20%20%20line-height%3A%2045px%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-interview%20.research-tabs%20p.cur%20%7B%0A%20%20%20%20border-top%3A%204px%20solid%20%235EA9E0%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20color%3A%20%235EA9E0%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%7D%0A.module-interview%20.label-check-radio%20%7B%0A%20%20%20%20margin%3A%200%2015px%2010px%200%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20min-width%3A%2080px%3B%0A%7D%0A.module-interview%20.research-con%20%7B%0A%20%20%20%20padding%3A%2020px%205px%3B%0A%7D%0A.module-interview%20.research-con%20td%20%7B%0A%20%20%20%20padding-bottom%3A%2010px%3B%0A%7D%0A.module-interview%20.research-left%20%7B%0A%20%20%20%20padding-left%3A%2010px%3B%0A%20%20%20%20width%3A%20150px%3B%0A%7D%0A.module-interview%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-interview%20.research-input%20%7B%0A%20%20%20%20width%3A%20390px%3B%0A%7D%0A.module-interview%20.inter-upfile%20%7B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20line-height%3A%2030px%3B%0A%7D%0A%0A.module-interview%20.interview-format%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-interview%20.interview-format-box%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20border%3A%201px%20solid%20%232cc78f%3B%0A%20%20%20%20padding%3A%200%2010px%2010px%2010px%3B%0A%20%20%20%20width%3A%20600px%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-interview%20.format-box-info%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-interview%20.format-box-info%20.format-left%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20width%3A%2060%25%3B%0A%20%20%20%20padding-top%3A%206px%3B%0A%7D%0A.module-interview%20.format-box-info%20.format-left%20label%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20_display%3Ainline%3B%0A%20%20%20%20_zoom%3A1%3B%0A%20%20%20%20min-width%3A%2050px%3B%0A%20%20%20%20margin%3A0%200%2010px%2010px%3B%0A%7D%0A.module-interview%20.format-box-info%20.format-right%20%7B%0A%20%20%20%20float%3A%20right%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20width%3A%2038%25%3B%0A%20%20%20%20border-left%3A1px%20solid%20%232cc78f%3B%0A%20%20%20%20padding-bottom%3A%201000px%3B%0A%20%20%20%20margin-bottom%3A%20-1000px%3B%0A%7D%0A%0A.module-interview%20.format-box-button%20%7B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20padding-top%3A%2015px%3B%0A%7D%0A.module-interview%20.format-right%20p%20%7B%0A%20%20%20%20padding%3A%205px%3B%0A%7D%0A");});

//From origin/module/interview/interview.js
define('originmoduleinterviewinterviewjs',['avalon','util','json','moment','originmoduleinterviewinterviewhtml','originmoduleinterviewinterviewcss','common','dialog','originwidgetformformjs','originwidgetformselectjs','originmoduleaddressaddressjs'],function(a,b,e,k,j,g){var h=this,d=h.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var f=c.data('module')||{};if(!f.interview){try{c.html(c.html()+b.adjustModuleCssUrl(g,'interview/'));}catch(a){c[0].styleSheet.cssText+=b.adjustModuleCssUrl(g,'interview/');}f.interview=!0,c.data('module',f);}var i=d.module.interview=function(q,f,s){var r=f.interviewOptions,n=$(q),c=f.interviewId+'-dialog',h=f.interviewId+'-form',g=f.interviewId+'-duty',k=f.interviewId+'-join',i=f.interviewId+'-customer',o=f.interviewId+'-logo',p=f.interviewId+'-file',m=f.interviewId+'-addressModule',l=a.define(f.interviewId,function(f){a.mix(f,r),f.interviewTabs=1,f.changeInterviewTabs=function(a){f.interviewTabs=a,$(this).removeClass('warn');},f.readonly=0,f.displayType='',f.argv=g,f.dicFormat=[],f.dicCardType=[],f.dicMemberSys=[],f.dicNetworkSpeedMemberRight=[],f.dicNetworkCondition=[],f.dicNetworkSpeed=[],f.dicforParentText='',f.dicforChildrenText=[],f.formatParentId='',f.formatChildId=[],f.formatChild=[],f.requestData={},f.data={merchantId:'',merchantName:f.merchantName,contactId:'',format:[],storeNumber:'',joinType:'',businessArea:'',customerType:'',dailyTurnover:'',cashCountPerDay:'',perOrder:'',perCapita:'',groupPurchase:'',coupon:'',bankCardOffer:'',otherShopDiscount:'',cardType:[],managementSystem:[],memberRight:[],sendCardNumber:'',potentialCustomerSource:'',potentialCustomerNum:'',networkCondition:'',networkSpeed:'',attachDocument:{},attachmentId:'',moduleType:'',fileName:'',originalFileName:'',relativePath:'',networkRemark:'',fileSize:0},f.$merchantDutyOpts={selectId:g,options:[],getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" ms-click=addCommunication(argv) href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li></ul>',b[0]+a;},onSelect:function(d,h,i){var e=$('.inter-contactId').val();if(f.data.contactId=d,$('.interview-merchant-person-text').html(h),e=='first')$('.inter-contactId').val(d);else{$('.inter-contactId').val(d);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.inter-contactId'));}}},f.$interviewJoinSelectOpts={selectId:k,options:[],onSelect:function(d,h,i){var e=$('.inter-join').val();if(f.data.joinType=d,$('.interview-join-text').html(h),e=='first')$('.inter-join').val(d);else{$('.inter-join').val(d);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.inter-join'));}}},f.$interviewCustomerSelectOpts={selectId:i,options:[],onSelect:function(d,h,i){var e=$('.inter-customer').val();if(f.data.customerType=d,$('.interview-customer-text').html(h),e=='first')$('.inter-customer').val(d);else{$('.inter-customer').val(d);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.inter-customer'));}}},f.$interviewFormOpts={formId:h},f.$uploadLogOpts={uploaderId:o,uploadifyOpts:{uploader:d.BASE_PATH+'synMerchant/uploadLogo.do',fileObjName:'myfiles',multi:!1,fileTypeDesc:'\u4E0A\u4F20\u9644\u4EF6(*.*)',fileTypeExts:'*.jpg; *.png; *.gif',formData:function(){return{sessionId:f.sessionId,merchantId:f.data.merchantId};},width:140,height:30},onSuccessResponseData:function(h,j){if(h=e.parse(h),h.flag){var d=h.data[0],g=f.data;g.fileName=d.fileName,g.originalFileName=d.originalFileName,g.fileSize=d.fileSize,g.relativePath=d.relativePath,$('.inter-logo').val(d.relativePath);var i=a.getVm(c);b.testing($(i.widgetElement)[0],$('.inter-logo'));}}},f.$uploadFile={uploaderId:p,uploadifyOpts:{uploader:d.BASE_PATH+'mktBrandInterview/uploadAttachment.do',fileObjName:'myfile',multi:!1,fileTypeDesc:'\u4E0A\u4F20\u9644\u4EF6(*.*)',fileTypeExts:'*.*',formData:function(){return{sessionId:f.sessionId};},width:140,height:30},onSuccessResponseData:function(a,c){if(a=e.parse(a),a.flag){var b=a.data;f.data.attachmentId=b.id,f.data.attachDocument.originalFileName=b.originalFileName;}}},f.$interviewOpts={dialogId:c,width:670,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u5173&nbsp;\u95ED</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var g=a.getVm(h),e=a.getVm(c);b.testCancel($(e.widgetElement)[0]),$('.inter-contactId').val('first'),$('.inter-join').val('first'),$('.inter-customer').val('first');for(var d=1;d<=4;d++)$('.inter-tabs'+d,$(e.widgetElement)).removeClass('warn');g.reset(),_.each(f.data.$model,function(b,a){f.data[a]='';}),f.dicforParentText='',f.dicforChildrenText=[],f.formatParentId='',f.formatChildId=[],f.formatChild=[];},submit:function(l){var i=!0,g=a.getVm(c);i=b.testing($(g.widgetElement)[0]);for(var h=1;h<=4;h++)$('.inter-con'+h+' .valid-error-field').length?$('.inter-tabs'+h).addClass('warn'):$('.inter-tabs'+h).removeClass('warn');if($('.inter-tabs'+f.surveyTabs).removeClass('warn'),i)f.data.merchantId=f.merchantId,f.data.moduleType=f.moduleType,f.data.networkCondition instanceof Array&&(f.data.networkCondition=f.data.networkCondition.join()),f.data.networkSpeed instanceof Array&&(f.data.networkSpeed=f.data.networkSpeed.join()),f.data.originalFileName||(f.data.relativePath=''),f.data.format=[].concat(f.formatChildId,f.formatParentId),b.c2s({url:d.BASE_PATH+'mktBrandInterview/saveMktBrandInterview.do',type:'post',contentType:'application/json',data:e.stringify(f.data.$model),success:function(b){if(b.flag==1){var d=a.getVm(c);d.close(),f.callFn(b);}}});else{var j=$('.interview-head',g.widgetElement).find('.valid-error')[0]||$('.inter-con'+f.interviewTabs,g.widgetElement).find('.valid-error')[0];if(j){var k=$(j).closest('.ff-value').position('.f-body',g.widgetElement).top+$('.f-body',g.widgetElement).scrollTop();$('.f-body').scrollTop(k<0?0:k);}}}},f.open=function(){b.c2s({url:d.BASE_PATH+'mktBrandInterview/loadMktBrandInterview.do',type:'post',contentType:'application/json',data:e.stringify(f.requestData.$model),success:function(l){var b;if(l.flag==1){b=l.data;var e=f.data;typeof b.attachDocument=='object'?e.attachDocument=b.attachDocument:e.attachDocument={originalFileName:''},e.attachmentId=b.attachmentId,e.moduleType='',e.fileName=b.fileName,e.originalFileName=b.originalFileName,e.fileSize=b.fileSize,b.relativePath?e.relativePath=b.relativePath:e.relativePath=d.BASE_PATH+'portal/origin/asset/image/merchant-default-logo.jpg',f.dicFormat=b.dicFormat,e.merchantName=b.merchantName,e.storeNumber=b.storeNumber,e.businessArea=b.businessArea,e.dailyTurnover=b.dailyTurnover,e.cashCountPerDay=b.cashCountPerDay,e.perOrder=b.perOrder,e.perCapita=b.perCapita,e.groupPurchase=b.groupPurchase,e.coupon=b.coupon,e.bankCardOffer=b.bankCardOffer,e.otherShopDiscount=b.otherShopDiscount,e.sendCardNumber=b.sendCardNumber,e.potentialCustomerSource=b.potentialCustomerSource,e.potentialCustomerNum=b.potentialCustomerNum,e.networkRemark=b.networkRemark;var j={checkedVals:b.selectedContact.checkedVals,dropdownlist:[]};for(var h=0;h<b.selectedContact.dropdownlist.length;h++){var m={text:b.selectedContact.dropdownlist[h].name,value:b.selectedContact.dropdownlist[h].id};j.dropdownlist.push(m);}f.setSelectCon({obj:j.dropdownlist,vals:j.checkedVals},{name:g}),_.map(f.dicFormat,function(a,b){a.isSelected==1&&(f.dicforParentText=a.text+'-',f.formatParentId=a.value,f.formatChild=a.children,_.map(a.children,function(a,b){a.isSelected==1&&(f.dicforChildrenText.push(a.text),f.formatChildId.push(a.value));}));}),f.setCheckRadio({obj:b.dicCardType.dicObject,vals:b.dicCardType.checkedVals},{sendData:'cardType',showData:'dicCardType',className:'inter-diccardtype'}),f.setCheckRadio({obj:b.dicMagSystem.dicObject,vals:b.dicMagSystem.checkedVals},{sendData:'managementSystem',showData:'dicMemberSys',className:'inter-membersys'}),f.setCheckRadio({obj:b.dicMemberRight.dicObject,vals:b.dicMemberRight.checkedVals},{sendData:'memberRight',showData:'dicNetworkSpeedMemberRight',className:'inter-right'}),f.setCheckRadio({obj:b.dicNetworkCondition.dicObject,vals:b.dicNetworkCondition.checkedVals},{sendData:'networkCondition',showData:'dicNetworkCondition',className:'inter-dicNetworkCondition'}),f.setCheckRadio({obj:b.dicNetworkSpeed.dicObject,vals:b.dicNetworkSpeed.checkedVals},{sendData:'networkSpeed',showData:'dicNetworkSpeed',className:'inter-dicNetworkSpeed'}),f.setSelectCon({obj:b.dicJoinType.dicObject,vals:b.dicJoinType.checkedVals},{name:k}),f.setSelectCon({obj:b.dicCustomerType.dicObject,vals:b.dicCustomerType.checkedVals},{name:i}),f.displayType=='add'||f.displayType=='edit'?f.readonly=!1:f.displayType=='read'&&(f.readonly=!0),a.getVm(c).title='\u5546\u6237\u8BBF\u8C08\u5355',f.interviewTabs=1,a.getVm(c).open();}}});},f.setCheckRadio=function(b,g){if(b.vals instanceof Array)for(var d=0;d<b.obj.length;d++){b.obj[d].isSelect=0;for(var e=0;e<b.vals.length;e++)b.obj[d].value==b.vals[e]&&(b.obj[d].isSelect=1);}else if(typeof b.vals=='string')for(var d=0;d<b.obj.length;d++)b.obj[d].isSelect=0,b.obj[d].value==b.vals&&(b.obj[d].isSelect=1);else{alert(b.vals+'-\u7C7B\u578B\u6709\u95EE\u9898\uFF01');return;}var h=a.getVm(c);$('.'+g.className,h.widgetElement).val(b.vals),f.data[g.sendData]=b.vals,f[g.showData]=b.obj;},f.setSelectCon=function(b,c){b.obj.unshift({value:'',text:'\u8BF7\u9009\u62E9'}),a.getVm(c.name).setOptions(b.obj),b.vals instanceof Array?b.vals[0]!==''&&a.getVm(c.name).selectValue(b.vals[0],!0):typeof b.vals=='string'||typeof b.vals=='number'?b.vals!==''&&a.getVm(c.name).selectValue(b.vals,!0):alert(b.vals+'-\u7C7B\u578B\u6709\u95EE\u9898\uFF01');},f.isChecked=function(h,k,i){var g=this.value,l=$(this)[0].checked,j=!0;if(k=='checkbox'){var d=f.data[h];if(l)if(d.length){for(var e=0;e<d.length;e++)d[e]==g&&(j=!1);j&&d.push(g);}else d.push(g);else if(d.length)for(var e=0;e<d.length;e++)d[e]==g&&d.splice(e,1);$('.'+i).val(f.data[h].$model);}else k=='radio'&&(f.data[h]=g,$('.'+i).val(f.data[h]));var m=a.getVm(c);b.testing($(m.widgetElement)[0],$('.'+i));},f._showFormat=function(){var d=$('.interview-format-choose').offset().top-20,e=$('.interview-format-choose').offset().left;$('.interview-format-box').css({top:d,left:e}),$('.interview-format-box').show(),$('.interview-position-scroll').scroll(function(){$('.interview-format-box').hide();}),$(document).on('click',function(d){d=d||window.event;var e=d.target||d.srcElement;if($('.interview-format').has(e).length||$('.interview-format-box').has(e).length||$('.interview-format-box').hide(),e===$('.close-interview-format')[0]&&$('.interview-format-box').hide(),f.dicforParentText.length){var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.interview-format-testing'));}});},f.showFormatChildren=function(){var c=$(this).attr('data-value'),g=$(this).attr('data-text'),b=f.dicFormat;if(c!=f.formatParentId)for(var a=0;a<b.length;a++){b[a].isSelected=0;var e=b[a].children;for(var d=0;d<e.length;d++)e[d].isSelected=0;b[a].value==c&&(b[a].isSelected=1,f.dicforParentText=g+'-',f.formatParentId=c,f.formatChildId=[],f.dicforChildrenText=[],f.formatChild=b[a].children);}},f.selectedFormatChildren=function(){var b=$(this).attr('data-value'),c=$(this).attr('data-text'),d=$(this)[0].checked;if(d)f.formatChildId.push(b),f.dicforChildrenText.push(c);else for(var a=0;a<f.formatChildId.length;a++)b==f.formatChildId[a]&&f.formatChildId.splice(a,1),c==f.dicforChildrenText[a]&&f.dicforChildrenText.splice(a,1);},f.$init=function(){n.addClass('module-interview'),n.html(j),a.scan(q,[l].concat(s));},f.$addressOpts={addressId:m,readonly:!1,moduleType:'fes',merchantId:0},f.addCommunication=function(c){var b=a.getVm(m);b.readonly=!1,b.callFn=function(e){var c=e.data,d={text:c.name,value:c.id},b=a.getVm(g).panelVmodel.options;b.push(d),a.getVm(g).setOptions(b,b.length-1);},$(this).attr('data-id')?b.requestData={merchantId:l.merchantId,id:$(this).attr('data-id')}:b.requestData={merchantId:l.merchantId},b.open();},f.$remove=function(){a.getVm(g)&&$(a.getVm(g).widgetElement).remove(),a.getVm(k)&&$(a.getVm(k).widgetElement).remove(),a.getVm(i)&&$(a.getVm(i).widgetElement).remove(),a.getVm(o)&&$(a.getVm(o).widgetElement).remove(),a.getVm(p)&&$(a.getVm(p).widgetElement).remove(),a.getVm(m)&&$(a.getVm(m).widgetElement).remove(),a.getVm(h)&&$(a.getVm(h).widgetElement).remove(),a.getVm(c)&&$(a.getVm(c).widgetElement).remove(),n.removeClass('module-interview').off().empty();};});return l;};return i.defaults={moduleType:'',sessionId:0,displayType:'read',merchantId:0,callFn:a.noop},a;});

//From origin/module/knowledgecate/knowledgecate.html
define("originmoduleknowledgecateknowledgecatehtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22node-tree%20fn-clear%22%3E%3Cdiv%20class%3D%22module-knowledgecate-action-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24dialogOpts%22%3E%3Cform%20class%3D%22action-form%22%20ms-widget%3D%22form%2C%24%2C%24formOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E5%88%86%E7%B1%BB%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20knowledgecate-name%22%20name%3D%22group_name%22%20ms-value%3D%22knowledgecateName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E%3C%2Fdiv%3EMS_OPTION_MODULE%3Cdiv%20class%3D%22MS_VAR_NODE_TEXT_CLS%20node-text%20fn-left%22%20ms-mousedown%3D%22showContextMenu%22%20data-knowledgecate-id%3D%22MS_VAR_NODE_ID%22%20data-knowledgecate-name%3D%22MS_VAR_NODE_NAME%22%3E%3Cdiv%20class%3D%22node-text-inner%22%3E%3Cspan%20class%3D%22icon-point%22%3E%3C%2Fspan%3E%3Cspan%20class%3D%22icon-frag-0%22%3E%3C%2Fspan%3E%3Cspan%20class%3D%22icon-frag-1%22%3E%3C%2Fspan%3E%3Cspan%20class%3D%22connect-line-left%22%3E%3C%2Fspan%3E%3Ci%20class%3D%22visible-h%20iconfont%22%20ms-click%3D%22clickNode%22%3E%26%23xe601%3B%3C%2Fi%3E%26nbsp%3B%3Cspan%20class%3D%22text-name%22%3EMS_VAR_GROUP_NAME%3C%2Fspan%3E%3Cspan%20class%3D%22connect-line-right%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3EMS_OPTION_CONTEXT_MENU%3Cul%20class%3D%22module-knowledgecate-context-menu%22%3E%3Cli%20ms-if%3D%22permission.knowledgeAdd%22%20class%3D%22add-same-level-item%20context-item%22%20data-action-type%3D%22addSameLevel%22%3E%E6%B7%BB%E5%8A%A0%E5%90%8C%E7%BA%A7%E5%88%86%E7%B1%BB%3C%2Fli%3E%3Cli%20ms-if%3D%22permission.knowledgeAdd%22%20class%3D%22context-item%22%20data-action-type%3D%22addNextLevel%22%3E%E6%B7%BB%E5%8A%A0%E5%AD%90%E7%BA%A7%E5%88%86%E7%B1%BB%3C%2Fli%3E%3Cli%20ms-if%3D%22permission.knowledgeUpdate%22%20class%3D%22rename-node-item%20context-item%22%20data-action-type%3D%22renameNode%22%3E%E9%87%8D%E5%91%BD%E5%90%8D%3C%2Fli%3E%3Cli%20ms-if%3D%22permission.knowledgeDelete%22%20class%3D%22remove-node-item%20context-item%22%20data-action-type%3D%22removeNode%22%3E%E5%88%A0%E9%99%A4%E5%88%86%E7%B1%BB%3C%2Fli%3E%3C%2Ful%3E");});

//From origin/module/knowledgecate/knowledgecate.css
define("originmoduleknowledgecateknowledgecatecss", [], function () {return decodeURIComponent(".module-knowledgecate%20%7B%0A%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20padding%3A%208px%3B%0A%7D%0A%2F*.module-knowledgecate%20.node-tree%20%7B%0A%20%20%20%20width%3A%2010000px%3B%0A%7D*%2F%0A.module-knowledgecate%20.node-text%20%7B%0A%20%20%20%20height%3A%2034px%3B%0A%20%20%20%20line-height%3A%2034px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20font-weight%3A%20bold%3B%0A%7D%0A.module-knowledgecate%20.node-text%20.visible-h%20%7B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-knowledgecate%20.node-text-inner%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-knowledgecate%20.connect-line-right%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20left%3A%20100%25%3B%0A%20%20%20%20margin-top%3A%20-2px%3B%0A%20%20%20%20width%3A%2046px%3B%0A%20%20%20%20height%3A%204px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%7D%0A.module-knowledgecate%20.connect-line-left%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20left%3A%20-8px%3B%0A%20%20%20%20margin-top%3A%20-2px%3B%0A%20%20%20%20width%3A%208px%3B%0A%20%20%20%20height%3A%204px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%7D%0A.module-knowledgecate%20.root-node-text%20.node-text-inner%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-knowledgecate%20.node-text%20.node-text-inner%20%7B%0A%20%20%20%20padding%3A%200%208px%3B%0A%7D%0A.module-knowledgecate%20.node-list%20%7B%0A%20%20%20%20border-left%3A%204px%20solid%20%2376a9e0%3B%0A%20%20%20%20margin-left%3A%2046px%3B%0A%20%20%20%20padding-left%3A%208px%3B%0A%7D%0A.module-knowledgecate%20.node-item%20%7B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%7D%0A.module-knowledgecate%20.last-node-item%20%7B%0A%20%20%20%20margin-bottom%3A%200%3B%0A%7D%0A.module-knowledgecate%20.node-item%20.icon-point%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2012px%3B%0A%20%20%20%20left%3A%20-16px%3B%0A%20%20%20%20width%3A%2012px%3B%0A%20%20%20%20height%3A%2012px%3B%0A%20%20%20%20border-radius%3A%206px%3B%0A%20%20%20%20background%3A%20%2376A9E0%3B%0A%20%20%20%20z-index%3A%2010%3B%0A%7D%0A%2F*%20.module-knowledgecate%20.first-node-item%20.icon-frag-0%20%7B%20*%2F%0A%2F*%20%20%20%20%20position%3A%20absolute%3B%20*%2F%0A%2F*%20%20%20%20%20left%3A%20-16px%3B%20*%2F%0A%2F*%20%20%20%20%20top%3A%200px%3B%20*%2F%0A%2F*%20%20%20%20%20width%3A%2016px%3B%20*%2F%0A%2F*%20%20%20%20%20height%3A%2016px%3B%20*%2F%0A%2F*%20%20%20%20%20background%3A%20%23F6FAFD%3B%20*%2F%0A%2F*%20%7D%20*%2F%0A%2F*%20.module-knowledgecate%20.last-node-item%20.icon-frag-1%20%7B%20*%2F%0A%2F*%20%20%20%20%20position%3A%20absolute%3B%20*%2F%0A%2F*%20%20%20%20%20left%3A%20-16px%3B%20*%2F%0A%2F*%20%20%20%20%20top%3A%2020px%3B%20*%2F%0A%2F*%20%20%20%20%20width%3A%2016px%3B%20*%2F%0A%2F*%20%20%20%20%20height%3A%2016px%3B%20*%2F%0A%2F*%20%20%20%20%20background%3A%20%23F6FAFD%3B%20*%2F%0A%2F*%20%7D%20*%2F%0A.module-knowledgecate%20.leaf-node-text%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20font-weight%3A%20normal%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%7D%0A.module-knowledgecate%20.leaf-node-text%20.connect-line-left%20%7B%0A%20%20%20%20margin-top%3A%20-1px%3B%0A%7D%0A.module-knowledgecate%20.leaf-node-text%20.connect-line-right%2C%0A.module-knowledgecate%20.leaf-node-text%20.visible-h%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-knowledgecate%20.root-node-text%20%7B%0A%20%20%20%20%2F*%20display%3A%20none%3B%20*%2F%0A%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20line-height%3A%20100px%3B%0A%20%20%20%20border%3A%205px%20solid%20%2376a9e0%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20color%3A%20%23393939%3B%0A%20%20%20%20border-radius%3A%2060px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20font-weight%3A%20bold%3B%0A%7D%0A.module-knowledgecate%20.root-node-text%20.connect-line-right%20%7B%0A%20%20%20%20width%3A%2052px%3B%0A%7D%0A.module-knowledgecate%20.root-node-text%20.visible-h%2C%0A.module-knowledgecate%20.root-node-text%20.connect-line-left%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-knowledgecate%20.state-contract%20.connect-line-right%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-knowledgecate-context-menu%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e9e9e9%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20box-shadow%3A%20%201px%202px%202px%20%23e9e9e9%3B%0A%7D%0A.module-knowledgecate-context-menu%20.context-item%20%7B%0A%20%20%20%20width%3A%20178px%3B%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%20%20%20%20padding%3A%200%208px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23e9e9e9%3B%0A%20%20%20%20text-indent%3A%2020px%3B%0A%20%20%20%20background%3A%20%23eef6ff%3B%0A%20%20%20%20color%3A%20%23393939%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-knowledgecate-action-dialog%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.module-knowledgecate-action-dialog%20.knowledgecate-name%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin/module/knowledgecate/knowledgecate.js
define('originmoduleknowledgecateknowledgecatejs',['avalon','util','json','originmoduleknowledgecateknowledgecatehtml','originmoduleknowledgecateknowledgecatecss','common'],function(a,b,m,e,k){var i=this,c=i.erp,d=$('#module-style');d.length===0&&(d=$('<style id="module-style"></style>'),d.appendTo('head'));try{d.html(d.html()+b.adjustModuleCssUrl(k,'knowledgecate/'));}catch(a){d[0].styleSheet.cssText+=b.adjustModuleCssUrl(k,'knowledgecate/');}var j,f,l,g;e=e.split('MS_OPTION_MODULE'),j=e[0],g=e[1].split('MS_OPTION_CONTEXT_MENU'),f=g[0],l=g[1];var h=c.module.knowledgecate=function(g,h,o){var p=h.knowledgecateOptions,i=$(g),d=$('.module-knowledgecate-context-menu'),k=h.knowledgecateId+'-dialog',n=h.knowledgecateId+'-form';d.length===0&&(d=$(l),d.appendTo('body'),d.on('click','.context-item',function(c){var b=$(this),a=b.data('actionType');e.actionType=a,e[a](),d.hide();}).on('mousedown',function(a){a.stopPropagation();}),$('body').on('mousedown',function(){d.hide();})),g.oncontextmenu=function(){return!1;};var e=a.define(h.knowledgecateId,function(l){a.mix(l,p),l.widgetElement=g,l.nodeTextSelected=null,l.actionType='',l.permission={knowledgeAdd:b.hasPermission('knowledge_add_182'),knowledgeUpdate:b.hasPermission('knowledge_update_183'),knowledgeDelete:b.hasPermission('knowledge_delete_184')},l.addSameLevel=function(){var b=a.getVm(k);b.title='\u6DFB\u52A0\u540C\u7EA7\u5206\u7C7B',b.open();},l.addNextLevel=function(){var b=a.getVm(k);b.title='\u6DFB\u52A0\u5B50\u7EA7\u90E8\u95E8',b.open();},l.renameNode=function(){var b=a.getVm(k),c=a.getVm(n),d=l.nodeTextSelected;c.knowledgecateName=d.data('knowledgecateName'),b.title='\u91CD\u547D\u540D',b.open();},l.removeNode=function(){var a=l.nodeTextSelected.data('knowledgecateId');b.confirm({content:'\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684\u5206\u7C7B\u5417\uFF1F',onSubmit:function(){b.c2s({url:c.BASE_PATH+'knowledgeKind/delete.do',type:'post',data:m.stringify({id:a}),contentType:'application/json',success:function(c){var d,a;c.flag==1&&(b.alert({content:c.message,iconType:'success'}),a=l.nodeTextSelected.closest('.node-list'),d=a.prev('.node-text'),$('.node-item',a).length<=1?(a.remove(),d.addClass('leaf-node-text')):l.nodeTextSelected.closest('.node-item').remove(),l.nodeTextSelected=null,l.adjustWidth());}});}});},l.appendNode=function(h,g){var c=$(h),d=c.next('.node-list'),b;d.length===0&&(d=$('<ul class="node-list fn-left"></ul>'),d.insertAfter(c)),b=f.replace('MS_VAR_GROUP_NAME',g.groupName),b=b.replace('MS_VAR_NODE_TEXT_CLS','state-contract leaf-node-text'),b=b.replace('MS_VAR_NODE_ID',g.id),b=b.replace('MS_VAR_NODE_NAME',g.groupName),d.append('<li class="node-item fn-clear">'+b+'</li>'),c.hasClass('state-contract')&&($('.visible-h',c).html('&#xe601;'),c.removeClass('state-contract').addClass('state-expend')),c.removeClass('leaf-node-text'),a.scan(d[0],[e].concat(o)),l.adjustWidth();},l.$dialogOpts={dialogId:k,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onClose:function(){var b=a.getVm(n);b.knowledgecateName='',b.reset();},submit:function(i){var d,f,h=a.getVm(k),g=a.getVm(n),e=l.actionType;g.validate()&&(d=g.getFormData(),e=='addSameLevel'?(f=c.BASE_PATH+'knowledgeKind/save.do',_.extend(d,{parentId:l.getParentNodeText().data('knowledgecateId')})):e=='addNextLevel'?(f=c.BASE_PATH+'knowledgeKind/save.do',_.extend(d,{parentId:l.nodeTextSelected.data('knowledgecateId')})):e=='renameNode'&&(f=c.BASE_PATH+'knowledgeKind/update.do',_.extend(d,{id:l.nodeTextSelected.data('knowledgecateId'),parentId:l.getParentNodeText().data('knowledgecateId')})),d.parentId===-1&&(d.parentId=null),b.c2s({url:f,data:m.stringify(d),contentType:'application/json',success:function(b){var a;b.flag==1&&(a=b.data,e=='addSameLevel'?l.appendNode(l.nodeTextSelected.closest('.node-list').prev('.node-text'),{id:a.id,groupName:a.title}):e=='addNextLevel'?l.appendNode(l.nodeTextSelected,{id:a.id,groupName:a.title}):e=='renameNode'&&($('.text-name',l.nodeTextSelected).text(a.title),l.nodeTextSelected.data('knowledgecateName',a.title),l.adjustWidth()),h.close());}}));}},l.$formOpts={formId:n,field:[{selector:'.knowledgecate-name',name:'title',rule:['noempty',function(b,a){return a[0]!==!0?'\u7EC4\u7EC7\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A':!0;}]}],knowledgecateName:''},l.showContextMenu=function(c){var b=$(this),f,g;c.which===3&&(f=b.outerWidth(),g=b.offset(),d.css({top:c.pageY+'px',left:c.pageX+12+'px'}),l.nodeTextSelected=b,b.hasClass('root-node-text')?($('.add-same-level-item',d).hide(),$('.rename-node-item',d).hide(),$('.remove-node-item',d).hide()):($('.add-same-level-item',d).show(),$('.rename-node-item',d).show(),b.hasClass('leaf-node-text')?$('.remove-node-item',d).show():$('.remove-node-item',d).hide()),a.scan(d[0],[e]),d.show(),c.stopPropagation());},l.redraw=function(){var d=function(b,e){var a=f.replace('MS_VAR_GROUP_NAME',b.title),c='';return _.isUndefined(e)&&(c='root-node-text'),b.children&&b.children.length>0?c+=' state-expend':(c+=' state-contract',c+=' leaf-node-text'),a=a.replace('MS_VAR_NODE_TEXT_CLS',c),a=a.replace('MS_VAR_NODE_ID',b.id),a=a.replace('MS_VAR_NODE_NAME',b.title),b.children&&b.children.length>0&&(a+='<ul class="node-list fn-left">',_.each(b.children,function(c,e){var b='';a+='<li class="'+b+'node-item fn-clear">'+d(c,!1)+'</li>';}),a+='</ul>'),a;};i.html(j),b.c2s({url:c.BASE_PATH+'knowledgeKind/getAll.do',contentType:'application/json',success:function(b){var c,f;b.flag&&(c=l.a2t(b.data),f={id:-1,parentId:-1,title:'\u77E5\u8BC6\u5206\u7C7B',ancestors:'-1',children:c},$('.node-tree',i).html(d(f)),a.scan(g,[e].concat(o)),e.adjustWidth());}},{mask:!1});},l.a2t=function(b){var a,c,d=function(b,a,c){return b.parentId==a.id?(a.children=a.children||[],a.children.push(b),!0):a.children&&a.children.length?_.some(a.children,function(a){return d(b,a);}):!1;};for(a=0;a<b.length;a++)for(c=0;c<b.length;c++)if(a!=c&&d(b[a],b[c])){b.splice(a,1),a--;break;}return b;},l.getParentNodeText=function(a){var b=a?$(a):l.nodeTextSelected;return b.closest('.node-list').prev('.node-text');},l.forceRefresh=function(b){var a=b?$(b):l.nodeTextSelected;a.length&&(a.removeClass('state-expend').removeClass('leaf-node-text').addClass('state-contract'),a.next('.node-list').remove(),$('.visible-h',a).click());},l.clickNode=function(d){var b=$(this),a=b.closest('.node-text'),c=a.next('.node-list');a.hasClass('state-contract')?(c.show(),b.html('&#xe601;'),a.removeClass('state-contract').addClass('state-expend'),l.adjustWidth()):(c.hide(),b.html('&#xe600;'),a.removeClass('state-expend').addClass('state-contract'),l.adjustWidth());},l.adjustWidth=function(){var a=$('.node-tree',i),b=a.children('.root-node-text'),c=a.children('.node-list');a.width(10000),a.width(b.outerWidth()+c.outerWidth(!0));},l.$init=function(){i.addClass('module-knowledgecate'),l.redraw(),a.scan(g,[e].concat(o));},l.$remove=function(){var b=h.knowledgecateId+'-dialog',c=h.knowledgecateId+'-form';$(a.getVm(c).widgetElement).remove(),$(a.getVm(b).widgetElement).remove(),g.oncontextmenu=null,i.off().empty(),d.off().remove();},l.$skipArray=['widgetElement','nodeTextSelected'];});return e;};return h.version=1,h.defaults={},a;});

//From origin/module/opencard/opencard.html
define("originmoduleopencardopencardhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-open-car%22%20ms-widget%3D%22dialog%2C%24%2C%24addCardDialogOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Ctable%20class%3D%22title%22%3E%3Ctr%3E%3Ctd%20class%3D%22tab-left%22%3E%E5%93%81%E7%89%8C%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%7B%7BmerchantName%7D%7D%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3Cdiv%20class%3D%22open-card-con%22%3E%3Cdiv%20class%3D%22model%22%20ms-repeat%3D%22fesOpenCardApplicationDtls%22%3E%3Ctable%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%8D%A1%E7%B1%BB%E5%9E%8B%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%8D%A1%E7%B1%BB%E5%9E%8B%E5%90%8D%E7%A7%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.cardName%22%3E%20%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.cardName%22%20readonly%3D%22readonly%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E%3C%2Fspan%3E%E5%8D%A1%E6%A0%87%E7%AD%BE%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.cardTag%22%3E%20%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.cardTag%22%20readonly%3D%22readonly%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%BC%80%E5%8D%A1%E6%95%B0%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20data-rules%3D%22empty%26number%22%20data-tips%3D%22%E5%BC%80%E5%8D%A1%E6%95%B0%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%26%E5%BC%80%E5%8D%A1%E6%95%B0%E9%87%8F%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.cardAmount%22%3E%20%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.cardAmount%22%20readonly%3D%22readonly%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20class%3D%22f-field%20ff-value%22%3E%3Ctd%20class%3D%22tab-left%22%3E%E5%8D%A1%E6%9C%89%E6%95%88%E6%9C%9F%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20isempty%3D%22true%22%20data-rules%3D%22number%22%20data-tips%3D%22%E5%8D%A1%E6%9C%89%E6%95%88%E6%9C%9F%E5%8F%AA%E8%83%BD%E6%98%AF%E6%95%B0%E5%AD%97%EF%BC%81%22%20isrule%3D%22true%22%20class%3D%22input-text%20card-name%22%20ms-duplex%3D%22el.validityTerm%22%3E%20%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20type%3D%22text%22%20class%3D%22input-text%20card-name%22%20ms-duplex%3D%22el.validityTerm%22%20readonly%3D%22readonly%22%3E%20%3Cspan%3E%26nbsp%3B%E5%A4%A9%3C%2Fspan%3E%3Cspan%3E%26nbsp%3B%EF%BC%88%E4%BB%8E%E6%BF%80%E6%B4%BB%E4%B9%8B%E6%97%A5%E7%AE%97%E8%B5%B7%EF%BC%8C%E4%B8%8D%E5%A1%AB%E4%B8%BA%E6%B0%B8%E4%B9%85%E6%9C%89%E6%95%88%EF%BC%89%3C%2Fspan%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%BC%9A%E5%91%98%E7%AD%89%E7%BA%A7%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%3E%3Cspan%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2Cel.%24memberLevelOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22el.memberLevel%22%20readonly%3D%22readonly%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB4%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20class%3D%22card-radio%22%3E%3Clabel%3E%3Cinput%20ms-attr-name%3D%22readio4%7B%7B%24index%7D%7D%22%20type%3D%22radio%22%20ms-duplex-text%3D%22el.isContainFour%22%20value%3D%221%22%3E%20%E6%98%AF%3C%2Flabel%3E%3Clabel%3E%3Cinput%20ms-attr-name%3D%22readio4%7B%7B%24index%7D%7D%22%20type%3D%22radio%22%20ms-duplex-text%3D%22el.isContainFour%22%20value%3D%220%22%3E%20%E5%90%A6%3C%2Flabel%3E%3C%2Fdiv%3E%3Cspan%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-if%3D%22el.isContainFour%20%3D%3D%20'1'%22%3E%E6%98%AF%3C%2Flabel%3E%3Clabel%20ms-if%3D%22el.isContainFour%20%3D%3D%20'0'%22%3E%E5%90%A6%3C%2Flabel%3E%3C%2Fspan%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB7%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20class%3D%22card-radio%22%3E%3Clabel%3E%3Cinput%20ms-attr-name%3D%22readio7%7B%7B%24index%7D%7D%22%20type%3D%22radio%22%20ms-duplex-text%3D%22el.isContainSeven%22%20value%3D%221%22%3E%20%E6%98%AF%3C%2Flabel%3E%3Clabel%3E%3Cinput%20ms-attr-name%3D%22readio7%7B%7B%24index%7D%7D%22%20type%3D%22radio%22%20ms-duplex-text%3D%22el.isContainSeven%22%20value%3D%220%22%3E%20%E5%90%A6%3C%2Flabel%3E%3C%2Fdiv%3E%3Cspan%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-if%3D%22el.isContainSeven%20%3D%3D%20'1'%22%3E%E6%98%AF%3C%2Flabel%3E%3Clabel%20ms-if%3D%22el.isContainSeven%20%3D%3D%20'0'%22%3E%E5%90%A6%3C%2Flabel%3E%3C%2Fspan%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%98%AF%E5%90%A6%E5%B8%A6%E5%AE%89%E5%85%A8%E7%A0%81%EF%BC%9A%3C%2Ftd%3E%3Ctd%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20class%3D%22card-radio%22%3E%3Clabel%3E%3Cinput%20ms-attr-name%3D%22readion%7B%7B%24index%7D%7D%22%20type%3D%22radio%22%20ms-duplex-text%3D%22el.isContainSecurityCode%22%20value%3D%221%22%3E%20%E6%98%AF%3C%2Flabel%3E%3Clabel%3E%3Cinput%20ms-attr-name%3D%22readion%7B%7B%24index%7D%7D%22%20type%3D%22radio%22%20ms-duplex-text%3D%22el.isContainSecurityCode%22%20value%3D%220%22%3E%20%E5%90%A6%3C%2Flabel%3E%3C%2Fdiv%3E%3Cspan%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-if%3D%22el.isContainSecurityCode%20%3D%3D%20'1'%22%3E%E6%98%AF%3C%2Flabel%3E%3Clabel%20ms-if%3D%22el.isContainSecurityCode%20%3D%3D%20'0'%22%3E%E5%90%A6%3C%2Flabel%3E%3C%2Fspan%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22tab-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%8A%E4%BC%A0%E9%99%84%E4%BB%B6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%20class%3D%22card-radio%22%3E%3Cul%20class%3D%22fn-clear%22%3E%3Cli%20class%3D%22fn-left%22%3E%3Cdiv%20ms-widget%3D%22uploader%2C%24%2Cel.%24cardUploaderOpts%22%3E%3Cp%20ms-if%3D%22!uping%22%3E%3Cbutton%20ms-if%3D%22!el.attachmentId%22%20class%3D%22simple-btn%22%3E%E4%B8%8A%E4%BC%A0%E6%96%B0%E9%99%84%E4%BB%B6%3C%2Fbutton%3E%3Cbutton%20ms-if%3D%22el.attachmentId%22%20class%3D%22simple-btn%22%3E%E9%87%8D%E6%96%B0%E4%B8%8A%E4%BC%A0%3C%2Fbutton%3E%3C%2Fp%3E%3C%2Fdiv%3E%3C%2Fli%3E%3Cli%20class%3D%22fn-left%20tips-width%22%20ms-if%3D%22!uping%22%3E%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8%EF%BC%9A506*330%EF%BC%8C%E5%A4%A7%E5%B0%8F%E4%B8%8D%E8%B6%85%E8%BF%87100K%E3%80%82%E6%94%AF%E6%8C%81jpg%E3%80%81png%E3%80%81gif%E6%A0%BC%E5%BC%8F(%E5%8F%AA%E8%83%BD%E4%B8%8A%E4%BC%A0%E4%B8%80%E4%B8%AA%EF%BC%8C%E5%90%8E%E4%B8%8A%E4%BC%A0%E7%9A%84%E8%A6%86%E7%9B%96%E4%B9%8B%E5%89%8D%E4%B8%8A%E4%BC%A0%E7%9A%84)%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22upfile-box%22%20ms-class-1%3D%22%7B%7Bel.upFileFlag%7D%7D%22%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-img-link%22%20ms-if%3D%22el.sysAttachment.originalFileName%22%3E%3Ca%20ms-href%3D%22%7B%7Bpath%7D%7DfesOnlineProcess%2Fdownload.do%3FrelPath%3D%7B%7Bel.sysAttachment.fileFullPath%7D%7D%22%3E%7B%7Bel.sysAttachment.originalFileName%7D%7D%3C%2Fa%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22card-img-show%22%20ms-if%3D%22el.sysAttachment.fileFullPath%22%3E%3Cimg%20ms-src%3D%22%7B%7Bpath%7D%7D%7B%7Bel.sysAttachment.fileFullPath%7D%7D%22%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20ms-class%3D%22%7B%7Bel.upFileFlag%7D%7Dinput%22%20ms-value%3D%22%7B%7Bel.sysAttachment.originalFileName%7D%7D%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%99%84%E4%BB%B6%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3Ci%20ms-if%3D%22%24index%20%26%26%20(displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit')%22%20class%3D%22iconfont%20icon-close%22%20ms-click%3D%22remove(el)%22%3E%26%23xe616%3B%3C%2Fi%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22fn-clear%22%20ms-if%3D%22displayType%20%3D%3D%20'add'%20%7C%7C%20displayType%20%3D%3D%20'edit'%22%3E%3Cbutton%20class%3D%22simple-btn%20fn-right%20addCarButton%22%20ms-click%3D%22addCar%22%3E%E6%B7%BB%E5%8A%A0%E5%8D%A1%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/opencard/opencard.css
define("originmoduleopencardopencardcss", [], function () {return decodeURIComponent(".module-open-car%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-open-car%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%2010px%200%3B%0A%7D%0A.module-open-car%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-open-car%20table.title%20%7B%0A%20%20%20%20margin-bottom%3A%206px%3B%0A%7D%0A.module-open-car%20table.title%20td%20%7B%0A%20%20%20%20padding%3A%206px%208px%3B%0A%7D%0A.module-open-car%20.input-text%20%7B%0A%20%20%20%20width%3A%20310px%3B%0A%7D%0A.module-open-car%20.card-name%20%7B%0A%20%20%20%20width%3A%2050px%3B%0A%7D%0A.module-open-car%20.card-radio%20label%20%7B%0A%20%20%20%20margin-right%3A%2010px%3B%0A%7D%0A.module-open-car%20.open-card-con%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20padding%3A%200%2015px%3B%0A%20%20%20%20height%3A%20310px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%7D%0A.module-open-car%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%20%20%20%20padding%3A5px%203px%3B%0A%7D%0A.module-open-car%20td.tab-left%20%7B%0A%20%20%20%20width%3A%20115px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-open-car%20.model%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20background%3A%20%23eee%3B%0A%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20margin-bottom%3A%2010px%3B%0A%20%20%20%20padding%3A%205px%3B%0A%7D%0A.module-open-car%20.model%20.icon-close%20%7B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20width%3A%2020px%3B%0A%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20line-height%3A%2020px%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20right%3A%20-1px%3B%0A%20%20%20%20top%3A%20-1px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-open-car%20.addCarButton%20%7B%0A%20%20%20%20margin-right%3A%2020px%3B%0A%7D%0A%0A.module-open-car%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-open-car%20.tips-width%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%20%20%20%20padding-left%3A%2010px%3B%0A%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20color%3A%20%23999%3B%0A%20%20%20%20line-height%3A%2015px%3B%0A%7D%0A.module-open-car%20.card-img-link%20%7B%0A%20%20%20%20padding%3A%205px%200%3B%0A%7D%0A.module-open-car%20.card-img-show%20%7B%0A%20%20%20%20width%3A%20150px%3B%0A%20%20%20%20height%3A%2098px%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%7D%0A.module-open-car%20.card-img-show%20img%20%7B%0A%20%20%20%20height%3A%2098px%3B%0A%20%20%20%20border%3A%20none%3B%0A%7D%0A.module-open-car%20.upfile-box%20%7B%0A%20%20%20%20padding-top%3A%2010px%3B%0A%7D");});

//From origin/module/opencard/opencard.js
define('originmoduleopencardopencardjs',['avalon','util','json','moment','originmoduleopencardopencardhtml','originmoduleopencardopencardcss','common','dialog','originwidgetformselectjs'],function(a,d,f,k,j,g){var h=this,b=h.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var e=c.data('module')||{};if(!e.opencard){try{c.html(c.html()+d.adjustModuleCssUrl(g,'opencard/'));}catch(a){c[0].styleSheet.cssText+=d.adjustModuleCssUrl(g,'opencard/');}e.opencard=!0,c.data('module',e);}var i=b.module.opencard=function(i,e,l){var k=e.opencardOptions,g=$(i),c=function(a){return b.openCard||(b.openCard=[]),b.openCard.push(e.opencardId+a),e.opencardId+a;},h=a.define(e.opencardId,function(e){function n(b){p++;var a=c(b+p);return a;}function o(g){return{uploaderId:g,uploadifyOpts:{uploader:b.BASE_PATH+'applySetting/uploadOpenCardAttachment.do',fileObjName:'myfile',multi:!1,fileTypeDesc:'\u4E0A\u4F20\u9644\u4EF6(*.*)',fileTypeExts:'*.jpg; *.png; *.gif',formData:function(){return{sessionId:e.sessionId};},width:100,height:30,onUploadProgress:function(h,c,d,i,j){e.uping=!0;var a=c/d*100>100?100:c/d*100;a+='%';var f=h.name,b='';a==='100%'?b='\u4E0A\u4F20\u5B8C\u6210':b='\u6B63\u5728\u4E0A\u4F20\uFF1A'+f,c?($('.upfile-loding').css('width',a),$('.upfile-tips').html(b)):$('.'+g).append('<div class="upfile-model" style="position:relative;width:400px;height: 25px;border:1px solid #ccc;background:#bebebe;"><p class="upfile-loding" style="position:absolute;left:0;top:-1px;width:'+a+';height:27px;background:#67bb0d;"></p>'+'<p class="upfile-tips" style="position:absolute;left:0;top:0;height:25px;line-height:25px;text-align:center;width:100%;color:#fff;">'+b+'</p>'+'</div>');}},onSuccessResponseData:function(b,h){b=f.parse(b),e.uping=!1,b.flag?setTimeout(function(){$('.upfile-model').remove();var f=b.data;_.map(e.fesOpenCardApplicationDtls,function(a,b){a.upFileFlag==g&&(a.attachmentId=f.id,a.sysAttachment.originalFileName=f.originalFileName,a.sysAttachment.fileFullPath=f.fileFullPath);});var h=a.getVm(c('-opencardDialogId'));d.testing($(h.widgetElement)[0],$('.'+g+'input'));},1000):($('.upfile-model').remove(),d.alert({content:'\u4E0A\u4F20\u5931\u8D25\uFF01',iconType:'error'}));}};}a.mix(e,k);var p=0,m=[];e.merchantName='',e.displayType='add',e.readonly=!1,e.sessionId='',e.uping=!1,e.id=0,e.processId=0,e.merchantId=0,e.fesOpenCardApplicationDtls=[],e.$addCardDialogOpts={dialogId:c('-opencardDialogId'),title:'\u5F00\u5361\u7533\u8BF7',width:600,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-visible="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-visible="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u5173&nbsp;\u95ED</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){e.fesOpenCardApplicationDtls=[];},submit:function(p){var m,i=a.getVm(c('-opencardDialogId'));if(m=d.testing($(i.widgetElement)[0]),m){var h=e.fesOpenCardApplicationDtls.$model;for(var g=0;g<h.length;g++)h[g].memberLevel=a.getVm(h[g].memberLevel).selectedValue,delete h[g].$memberLevelOpts,delete h[g].upFileFlag,delete h[g].$cardUploaderOpts;var l={id:e.id,processId:e.processId,merchantId:e.merchantId,fesOpenCardApplicationDtls:h};d.c2s({url:b.BASE_PATH+'applySetting/saveOpenCardApply.do',type:'post',contentType:'application/json',data:f.stringify(l),success:function(b){b.flag&&(e.callFn(b),a.getVm(c('-opencardDialogId')).close());}});}else{var k=$(i.widgetElement).find('.valid-error')[0],n=$(k).closest('.ff-value').position().top,o=$(k).closest('.model').position().top,j=n+o+$('.open-card-con',i.widgetElement)[0].scrollTop;$('.open-card-con').scrollTop(j>0?j:0);}}},e.open=function(){d.c2s({url:b.BASE_PATH+'applySetting/loadOpenCardApply.do',type:'post',contentType:'application/json',data:f.stringify({processId:e.processId}),success:function(j){var h;if(j.flag){if(h=j.data,m=h.membershipDic,e.displayType=='read'){e.readonly=!0;function l(b){for(var a=0;a<m.length;a++)if(b==m[a].value)return m[a].text;}var d=h.fesOpenCardApplicationDtls;for(var b=0;b<d.length;b++)d[b].memberLevel=l(d[b].memberLevel);e.fesOpenCardApplicationDtls=h.fesOpenCardApplicationDtls;}else if(e.displayType=='edit'){e.readonly=!1;var d=h.fesOpenCardApplicationDtls;e.id=h.id;for(var b=0;b<d.length;b++){var k=function(){for(var a=0;a<m.length;a++)if(m[a].value==d[b].memberLevel)return a;},f=n('vipSelectId'),g=n('vipUpFileId'),i={attachmentId:d[b].attachmentId,cardName:d[b].cardName,cardTag:d[b].cardTag,cardAmount:d[b].cardAmount,validityTerm:d[b].validityTerm,isContainFour:d[b].isContainFour,isContainSeven:d[b].isContainSeven,isContainSecurityCode:d[b].isContainSecurityCode,memberLevel:f,$memberLevelOpts:{selectId:f,options:m,selectedIndex:k()},$cardUploaderOpts:o(g),upFileFlag:g,sysAttachment:d[b].sysAttachment};e.fesOpenCardApplicationDtls.push(i);}}else{e.readonly=!1;var f=n('vipSelectId'),g=n('vipUpFileId'),i={attachmentId:0,cardName:'',cardTag:'',cardAmount:'',validityTerm:'',isContainFour:'0',isContainSeven:'0',isContainSecurityCode:'0',memberLevel:f,$memberLevelOpts:{selectId:f,options:m},$cardUploaderOpts:o(g),upFileFlag:g,sysAttachment:{originalFileName:'',fileFullPath:''}};e.fesOpenCardApplicationDtls.push(i);}a.getVm(c('-opencardDialogId')).open();}}});},e.addCar=function(){var a=n('vipSelectId'),b=n('vipUpFileId'),c={attachmentId:0,cardName:'',cardTag:'',cardAmount:'',validityTerm:'',isContainFour:'0',isContainSeven:'0',isContainSecurityCode:'0',memberLevel:a,$memberLevelOpts:{selectId:a,options:m},$cardUploaderOpts:o(b),upFileFlag:b,sysAttachment:{originalFileName:'',fileFullPath:''}};e.fesOpenCardApplicationDtls.push(c),$('.open-card-con').scrollTop($('.open-card-con')[0].scrollHeight);},e.remove=function(a){e.fesOpenCardApplicationDtls.remove(a);},e.$init=function(){g.addClass('module-opencard'),g.html(j),a.scan(i,[h].concat(l));},e.$remove=function(){_.each(b.openCard,function(c){var b=a.getVm(c);b&&$(b.widgetElement).remove();}),b.openCard.length=0,g.removeClass('module-opencard').off().empty();};});return h;};return i.defaults={displayType:'add',processId:0,merchantId:0,merchantName:'',sessionId:'',callFn:a.noop},a;});

//From origin/module/organization/organization.html
define("originmoduleorganizationorganizationhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22node-tree%20fn-clear%22%3E%3Cdiv%20class%3D%22module-organization-action-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24dialogOpts%22%3E%3Cform%20class%3D%22action-form%22%20ms-widget%3D%22form%2C%24%2C%24formOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E7%BB%84%E7%BB%87%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22input-text%20organization-id%22%20name%3D%22organization_id%22%20ms-value%3D%22organizationId%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20organization-name%22%20name%3D%22group_name%22%20ms-value%3D%22organizationName%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E%3C%2Fdiv%3EMS_OPTION_MODULE%3Cdiv%20class%3D%22MS_VAR_NODE_TEXT_CLS%20node-text%20fn-left%22%20ms-mousedown%3D%22showContextMenu%22%20data-organization-id%3D%22MS_VAR_ORGANIZATION_ID%22%20data-organization-name%3D%22MS_VAR_ORGANIZATION_NAME%22%3E%3Cdiv%20class%3D%22node-text-inner%22%3E%3Cspan%20class%3D%22connect-line-left%22%3E%3C%2Fspan%3E%3Ci%20class%3D%22visible-h%20iconfont%22%20ms-click%3D%22clickNode%22%3E%26%23xe600%3B%3C%2Fi%3E%26nbsp%3B%3Cspan%20class%3D%22text-name%22%3EMS_VAR_GROUP_NAME%3C%2Fspan%3E%3Cspan%20class%3D%22connect-line-right%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3EMS_OPTION_CONTEXT_MENU%3Cul%20class%3D%22organization-context-menu%22%3E%3Cli%20class%3D%22add-same-level-item%20context-item%22%20data-action-type%3D%22addSameLevel%22%3E%E6%B7%BB%E5%8A%A0%E5%90%8C%E7%BA%A7%E9%83%A8%E9%97%A8%3C%2Fli%3E%3Cli%20class%3D%22context-item%22%20data-action-type%3D%22addNextLevel%22%3E%E6%B7%BB%E5%8A%A0%E5%AD%90%E7%BA%A7%E9%83%A8%E9%97%A8%3C%2Fli%3E%3Cli%20class%3D%22context-item%22%20data-action-type%3D%22renameNode%22%3E%E9%87%8D%E5%91%BD%E5%90%8D%3C%2Fli%3E%3Cli%20class%3D%22remove-node-item%20context-item%22%20data-action-type%3D%22removeNode%22%3E%E5%88%A0%E9%99%A4%E9%83%A8%E9%97%A8%3C%2Fli%3E%3C%2Ful%3E");});

//From origin/module/organization/organization.css
define("originmoduleorganizationorganizationcss", [], function () {return decodeURIComponent(".module-organization%20%7B%0A%20%20%20%20overflow%3A%20auto%3B%0A%7D%0A%2F*.module-organization%20.node-tree%20%7B%0A%20%20%20%20width%3A%2010000px%3B%0A%7D*%2F%0A.module-organization%20.node-text%20%7B%0A%20%20%20%20height%3A%2034px%3B%0A%20%20%20%20line-height%3A%2034px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20font-weight%3A%20bold%3B%0A%7D%0A.module-organization%20.node-text%20.visible-h%20%7B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-organization%20.node-text-inner%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-organization%20.connect-line-right%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20left%3A%20100%25%3B%0A%20%20%20%20margin-top%3A%20-2px%3B%0A%20%20%20%20width%3A%2046px%3B%0A%20%20%20%20height%3A%204px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%7D%0A.module-organization%20.connect-line-left%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20left%3A%20-8px%3B%0A%20%20%20%20margin-top%3A%20-2px%3B%0A%20%20%20%20width%3A%208px%3B%0A%20%20%20%20height%3A%204px%3B%0A%20%20%20%20background%3A%20%2376a9e0%3B%0A%7D%0A.module-organization%20.root-node-text%20.node-text-inner%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-organization%20.node-text%20.node-text-inner%20%7B%0A%20%20%20%20padding%3A%200%208px%3B%0A%7D%0A.module-organization%20.node-list%20%7B%0A%20%20%20%20border-left%3A%204px%20solid%20%2376a9e0%3B%0A%20%20%20%20margin-left%3A%2046px%3B%0A%20%20%20%20padding-left%3A%208px%3B%0A%7D%0A.module-organization%20.node-item%20%7B%0A%20%20%20%20margin-bottom%3A%208px%3B%0A%7D%0A.module-organization%20.node-item-last%20%7B%0A%20%20%20%20margin-bottom%3A%200%3B%0A%7D%0A.module-organization%20.root-node-text%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20line-height%3A%2080px%3B%0A%20%20%20%20border%3A%205px%20solid%20%2376a9e0%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20color%3A%20%23393939%3B%0A%20%20%20%20border-radius%3A%2045px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A.module-organization%20.root-node-text%20.connect-line-right%20%7B%0A%20%20%20%20width%3A%2052px%3B%0A%7D%0A.module-organization%20.root-node-text%20.visible-h%2C%0A.module-organization%20.root-node-text%20.connect-line-left%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-organization%20.leaf-node-text%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20font-weight%3A%20normal%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%7D%0A.module-organization%20.leaf-node-text%20.connect-line-right%2C%0A.module-organization%20.leaf-node-text%20.visible-h%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.module-organization%20.state-contract%20.connect-line-right%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A.organization-context-menu%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e9e9e9%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20box-shadow%3A%20%201px%202px%202px%20%23e9e9e9%3B%0A%7D%0A.organization-context-menu%20.context-item%20%7B%0A%20%20%20%20width%3A%20178px%3B%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%20%20%20%20padding%3A%200%208px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23e9e9e9%3B%0A%20%20%20%20text-indent%3A%2020px%3B%0A%20%20%20%20background%3A%20%23eef6ff%3B%0A%20%20%20%20color%3A%20%23393939%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-organization-action-dialog%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%2080px%3B%0A%7D%0A.module-organization-action-dialog%20.organization-name%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin/module/organization/organization.js
define('originmoduleorganizationorganizationjs',['avalon','util','json','originmoduleorganizationorganizationhtml','originmoduleorganizationorganizationcss','common'],function(a,c,g,e,m){var k=this,b=k.erp,d=$('#module-style');d.length===0&&(d=$('<style id="module-style"></style>'),d.appendTo('head'));try{d.html(d.html()+c.adjustModuleCssUrl(m,'organization/'));}catch(a){d[0].styleSheet.cssText+=c.adjustModuleCssUrl(m,'organization/');}var j,f,l,i;e=e.split('MS_OPTION_MODULE'),j=e[0],i=e[1].split('MS_OPTION_CONTEXT_MENU'),f=i[0],l=i[1];var h=b.module.organization=function(i,n,o){var p=n.organizationOptions,k=$(i),d=$('.organization-context-menu'),h=n.organizationId+'-dialog',m=n.organizationId+'-form';d.length===0&&(d=$(l),d.appendTo('body'),d.on('click','.context-item',function(c){var b=$(this),a=b.data('actionType');e.actionType=a,e[a](),d.hide();}).on('mousedown',function(a){a.stopPropagation();}),$('body').on('mousedown',function(){d.hide();})),i.oncontextmenu=function(){return!1;};var e=a.define(n.organizationId,function(l){a.mix(l,p),l.widgetElement=i,l.nodeTextSelected=null,l.actionType='',l.addSameLevel=function(){var b=a.getVm(h);b.title='\u6DFB\u52A0\u540C\u7EA7\u90E8\u95E8',b.open();},l.addNextLevel=function(){var b=a.getVm(h);b.title='\u6DFB\u52A0\u5B50\u7EA7\u90E8\u95E8',b.open();},l.renameNode=function(){var b=a.getVm(h),c=a.getVm(m),d=l.nodeTextSelected;c.organizationName=d.data('organizationName'),b.title='\u91CD\u547D\u540D',b.open();},l.removeNode=function(){var a=l.nodeTextSelected.data('organizationId');c.confirm({content:'\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684\u90E8\u95E8\u5417\uFF1F',onSubmit:function(){c.c2s({url:b.BASE_PATH+'group/deleteGroup/'+a+'.do',type:'get',success:function(a){a.flag==1&&(c.alert({content:a.message,iconType:'success'}),l.forceRefresh(l.getParentNodeText()));}});}});},l.appendNode=function(h,g){var c=$(h),d=c.next('.node-list'),b;d.length===0&&(d=$('<ul class="node-list fn-left"></ul>'),d.insertAfter(c)),b=f.replace('MS_VAR_GROUP_NAME',g.groupName),b=b.replace('MS_VAR_NODE_TEXT_CLS','state-contract leaf-node-text'),b=b.replace('MS_VAR_ORGANIZATION_ID',g.id),b=b.replace('MS_VAR_ORGANIZATION_NAME',g.groupName),d.append('<li class="node-item fn-clear">'+b+'</li>'),c.hasClass('state-contract')&&($('.visible-h',c).html('&#xe601;'),c.removeClass('state-contract').addClass('state-expend')),c.removeClass('leaf-node-text'),a.scan(d[0],[e].concat(o)),l.adjustWidth();},l.$dialogOpts={dialogId:h,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onClose:function(){var b=a.getVm(m);b.organizationName='',b.reset();},submit:function(k){var d,f,j=a.getVm(h),i=a.getVm(m),e=l.actionType;i.validate()&&(d=i.getFormData(),e=='addSameLevel'?(f=b.BASE_PATH+'group/addSameLevel.do',_.extend(d,{id:l.getParentNodeText().data('organizationId')})):e=='addNextLevel'?(f=b.BASE_PATH+'group/addNextLevel.do',_.extend(d,{id:l.nodeTextSelected.data('organizationId')})):e=='renameNode'&&(f=b.BASE_PATH+'group/renameGroup.do',_.extend(d,{id:l.nodeTextSelected.data('organizationId')})),c.c2s({url:f,data:g.stringify(d),contentType:'application/json',success:function(a){a.flag==1&&(e=='addSameLevel'?l.appendNode(l.nodeTextSelected.closest('.node-list').prev('.node-text'),{id:a.data,groupName:d.groupName}):e=='addNextLevel'?l.forceRefresh():e=='renameNode'&&($('.text-name',l.nodeTextSelected).text(d.groupName),l.nodeTextSelected.data('organizationName',d.groupName)),j.close());}}));}},l.$formOpts={formId:m,field:[{selector:'.organization-name',name:'groupName',rule:['noempty',function(b,a){return a[0]!==!0?'\u7EC4\u7EC7\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A':!0;}]},{selector:'.organization-id',name:'id'}],organizationName:''},l.showContextMenu=function(c){var a=$(this),e,b;c.which===3&&(e=a.outerWidth(),b=a.offset(),d.css({top:b.top+'px',left:b.left+e+'px'}),l.nodeTextSelected=a,a.hasClass('root-node-text')?$('.add-same-level-item',d).hide():$('.add-same-level-item',d).show(),a.hasClass('leaf-node-text')?$('.remove-node-item',d).show():$('.remove-node-item',d).hide(),d.show(),c.stopPropagation());},l.redraw=function(){var d=function(b,e){var a=f.replace('MS_VAR_GROUP_NAME',b.groupName),c='';return _.isUndefined(e)&&(c='root-node-text'),b.isLeaf&&(c='leaf-node-text'),b.children&&b.children.length>0?c+=' state-expend':c+=' state-contract',a=a.replace('MS_VAR_NODE_TEXT_CLS',c),a=a.replace('MS_VAR_ORGANIZATION_ID',b.id),a=a.replace('MS_VAR_ORGANIZATION_NAME',b.groupName),b.children&&b.children.length>0&&(a+='<ul class="node-list fn-left">',_.each(b.children,function(b){a+='<li class="node-item fn-clear">'+d(b,!1)+'</li>';}),a+='</ul>'),a;};k.html(j),c.c2s({url:b.BASE_PATH+'group/getSysGroupsByParentId.do',data:g.stringify({parentId:1,groupName:'\u603B\u88C1\u529E'}),contentType:'application/json',success:function(b){b.flag&&($('.node-tree',k).html(d(b.data)),a.scan(i,[e].concat(o)));}},{mask:!1});},l.getParentNodeText=function(a){var b=a?$(a):l.nodeTextSelected;return b.closest('.node-list').prev('.node-text');},l.forceRefresh=function(b){var a=b?$(b):l.nodeTextSelected;a.length&&(a.removeClass('state-expend').removeClass('leaf-node-text').addClass('state-contract'),a.next('.node-list').remove(),$('.visible-h',a).click());},l.clickNode=function(k){var i=$(this),d=i.closest('.node-text'),h=d.next('.node-list');if(d.hasClass('state-contract')){if(h.length===0){h=$('<ul class="node-list fn-left"></ul>'),h.insertAfter(d);var j={parentId:a(d[0]).data('organizationId'),groupName:$('.text-name',d).text()};c.c2s({url:b.BASE_PATH+'group/getSysGroupsByParentId.do',data:g.stringify(j),contentType:'application/json',success:function(g){var b='',c;g.flag&&(c=g.data.children,c.length?(_.each(c,function(c){var a='',d='state-contract';c.isLeaf&&(d+=' leaf-node-text'),a=f.replace('MS_VAR_GROUP_NAME',c.groupName),a=a.replace('MS_VAR_NODE_TEXT_CLS',d),a=a.replace('MS_VAR_ORGANIZATION_ID',c.id),a=a.replace('MS_VAR_ORGANIZATION_NAME',c.groupName),b+='<li class="node-item fn-clear">'+a+'</li>';}),h.html(b),a.scan(h[0],[e].concat(o))):d.addClass('leaf-node-text'),l.adjustWidth());}},{mask:!1});}else h.show(),l.adjustWidth();i.html('&#xe601;'),d.removeClass('state-contract').addClass('state-expend');}else h.hide(),i.html('&#xe600;'),d.removeClass('state-expend').addClass('state-contract'),l.adjustWidth();},l.adjustWidth=function(){var a=$('.node-tree',k),b=a.children('.root-node-text'),c=a.children('.node-list');a.width(10000),a.width(b.outerWidth()+c.outerWidth(!0));},l.$init=function(){k.addClass('module-organization'),l.redraw(),a.scan(i,[e].concat(o));},l.$remove=function(){},l.$skipArray=['widgetElement','nodeTextSelected'];});return e;};return h.version=1,h.defaults={},a;});

//From origin/module/persontree/persontree.html
define("originmodulepersontreepersontreehtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-person-tree%22%20ms-widget%3D%22dialog%2C%24%2C%24persontreeOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22content%22%3E%3Cdiv%20class%3D%22con-left%22%3E%3Ch2%20class%3D%22all-person%22%20ms-class%3D%22cur%3A!find%22%20ms-click%3D%22findAll%22%3E%E6%9F%A5%E7%9C%8B%E5%85%A8%E9%83%A8%E6%88%90%E5%91%98%3C%2Fh2%3E%3Cdiv%20ms-widget%3D%22tree%2C%24%2C%24ztreeOpts%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-right%22%3E%3Cdiv%20class%3D%22con-right-search-title%22%3E%3Cinput%20type%3D%22text%22%20ms-duplex%3D%22key%22%20class%3D%22input-text%20person-search%22%20placeholder%3D%22%E5%A7%93%E5%90%8D%22%3E%3Cinput%20type%3D%22button%22%20class%3D%22main-btn%22%20value%3D%22%E6%90%9C%E7%B4%A2%22%20ms-click%3D%22searchPer%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-right-table%22%3E%3Ctable%3E%3Ctr%20ms-repeat%3D%22personArr%22%20ms-hover%3D%22state-hover%22%20ms-data-username%3D%22el.user_name%22%20ms-data-id%3D%22el.id%22%20ms-click%3D%22selectedPerId%22%3E%3Ctd%3E%7B%7Bel.user_name%7D%7D%3C%2Ftd%3E%3Ctd%3E%7B%7Bel.group_name%7D%7D%3C%2Ftd%3E%3Ctd%3E%7B%7Bel.position_name%7D%7D%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/persontree/persontree.css
define("originmodulepersontreepersontreecss", [], function () {return decodeURIComponent(".module-person-tree%20%7B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-person-tree%20.content%20%7B%0A%20%20%20%20border%3A1px%20solid%20%23ccc%3B%0A%20%20%20%20height%3A%20360px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-person-tree%20.con-left%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20width%3A%20180px%3B%0A%20%20%20%20height%3A%20340px%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23ccc%3B%0A%7D%0A.module-person-tree%20.all-person%20%7B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20line-height%3A%2025px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-person-tree%20.con-right%20%7B%0A%20%20%20%20float%3A%20right%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20width%3A%20305px%3B%0A%20%20%20%20height%3A%20360px%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-person-tree%20.person-search%20%7B%0A%20%20%20%20width%3A%20220px%3B%0A%20%20%20%20margin-right%3A%2010px%3B%0A%7D%0A.module-person-tree%20.con-right-search-title%20%7B%0A%20%20%20%20margin-bottom%3A%2015px%3B%0A%7D%0A.module-person-tree%20.con-right-table%20%7B%0A%20%20%20%20height%3A%20290px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%7D%0A.module-person-tree%20.con-right-table%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-person-tree%20.con-right-table%20table%20tr%20%7B%0A%20%20%20%20border-bottom%3A%201px%20dashed%20%23eee%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-person-tree%20.con-right-table%20table%20td%20%7B%0A%20%20%20%20padding%3A%206px%3B%0A%7D%0A.module-person-tree%20.state-hover%20%7B%0A%20%20%20%20background%3A%20%23f5fbfe%3B%0A%7D%0A.module-person-tree%20.cur%20%7B%0A%20%20%20%20color%3A%2366CCB5%0A%7D");});

//From origin/module/persontree/persontree.js
define('originmodulepersontreepersontreejs',['avalon','util','json','moment','originmodulepersontreepersontreehtml','originmodulepersontreepersontreecss','common','dialog','originwidgetformselectjs','originwidgettreetreejs'],function(a,c,j,k,i,f){var h=this,d=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var e=b.data('module')||{};if(!e.persontree){try{b.html(b.html()+c.adjustModuleCssUrl(f,'persontree/'));}catch(a){b[0].styleSheet.cssText+=c.adjustModuleCssUrl(f,'persontree/');}e.persontree=!0,b.data('module',e);}var g=d.module.persontree=function(k,g,m){var l=g.persontreeOptions,h=$(k),b=g.persontreeId+'-dialog',f=g.persontreeId+'-treeId',e=a.define(g.persontreeId,function(g){a.mix(g,l),g.outerHandler=!1,g.find=1,g.groupId='',g.personId=0,g.personName='',g.key='',g.personArr=[],g.ids=[],g.findAll=function(){g.find=0,g.groupId='',g.key='',c.c2s({url:d.BASE_PATH+'user/getUserOfGroup.do',type:'post',data:{groupId:g.groupId},success:function(a){var b;a.flag==1&&(b=a.data,g.personArr=b,g.personId='');}});},g.selectedPerId=function(){$(this).addClass('cur').siblings().removeClass('cur');var a=$(this).attr('data-id'),b=$(this).attr('data-userName');g.personId=a,g.personName=b;},g.searchPer=function(){g.personId='',g.key?g.personArr=_.filter(g.personArr.$model,function(a){return a.user_name.indexOf(g.key)!==-1;}):c.c2s({url:d.BASE_PATH+'user/getUserOfGroup.do',type:'post',data:{groupId:g.groupId},success:function(a){var b;a.flag==1&&(b=a.data,g.personArr=b,g.personId='');}});},g.$persontreeOpts={dialogId:b,width:580,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){e.ids=[];},submit:function(f){g.personId?g.outerHandler?(a.getVm(b).close(),e.callFn({userName:g.personName,userId:g.personId})):c.c2s({url:d.BASE_PATH+'besRequirement/saveBesRequirement.do',type:'post',data:j.stringify({ids:g.ids,handlerId:g.personId}),contentType:'application/json',success:function(c){c.flag==1&&(a.getVm(b).close(),e.ids=[],e.callFn(c));}}):c.alert({content:'\u8BF7\u6307\u6D3E\u4E00\u4E2A\u7528\u6237\uFF01',iconType:'error'});}},g.$ztreeOpts={treeId:f,ztreeOptions:{setting:{check:{enable:!1,chkboxType:{Y:'s',N:'s'}},callback:{onClick:function(b,e,a){if(a.children)return;g.find=1,g.key='',g.groupId=a.id,c.c2s({url:d.BASE_PATH+'user/getUserOfGroup.do',type:'post',data:{groupId:g.groupId},success:function(a){var b;a.flag==1&&(b=a.data,g.personArr=b,g.personId='');}});}},data:{simpleData:{enable:!0}}},treeData:[]}},g.open=function(){c.c2s({url:d.BASE_PATH+'group/getSysGroupsForXTree.do',type:'post',contentType:'application/json',data:'',success:function(d){var e,c=a.getVm(f);d.flag==1&&(e=d.data,c.updateTree([]),c.updateTree(_.map(e,function(a){return{id:a.id,name:a.name,pId:a.pid};})),a.getVm(b).title='\u6307\u6D3E\u9700\u6C42\u7ED9',a.getVm(b).open(),g.findAll());}});},g.$init=function(){h.addClass('module-persontree'),h.html(i),a.scan(k,[e].concat(m));},g.$remove=function(){a.getVm(f)&&$(a.getVm(f).widgetElement).remove(),$(a.getVm(b).widgetElement).remove(),h.removeClass('module-persontree').off().empty();};});return e;};return g.defaults={merchantId:'',ids:[],outerHandler:!1,callFn:a.noop},a;});

//From origin/module/positionselector/positionselector.html
define("originmodulepositionselectorpositionselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-positionselector-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24positionOpts%22%3E%3Cdiv%20class%3D%22position-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22position-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectPosition%22%20ms-repeat%3D%22positionList%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22item-cell%20fn-left%22%3E%7B%7Bel.positionName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/positionselector/positionselector.css
define("originmodulepositionselectorpositionselectorcss", [], function () {return decodeURIComponent(".module-positionselector-dialog%20.query%20%7B%0A%20%20%20%20width%3A%20200px%3B%0A%7D%0A");});

//From origin/module/positionselector/positionselector.js
define('originmodulepositionselectorpositionselectorjs',['avalon','util','json','originmodulepositionselectorpositionselectorhtml','originmodulepositionselectorpositionselectorcss','common','dialog'],function(a,e,j,i,h){var g=this,f=g.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var c=b.data('module')||{};if(!c.positionselector){try{b.html(b.html()+e.adjustModuleCssUrl(h,'positionselector/'));}catch(a){b[0].styleSheet.cssText+=e.adjustModuleCssUrl(h,'positionselector/');}c.positionselector=!0,b.data('module',c);}var d=f.module.positionselector=function(g,h,l){var c=h.positionselectorOptions,b=h.positionselectorId+'-dialog',d=$(g),k=a.define(h.positionselectorId,function(h){a.mix(h,c),h.widgetElement=g,h.dialogId=b,h.$positionOpts={dialogId:b,title:'\u9009\u62E9\u804C\u4F4D',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},positionList:[],onClose:function(){var c=a.getVm(b);$('.list-wrapper',c.widgetElement).scrollTop(0),c.positionList.clear();},onOpen:function(){var c=a.getVm(b);c.updateList();},submit:function(f){var d=a.getVm(b),e=[];_.each(d.positionList.$model,function(a){a.isSelected&&e.push(a);}),c.onSubmit&&c.onSubmit.call(h,e),d.close();},updateList:function(){var d=a.getVm(b),g=c.onListRequestData.call(h,{pageSize:10000,pageNumber:1});e.c2s({url:f.BASE_PATH+'studentManagement/queryPosition.do',data:j.stringify(g),contentType:'application/json',success:function(a){var b;a.flag&&(b=a.data,d.positionList.clear(),_.each(b,function(b){var a={};_.each(_.keys(b),function(c){a[_.str.camelize(c)]=b[c];}),d.positionList.push(_.extend(a,{isSelected:!1}));}),c.onListReady&&c.onListReady.call(h,d.positionList));}},{mask:d.widgetElement});},clickQueryBtn:function(){var c=a.getVm(b);c.updateList();},inputEnterKey:function(d){var c=a.getVm(b);d.keyCode==13&&c.updateList();},selectPosition:function(g){var d=a.getVm(b),f=this.$vmodel.$model,e=f.$index;c.multi?d.positionList.set(e,{isSelected:!d.positionList[e].isSelected}):(_.each(d.positionList,function(a){a.isSelected=!1;}),d.positionList.set(e,{isSelected:!0}));}},h.open=function(){a.getVm(b).open();},h.$init=function(){d.addClass('module-positionselector fn-hide'),d.html(i),a.scan(g,[k].concat(l));},h.$remove=function(){$(a.getVm(b).widgetElement).remove(),d.removeClass('module-positionselector').off().empty();},h.$skipArray=['widgetElement','dialogId'];});return k;};return d.version=1,d.defaults={multi:!1,onListRequestData:function(a){return a;},onListReady:a.noop,onSubmit:a.noop},a;});

//From origin/module/pptplayer/pptplayer.html
define("originmodulepptplayerpptplayerhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-ppt-player%20fn-left%22%3E%3Cimg%20ms-src%3D%22%7B%7BcurrentPath%7D%7D%22%20alt%3D%22preview%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22module-ppt-nav-wrapper%20fn-left%22%3E%3Cdiv%20class%3D%22ppt-nav-up%22%20ms-class-1%3D%22is-nav-disabled%3A%20movePassedNum%20%3D%3D%20pptList.length%20-%201%22%20ms-click%3D%22navUp%22%3E%3Ci%20class%3D%22icon-nav-arrow%20iconfont%22%3E%26%23xe60a%3B%3C%2Fi%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ppt-nav-list-wrapper%22%3E%3Cul%20class%3D%22ppt-nav-list%22%3E%3Cli%20class%3D%22ppt-nav-item%22%20ms-class-1%3D%22is-current-item%3A%20currentIndex%20%3D%3D%3D%20%24index%22%20ms-repeat%3D%22pptList%22%20ms-click%3D%22clickNavItem%22%3E%3Cimg%20ms-src%3D%22%7B%7Bel.imagePath%7D%7D%22%20alt%3D%22%22%3E%3Cdiv%20class%3D%22overlay%22%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22sup-tip%22%3E%7B%7B%24index%20%2B%201%7D%7D%2F%7B%7BpptList.length%7D%7D%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ppt-nav-down%22%20ms-class-1%3D%22is-nav-disabled%3A%20movePassedNum%20%3D%3D%200%22%20ms-click%3D%22navDown%22%3E%3Ci%20class%3D%22icon-nav-arrow%20iconfont%22%3E%26%23xe609%3B%3C%2Fi%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/pptplayer/pptplayer.css
define("originmodulepptplayerpptplayercss", [], function () {return decodeURIComponent(".module-pptplayer%20.module-ppt-player%20%7B%0A%20%20%20%20width%3A%20798px%3B%0A%20%20%20%20height%3A%20598px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e4e4e4%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-pptplayer%20.module-ppt-player%20img%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-pptplayer%20.module-ppt-nav-wrapper%20%7B%0A%20%20%20%20width%3A%20148px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23e4e4e4%3B%0A%20%20%20%20margin-left%3A%2024px%3B%0A%20%20%20%20background%3A%20%23ffffff%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-up%2C%0A.module-pptplayer%20.ppt-nav-down%20%7B%0A%20%20%20%20height%3A%2032px%3B%0A%20%20%20%20line-height%3A%2032px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-pptplayer%20.icon-nav-arrow%20%7B%0A%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20color%3A%20%23fd8712%3B%0A%7D%0A.module-pptplayer%20.is-nav-disabled%20.icon-nav-arrow%20%7B%0A%20%20%20%20color%3A%20%23bcbbbb%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-list-wrapper%20%7B%0A%20%20%20%20height%3A%20534px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20padding%3A%200%2016px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-list%20%7B%0A%20%20%20%20height%3A%2010000px%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20left%3A%2016px%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-item%20%7B%0A%20%20%20%20width%3A%20116px%3B%0A%20%20%20%20height%3A%2084px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20margin-bottom%3A%2012px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-item%20img%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-pptplayer%20.overlay%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20background%3A%20%23000000%3B%0A%20%20%20%20opacity%3A%200.5%3B%0A%20%20%20%20*filter%3Aopacity(50)%3B%0A%7D%0A.module-pptplayer%20.ppt-nav-item%20.sup-tip%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20padding%3A%200%200.2em%3B%0A%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20color%3A%20%23e9e9e9%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A.module-pptplayer%20.is-current-item%20%7B%0A%20%20%20%20width%3A%20112px%3B%0A%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20border%3A2px%20solid%20%23fd8712%3B%0A%7D%0A");});

//From origin/module/pptplayer/pptplayer.js
define('originmodulepptplayerpptplayerjs',['avalon','util','originmodulepptplayerpptplayerhtml','originmodulepptplayerpptplayercss','common'],function(b,f,i,g){var h=this,d=h.erp,a=$('#module-style');a.length===0&&(a=$('<style id="module-style"></style>'),a.appendTo('head'));var c=a.data('module')||{};if(!c.pptplayer){try{a.html(a.html()+f.adjustModuleCssUrl(g,'pptplayer/'));}catch(b){a[0].styleSheet.cssText+=f.adjustModuleCssUrl(g,'pptplayer/');}c.pptplayer=!0,a.data('module',c);}var e=d.module.pptplayer=function(c,f,h){var g=f.pptplayerOptions,a=$(c),e=b.define(f.pptplayerId,function(f){b.mix(f,g),f.widgetElement=c,f.currentPath=d.ASSET_PATH+'image/s.gif',f.currentIndex=0,f.movePassedNum=0,f.pptList=[],f.navUp=function(){f.move(1);},f.navDown=function(){f.move(-1);},f.move=function(c){var g=$('.ppt-nav-list-wrapper',a),h=$('.ppt-nav-list',a),d=$('.ppt-nav-item',a).outerHeight()+12,b=f.movePassedNum+c,e=Math.ceil(g.height()/d);if(b<0){f.move(c+1);return;}if(b>=f.pptList.size()){f.move(c-1);return;}h.stop(!0,!0).animate({top:-(b*d)+'px'},'fast'),f.currentIndex<b&&(f.currentIndex=b),f.currentIndex>=b+e&&(f.currentIndex=b+e-1),f.movePassedNum=b;},f.clickNavItem=function(){var a=this.$vmodel.$model,b=a.$index;f.currentIndex=b;},f.$init=function(){a.addClass('module-pptplayer'),a.html('<div class="ppt-wrapper fn-clear">'+i+'</div>'),b.scan(c,[e].concat(h));},f.$remove=function(){},f.$skipArray=['widgetElement'],f.$watch('currentIndex',function(a){f.currentPath=f.pptList[a].imagePath;});});return e;};return e.version=1,e.defaults={},b;});

//From origin/module/pptselector/pptselector.html
define("originmodulepptselectorpptselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22ppt-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24pptOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22query%20input-text%22%20placeholder%3D%22PPT%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22qName%22%20ms-keydown%3D%22inputEnterKey%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ppt-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22ppt-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectPpt%22%20ms-repeat%3D%22list%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22cell-title%20item-cell%20fn-left%22%3E%7B%7Bel.pptName%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/pptselector/pptselector.css
define("originmodulepptselectorpptselectorcss", [], function () {return decodeURIComponent("");});

//From origin/module/pptselector/pptselector.js
define('originmodulepptselectorpptselectorjs',['avalon','util','json','originmodulepptselectorpptselectorhtml','originmodulepptselectorpptselectorcss','common','dialog'],function(a,e,j,i,h){var g=this,f=g.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var c=b.data('module')||{};if(!c.pptselector){try{b.html(b.html()+e.adjustModuleCssUrl(h,'pptselector/'));}catch(a){b[0].styleSheet.cssText+=e.adjustModuleCssUrl(h,'pptselector/');}c.pptselector=!0,b.data('module',c);}var d=f.module.pptselector=function(g,h,l){var c=h.pptselectorOptions,b=h.pptselectorId+'-dialog',d=$(g),k=a.define(h.pptselectorId,function(h){a.mix(h,c),h.widgetElement=g,h.dialogId=b,h.$pptOpts={dialogId:b,title:'\u9009\u62E9PPT',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},list:[],qName:'',onClose:function(){var c=a.getVm(b);c.list.clear(),c.qName='',$('.list-wrapper',c.widgetElement).scrollTop(0);},onOpen:function(){var c=a.getVm(b);c.updateList();},submit:function(f){var d=a.getVm(b),e=[];_.each(d.list.$model,function(a){a.isSelected&&e.push(a);}),c.onSubmit&&c.onSubmit.call(h,e),d.close();},updateList:function(){var d=a.getVm(b),i=_.str.trim(d.qName),g={question:i,pageSize:10000,pageNumber:1};g=c.onListRequestData.call(h,g),e.c2s({url:f.BASE_PATH+'rule/getPttByCoursewareId.do',contentType:'application/json',data:j.stringify(g),success:function(a){var b;a.flag&&(b=a.data,d.list.clear(),_.each(b.rows,function(b){var a={};_.each(_.keys(b),function(c){a[_.str.camelize(c)]=b[c];}),d.list.push(_.extend(a,{isSelected:!1}));}),c.onListReady&&c.onListReady.call(h,d.list));}});},clickQueryBtn:function(){var c=a.getVm(b);c.updateList();},inputEnterKey:function(d){var c=a.getVm(b);d.keyCode==13&&c.updateList();},selectPpt:function(g){var d=a.getVm(b),f=this.$vmodel.$model,e=f.$index;c.multi?d.list.set(e,{isSelected:!d.list[e].isSelected}):(_.each(d.list,function(a){a.isSelected=!1;}),d.list.set(e,{isSelected:!0}));}},h.open=function(){a.getVm(b).open();},h.$init=function(){d.addClass('module-cwselector fn-hide'),d.html(i),a.scan(g,[k].concat(l));},h.$remove=function(){$(a.getVm(b).widgetElement).remove(),d.empty();},h.$watch('title',function(d){var c=a.getVm(b);c.title=d;}),h.$skipArray=['widgetElement','dialogId'];});return k;};return d.version=1,d.defaults={multi:!1,onListRequestData:function(a){return a;},onListReady:a.noop,onSubmit:a.noop},a;});

//From origin/module/practicehelper/practicehelper.html
define("originmodulepracticehelperpracticehelperhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22timer-panel%22%3E%E5%80%92%E8%AE%A1%E6%97%B6%EF%BC%9A%3Cspan%20class%3D%22countdown%22%3E%7B%7BcountdownText%7D%7D%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22exam-panel%22%3E%3Ch3%20class%3D%22panel-title%22%3E%E5%BD%93%E5%89%8D%E8%80%83%E9%A2%98%E4%BF%A1%E6%81%AF%3C%2Fh3%3E%3Cdiv%20class%3D%22exam-content%22%3E%7B%7BexamContent%20%7C%20html%7D%7D%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cspan%20class%3D%22practice-info-panel-visible-h%20state-shown%20iconfont%22%20ms-click%3D%22clickVisibleHandler%22%3E%26%23xe625%3B%3C%2Fspan%3E%3Cdiv%20class%3D%22module-practicehelper-end-tip%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24endTipOpts%22%3E%3Cdiv%20class%3D%22tip-content%22%3E%3Cspan%20ms-if%3D%22isPassed%22%3E%E6%82%A8%E9%80%9A%E8%BF%87%E4%BA%86%E6%9C%AC%E6%AC%A1%E5%AE%9E%E6%93%8D%E8%80%83%E8%AF%95%EF%BC%8C%E8%A6%81%E7%BB%A7%E7%BB%AD%E4%BF%9D%E6%8C%81%E5%93%A6%EF%BD%9E%3C%2Fspan%3E%20%3Cspan%20ms-if%3D%22!isPassed%22%3E%E6%82%A8%E6%B2%A1%E8%83%BD%E9%80%9A%E8%BF%87%E8%80%83%E8%AF%95%EF%BC%8C%E6%89%80%E6%9C%89%E8%AF%95%E9%A2%98%E9%80%9A%E8%BF%87%E6%89%8D%E8%83%BD%E5%AE%8C%E6%88%90%E8%80%83%E8%AF%95%E5%93%A6%EF%BD%9E%3C%2Fspan%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/practicehelper/practicehelper.css
define("originmodulepracticehelperpracticehelpercss", [], function () {return decodeURIComponent(".module-practicehelper%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20z-index%3A%202%3B%0A%20%20%20%20width%3A%20248px%3B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20background%3A%20%23eff3f6%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23e2e2e2%3B%0A%20%20%20%20color%3A%20%23646464%3B%0A%7D%0A.module-practicehelper%20.timer-panel%20%7B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20height%3A%2038px%3B%0A%20%20%20%20line-height%3A%2038px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23e2e2e2%3B%0A%7D%0A.module-practicehelper%20.exam-panel%20.panel-title%20%7B%0A%20%20%20%20padding%3A%2016px%2014px%3B%0A%20%20%20%20line-height%3A%201em%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%7D%0A.module-practicehelper%20.exam-panel%20.exam-content%20%7B%0A%20%20%20%20padding%3A%200%2014px%3B%0A%7D%0A.module-practicehelper%20.practice-info-panel-visible-h%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20position%3Afixed%3B%0A%20%20%20%20right%3A%20248px%3B%0A%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%2F*width%3A%2024px%3B%0A%20%20%20%20height%3A%2046px%3B*%2F%0A%20%20%20%20width%3A%2042px%3B%0A%20%20%20%20height%3A%2090px%3B%0A%20%20%20%20line-height%3A%2090px%3B%0A%20%20%20%20%2F*background%3A%20%2366ccb5%3B*%2F%0A%20%20%20%20margin-top%3A%20-45px%3B%0A%20%20%20%20color%3A%20%2366ccb5%3B%0A%20%20%20%20font-size%3A%2040px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%2F*padding-top%3A%202px%3B*%2F%0A%20%20%20%20z-index%3A%2010%3B%0A%20%20%20%20%2F*box-shadow%3A%20-1px%201px%202px%20%23cccccc%3B*%2F%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-practicehelper%20.practice-info-panel-visible-h%3Ahover%20%7B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%7D%0A.module-practicehelper-end-tip%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23646464%3B%0A%7D%0A");});

//From origin/module/practicehelper/practicehelper.js
define('originmodulepracticehelperpracticehelperjs',['avalon','util','originmodulepracticehelperpracticehelperhtml','originmodulepracticehelperpracticehelpercss','common','dialog'],function(a,b,i,h){var d=this,e=d.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var f=c.data('module')||{};if(!f.practicehelper){try{c.html(c.html()+b.adjustModuleCssUrl(h,'practicehelper/'));}catch(a){c[0].styleSheet.cssText+=b.adjustModuleCssUrl(h,'practicehelper/');}f.practicehelper=!0,c.data('module',f);}var g=e.module.practicehelper=function(l,k,q){function g(d){var c=a.getVm('page-study-coursestudy-practiceexam');return c||d||b.alert({content:'\u8BF7\u4E0D\u8981\u76F4\u63A5\u8BBF\u95EE\u8003\u9898\u9875\u9762\uFF0C\u9700\u8981\u4ECE\u8003\u8BD5\u5165\u53E3\u8FDB\u5165\u3002',iconType:'error',onSubmit:function(){b.jumpPage('#/study/coursestudy');}}),c;}function n(){var a=$('.practice-info-panel-visible-h',h);clearTimeout(m),m=setTimeout(function(){a.hasClass('state-shown')&&a.css({right:248-($('.app').width()-$(this).width()-$(this).scrollLeft())+'px'});},30);}function r(){var a=g(),b;a&&(b=a.leftTime,_.some(a.questionList.$model,function(a){return a.url===f.examPath?(f.examContent=a.content,!0):void 0;}));}function p(){function k(){var a=0,b=0,c=0;d--,a=Math.floor(d/3600),b=Math.floor((d-a*3600)/60),c=d-b*60-a*3600,f.countdownText=_.str.lpad(a,2,'0')+':'+_.str.lpad(b,2,'0')+':'+_.str.lpad(c,2,'0'),i.leftTime=d;}var i=g(!0),h=a.getVm(c),d;clearInterval(j),i&&(d=i.leftTime,i.originLeftTime===d&&d!==0&&b.c2s({url:e.BASE_PATH+'train/exam/startExam.do',type:'get',data:{examPaperId:i.examPaperId},contentType:'application/json'}),d>0?(k(),j=setInterval(function(){d<=0?(clearInterval(j),h.setTitle('\u5F88\u62B1\u6B49'),h.isPassed=!1,h.open()):k();},1000)):(h.setTitle('\u5F88\u62B1\u6B49'),h.isPassed=!1,h.open()));}var o=k.practicehelperOptions,h=$(l),j,c=k.practicehelperId+'-end-tip',f=a.define(k.practicehelperId,function(m){a.mix(m,o),m.widgetElement=l,m.countdownText='',m.examContent='',m.$endTipOpts={dialogId:c,title:'\u63D0\u793A',isPassed:!0,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u91CD\u65B0\u8003\u8BD5</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="reStudy">\u91CD\u65B0\u5B66\u4E60</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="backToCourseList">\u8FD4\u56DE\u8BFE\u7A0B\u5217\u8868</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){var h=a.getVm(c),d=g(!0),f;m.stopCountdown(),f=_.map(d.questionList.$model,function(a){return{id:a.id,isCorrect:a.isPassed?1:0};}),b.c2s({url:e.BASE_PATH+'train/exam/saveExam.do',type:'post',data:JSON.stringify(f),contentType:'application/json',success:function(a){a.flag;}});},submit:function(f){var d=g(!0),e=a.getVm(c);e.close(),b.jumpPage('#/study/coursestudy/practiceexam/'+d.learningProgressId+'/'+d.courseId+'/'+d.coursewareId);},reStudy:function(){var d=g(!0),e=a.getVm(c);e.close(),b.jumpPage('#/study/coursestudy/process/'+d.learningProgressId+'/'+d.courseId+'/'+d.coursewareId);},backToCourseList:function(){var d=a.getVm(c);d.close(),b.jumpPage('#/study/coursestudy');}},m.clickVisibleHandler=function(){var a=$(this);a.hasClass('state-shown')?h.css('overflow','hidden').stop(!0,!0).animate({width:0},'fast',function(){a.css('right',0),a.addClass('state-hidden').removeClass('state-shown').html('&#xe624;');}):h.css('overflow','visible').stop(!0,!0).animate({width:'248px'},'fast',function(){a.css('right',248-($('.app').width()-$(d).width()-$(d).scrollLeft())+'px'),a.addClass('state-shown').removeClass('state-hidden').html('&#xe625;');});},m.startCountdown=function(){p();},m.stopCountdown=function(){clearInterval(j);},m.setValidateResult=function(c){var a=g(!0),b=-1;_.some(a.questionList.$model,function(a,c){return a.url===f.examPath?(b=c,!0):void 0;})&&a.questionList.set(b,{isPassed:c});},m.next=function(l){var i,j=!0,k,n=g(!0),d=a.getVm(c),e=-1,h=n.questionList;for(i=0;i<1000;i++){if(k='result'+i,!l.hasOwnProperty(k))break;if(!l[k]){j=!1;break;}}m.setValidateResult(j),_.some(h.$model,function(a,b){return a.url===f.examPath?(e=b,!0):void 0;})&&(j?e!==h.size()-1?b.alert({content:'\u8BD5\u9898\u5DF2\u901A\u8FC7\uFF0C\u5269\u4F59'+(h.size()-e-1)+'\u9053\u8003\u9898\uFF0C\u52A0\u6CB9\u54E6\uFF5E',iconType:'success',submitText:'\u4E0B\u4E00\u9898',onSubmit:function(){b.jumpPage('#/study/coursestudy/practiceexam'+h[e+1].url);}}):(d.setTitle('\u606D\u559C\u60A8'),d.isPassed=!0,d.open()):(d.setTitle('\u5F88\u62B1\u6B49'),d.isPassed=!1,d.open()));},m.$init=function(){h.addClass('module-practicehelper'),h.html(i),a.scan(l,[f].concat(q));},m.$remove=function(){var b=k.practicehelperId+'-end-tip';$(d).off('scroll resize',n),clearInterval(j),$(a.getVm(b).widgetElement).remove(),h.removeClass('module-practicehelper').off().empty();},m.$skipArray=['widgetElement'];});r();var m;return $(d).on('scroll resize',n),f;};return g.version=1,g.defaults={examPath:''},a;});

//From origin/module/qselector/qselector.html
define("originmoduleqselectorqselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22question-select-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24questionOpts%22%3E%3Cdiv%20class%3D%22dialog-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22query%20input-text%22%20placeholder%3D%22%E8%AF%95%E9%A2%98%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22qName%22%20ms-keydown%3D%22inputEnterKey%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22query-btn%20main-btn%22%20ms-click%3D%22clickQueryBtn%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22question-list-wrapper%20list-wrapper%22%3E%3Cul%20class%3D%22question-list%20select-list%22%3E%3Cli%20class%3D%22select-item%20fn-clear%22%20ms-click%3D%22selectQuestion%22%20ms-repeat%3D%22list%22%20ms-class-1%3D%22odd%3A%20!(%24index%20%25%202)%22%20ms-class-2%3D%22even%3A%20%24index%20%25%202%22%3E%3Cspan%20class%3D%22cell-title%20item-cell%20fn-left%22%3E%7B%7Bel.question%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22cell-question-type%20item-cell%20fn-left%22%3E%7B%7Bel.questionType%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/qselector/qselector.css
define("originmoduleqselectorqselectorcss", [], function () {return decodeURIComponent(".question-select-dialog%20.cell-title%20%7B%0A%20%20%20%20width%3A%20300px%3B%0A%7D%0A");});

//From origin/module/qselector/qselector.js
define('originmoduleqselectorqselectorjs',['avalon','util','json','originmoduleqselectorqselectorhtml','originmoduleqselectorqselectorcss','common','dialog'],function(a,e,j,i,h){var g=this,f=g.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var c=b.data('module')||{};if(!c.qselector){try{b.html(b.html()+e.adjustModuleCssUrl(h,'qselector/'));}catch(a){b[0].styleSheet.cssText+=e.adjustModuleCssUrl(h,'qselector/');}c.qselector=!0,b.data('module',c);}var d=f.module.qselector=function(g,h,l){var c=h.qselectorOptions,b=h.qselectorId+'-dialog',d=$(g),k=a.define(h.qselectorId,function(h){a.mix(h,c),h.widgetElement=g,h.dialogId=b,h.$questionOpts={dialogId:b,title:'\u9009\u62E9\u8BD5\u9898',getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},list:[],qName:'',onClose:function(){var c=a.getVm(b);c.list.clear(),c.qName='',$('.list-wrapper',c.widgetElement).scrollTop(0);},onOpen:function(){var c=a.getVm(b);c.updateList();},submit:function(f){var d=a.getVm(b),e=[];_.each(d.list.$model,function(a){a.isSelected&&e.push(a);}),c.onSubmit&&c.onSubmit.call(h,e),d.close();},updateList:function(){var d=a.getVm(b),i=_.str.trim(d.qName),g={question:i,pageSize:10000,pageNumber:1};g=h.onListRequestData.call(h,g),e.c2s({url:f.BASE_PATH+h.listPath,contentType:'application/json',data:j.stringify(g),success:function(a){var b;a.flag&&(b=a.data,d.list.clear(),_.each(b.rows,function(b){var a={};_.each(_.keys(b),function(c){a[_.str.camelize(c)]=b[c];}),d.list.push(_.extend(a,{isSelected:!1}));}),c.onListReady&&c.onListReady.call(h,d.list));}});},clickQueryBtn:function(){var c=a.getVm(b);c.updateList();},inputEnterKey:function(d){var c=a.getVm(b);d.keyCode==13&&c.updateList();},selectQuestion:function(g){var d=a.getVm(b),f=this.$vmodel.$model,e=f.$index;c.multi?d.list.set(e,{isSelected:!d.list[e].isSelected}):(_.each(d.list,function(a){a.isSelected=!1;}),d.list.set(e,{isSelected:!0}));}},h.open=function(){a.getVm(b).open();},h.$init=function(){d.addClass('module-cwselector fn-hide'),d.html(i),a.scan(g,[k].concat(l));},h.$remove=function(){$(a.getVm(b).widgetElement).remove(),d.empty();},h.$watch('title',function(d){var c=a.getVm(b);c.title=d;}),h.$skipArray=['widgetElement','dialogId'];});return k;};return d.version=1,d.defaults={title:'',multi:!1,listPath:'rule/getQuestionByCoursewareId.do',onListRequestData:function(a){return a;},onListReady:a.noop,onSubmit:a.noop},a;});

//From origin/module/schedule/schedule.html
define("originmodulescheduleschedulehtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-schedule-tbar%20fn-clear%22%3E%3Cdiv%20class%3D%22date-mark%20fn-left%22%3E%7B%7B%20currentReferDate%20%7C%20date(%22M%20%E6%9C%88%20yyyy%E5%B9%B4%22)%7D%7D%3C%2Fdiv%3E%3Cdiv%20class%3D%22nav-box%20fn-right%22%3E%3Cspan%20class%3D%22export-l%22%20ms-if%3D%22planExportPermission%22%20ms-click%3D%22exportPlan%22%3E%E5%AF%BC%E5%87%BA%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cspan%20class%3D%22nav-l%22%20ms-click%3D%22navPrev%22%20title%3D%22%E4%B8%8A%E6%9C%88%22%3E%26%23139%3B%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cspan%20class%3D%22nav-r%22%20ms-click%3D%22navNext%22%20title%3D%22%E4%B8%8B%E6%9C%88%22%3E%26%23155%3B%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20class%3D%22today-btn%22%20ms-click%3D%22navToday%22%20title%3D%22%E8%BF%94%E5%9B%9E%E6%9C%AC%E6%9C%88%22%3E%E6%9C%AC%E6%9C%88%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22module-schedule-bd%22%3E%3Ctable%20class%3D%22module-schedule-grid%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E5%91%A8%E6%97%A5%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%B8%80%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%BA%8C%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%B8%89%3C%2Fth%3E%3Cth%3E%E5%91%A8%E5%9B%9B%3C%2Fth%3E%3Cth%3E%E5%91%A8%E4%BA%94%3C%2Fth%3E%3Cth%3E%E5%91%A8%E5%85%AD%3C%2Fth%3E%3C%2Ftr%3E%3C%2Fthead%3E%3Ctbody%3E%3Ctr%20ms-repeat%3D%22dateRows%22%3E%3Ctd%20ms-repeat%3D%22el%22%20ms-class-1%3D%22state-inactive%3A%20!el.isCurrentMonth%22%20ms-class-2%3D%22state-today%3A%20el.isToday%22%20ms-click%3D%22clickDateCell%22%3E%3Cdiv%20class%3D%22date-cell%22%3E%3Cdiv%20class%3D%22date-num%22%3E%7B%7B%20el.date%20%7C%20date(%22d%22)%7D%7D%3C%2Fdiv%3E%3Cul%20class%3D%22plan-list%22%3E%3Cli%20class%3D%22plan-item%22%20ms-repeat%3D%22el.planList%22%20ms-data-plan-id%3D%22el.id%22%20ms-data-status%3D%22el.status%22%20ms-data-plan%3D%22el.json%22%20ms-class-1%3D%22state-status-1%3Ael.status%20%3D%3D%20'1'%22%20ms-class-2%3D%22state-status-2%3Ael.status%20%3D%3D%20'2'%22%20ms-class-3%3D%22state-status-3%3Ael.status%20%3D%3D%20'3'%22%20ms-class-4%3D%22state-status-4%3Ael.status%20%3D%3D%20'4'%22%20ms-class-5%3D%22state-status-5%3Ael.status%20%3D%3D%20'5'%22%20ms-class-6%3D%22state-timeout%3Ael.isTimeout%22%3E%7B%7Bel.title%7D%7D%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22module-schedule-export-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24exportDialogOpts%22%3E%3Cform%20class%3D%22module-schedule-export-form%22%20ms-widget%3D%22form%2C%24%2C%24exportFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Ch3%20class%3D%22f-title%22%3E%E8%AF%B7%E9%80%89%E6%8B%A9%E5%AF%BC%E5%87%BA%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92%E6%97%B6%E9%97%B4%3C%2Fh3%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%3Cspan%20class%3D%22icon-star%22%3E*%3C%2Fspan%3E%E6%97%B6%E9%97%B4%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%20fn-clear%22%3E%3Cdiv%20class%3D%22input-field%20fn-left%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20start-date%22%20name%3D%22startTime%22%20readonly%3D%22readonly%22%20data-date-name%3D%22start%22%20ms-click%3D%22openExportDateCalendar%22%20ms-value%3D%22startDate%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-text%20input-separater%20fn-left%22%3E%E8%87%B3%3C%2Fdiv%3E%3Cdiv%20class%3D%22input-field%20fn-left%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20end-date%22%20name%3D%22endTime%22%20readonly%3D%22readonly%22%20data-date-name%3D%22end%22%20ms-click%3D%22openExportDateCalendar%22%20ms-value%3D%22endDate%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin/module/schedule/schedule.css
define("originmodulescheduleschedulecss", [], function () {return decodeURIComponent(".module-schedule%20%7B%0A%20%20%20%20color%3A%20%23393939%3B%0A%7D%0A.module-schedule%20.date-mark%20%7B%0A%20%20%20%20line-height%3A%2050px%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20padding-left%3A%2014px%3B%0A%7D%0A.module-schedule%20.nav-box%20%7B%0A%20%20%20%20padding-right%3A%2014px%3B%0A%20%20%20%20padding-top%3A%2012px%3B%0A%7D%0A.module-schedule%20.nav-box%20.nav-l%2C%0A.module-schedule%20.nav-box%20.nav-r%2C%0A.module-schedule%20.nav-box%20.export-l%2C%0A.module-schedule%20.nav-box%20.today-btn%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20*display%3A%20inline%3B%0A%20%20%20%20*zoom%3A%201%3B%0A%20%20%20%20height%3A%2028px%3B%0A%20%20%20%20line-height%3A%2028px%3B%0A%20%20%20%20padding%3A%200%2012px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-family%3A%20%22%E5%AE%8B%E4%BD%93%22%3B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%20%20%20%20overflow%3Avisible%3B%20%2F*%20ie6%2F7%E4%B8%8B%20padding%E5%80%BC%E4%BC%9A%E5%8F%98%E5%A4%A7%EF%BC%8C%E4%B8%8D%E6%98%8E%E5%8E%9F%E3%80%82%E5%8F%82%E8%80%83http%3A%2F%2Fblog.csdn.net%2Fjyy_12%2Farticle%2Fdetails%2F6636099%20*%2F%0A%7D%0A.module-schedule%20.nav-box%20.nav-l%2C%0A.module-schedule%20.nav-box%20.nav-r%20%7B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2024px%3B%0A%7D%0A.module-schedule%20.nav-box%20.export-l%20%7B%0A%20%20%20%20background%3A%20%2366ccb5%3B%0A%20%20%20%20color%3A%20%23ffffff%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%7D%0A.module-schedule%20.nav-box%20.today-btn%20%7B%0A%20%20%20%20line-height%3A%20normal%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20background%3A%20%23eaeaea%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%236f6f6f%3B%0A%7D%0A.module-schedule-grid%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-schedule-bd%20%7B%0A%20%20%20%20border-top%3A%201px%20solid%20%23eaeaea%3B%0A%20%20%20%20background%3A%20%23f6fafd%3B%0A%7D%0A.module-schedule%20.date-cell%20%7B%0A%20%20%20%20min-height%3A%20128px%3B%0A%7D%0A.module-schedule%20td%20%7B%0A%20%20%20%20border%3A%201px%20solid%20%23c5c8ca%3B%0A%20%20%20%20width%3A%2014%25%3B%0A%7D%0A.module-schedule%20th%20%7B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20line-height%3A%2054px%3B%0A%20%20%20%20width%3A%2014%25%3B%0A%7D%0A.module-schedule%20td.state-inactive%20%7B%0A%20%20%20%20background%3A%20%23f5f5f5%3B%0A%7D%0A.module-schedule%20td.state-today%20%7B%0A%20%20%20%20background%3A%20%23deeeff%3B%0A%7D%0A.module-schedule%20td.state-today%20.date-cell%20%7B%0A%20%20%20%20%2F*border%3A%201px%20solid%20%2376a9e0%3B*%2F%0A%7D%0A.module-schedule%20.date-cell%20.date-num%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20padding%3A%202px%204px%3B%0A%7D%0A.module-schedule%20.date-cell%20.plan-item%20%7B%0A%20%20%20%20padding%3A%202px%204px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-1%20%7B%0A%20%20%20%20background%3A%20%23FFFBE8%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-2%2C%0A.module-schedule%20.date-cell%20.state-timeout%20%7B%0A%20%20%20%20background%3A%20%23e67e96%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-3%20%7B%0A%20%20%20%20background%3A%20%23cccccc%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-4%20%7B%0A%20%20%20%20background%3A%20%238bbf43%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule%20.date-cell%20.state-status-5%20%7B%0A%20%20%20%20background%3A%20%230099cc%3B%0A%20%20%20%20margin-bottom%3A%201px%3B%0A%7D%0A.module-schedule-export-dialog%20.f-title%20%7B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20color%3A%20%23666666%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A.module-schedule-export-dialog%20.input-separater%20%7B%0A%20%20%20%20margin%3A%200%208px%3B%0A%7D%0A");});

//From origin/module/schedule/schedule.js
define('originmodulescheduleschedulejs',['avalon','util','json','moment','originmodulescheduleschedulehtml','originmodulescheduleschedulecss','common','dialog','originwidgetformformjs','originwidgetcalendarcalendarjs'],function(a,d,k,b,j,i){var h=this,g=h.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var e=c.data('module')||{};if(!e.schedule){try{c.html(c.html()+d.adjustModuleCssUrl(i,'schedule/'));}catch(a){c[0].styleSheet.cssText+=d.adjustModuleCssUrl(i,'schedule/');}e.schedule=!0,c.data('module',e);}var f=g.module.schedule=function(n,c,p){var o=c.scheduleOptions,h=$(n),f=new Date(),l=c.scheduleId+'-export-dialog',e=c.scheduleId+'-export-form',i=c.scheduleId+'-export-calendar',m=a.define(c.scheduleId,function(q){a.mix(q,o),q.planExportPermission=d.hasPermission('plan_export_171'),q.widgetElement=n,q.currentReferDate=b(f).date(0)._d,q.dateRows=[],q.updateDateRows=function(c){var a=[],d=[],e;c=b(c||b(f).date(1)),e=c.clone().startOf('week'),e.isSame(c,'day')&&(e=e.subtract('days',7)),_.each(_.range(0,42),function(g){var d=b(e).add('days',g);a.push({date:d._d,isCurrentMonth:d.month()===c.month(),isToday:d.isSame(f,'day'),planList:[]});}),q.currentReferDate=c._d,q.onFetchPlan({startTime:a[0].date/1,endTime:a[a.length-1].date/1},function(c){_.each(c,function(c){_.some(a,function(d){var a=b(c.start_time);return a.isSame(d.date,'day')?(d.planList.push({id:c.id,title:c.title,status:c.status,isTimeout:a.isBefore(f,'day'),json:k.stringify(c)}),!0):void 0;});}),_.each(a,function(b,c){var a=Math.floor(c/7);d[a]=d[a]||[],d[a].push(b);}),q.dateRows=d;});},q.navPrev=function(){q.updateDateRows(b(q.currentReferDate).subtract('months',1));},q.navNext=function(){q.updateDateRows(b(q.currentReferDate).add('months',1));},q.navToday=function(){q.updateDateRows(b(f).date(1));},q.exportPlan=function(){var b=a.getVm(l);b.open();},q.clickDateCell=function(a){return q.onClickDateCell.call(this,a);},q.$exportDialogOpts={dialogId:l,title:'\u5BFC\u51FA',width:540,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var b=a.getVm(e);b.reset(),b.startDate='',b.endDate='',b.currentDateName='';},submit:function(h){var c,f=a.getVm(l),d=a.getVm(e);d.validate()&&(c=d.getFormData(),f.close(),window.open(g.BASE_PATH+'fesPlanReport/exportPlanReport.do?startTime='+b(c.startTime,'YYYY-MM-DD')/1+'&endTime='+b(c.endTime,'YYYY-MM-DD')/1,'_self'));}},q.$exportFormOpts={formId:e,field:[{selector:'.start-date',rule:['noempty',function(b,a){return a[0]!==!0?'\u5F00\u59CB\u65F6\u95F4\u4E0D\u80FD\u4E3A\u7A7A':!0;}]},{selector:'.end-date',rule:['noempty',function(b,a){return a[0]!==!0?'\u7ED3\u675F\u65F6\u95F4\u4E0D\u80FD\u4E3A\u7A7A':!0;}]}],startDate:'',endDate:'',currentDateName:''},q.$exportCalendarOpts={calendarId:i,onClickDate:function(d){var c=a.getVm(e);c[c.currentDateName]=b(d).format('YYYY-MM-DD'),$(this.widgetElement).hide();}},q.openExportDateCalendar=function(){var j=$(this),c=a.getVm(i),f=a.getVm(e),g,k=j.offset(),h=j.data('date-name')+'Date';c?g=$(c.widgetElement):(g=$('<div ms-widget="calendar,$,$exportCalendarOpts"></div>'),g.css({position:'absolute','z-index':10000}).hide().appendTo('body'),a.scan(g[0],[q]),c=a.getVm(i),d.regGlobalMdExcept({element:g,handler:function(){g.hide();}})),f[h]?c.focusDate=b(f[h],'YYYY-MM-DD')._d:c.focusDate=new Date(),h==='startDate'?f.endDate?(c.maxDate=b(f.endDate,'YYYY-MM-DD')._d,c.minDate=null):(c.maxDate=null,c.minDate=null):f.startDate?(c.minDate=b(f.startDate,'YYYY-MM-DD')._d,c.maxDate=null):(c.maxDate=null,c.minDate=null),f.currentDateName=h,g.css({top:k.top+j.outerHeight()-1,left:k.left}).show();},q.$init=function(){h.addClass('module-schedule'),h.html(j),a.scan(n,[m].concat(p)),q.updateDateRows();},q.$remove=function(){var d=c.scheduleId+'-export-dialog',e=c.scheduleId+'-export-form',f=c.scheduleId+'-export-calendar',b=a.getVm(f);h.removeClass('module-schedule').off().empty(),b&&$(b.widgetElement).remove(),$(a.getVm(e).widgetElement).remove(),$(a.getVm(d).widgetElement).remove();},q.$skipArray=['widgetElement'];});return m;};return f.version=1,f.defaults={onFetchPlan:function(b,a){a([]);},onClickDateCell:a.noop},a;});

//From origin/module/survey/survey.html
define("originmodulesurveysurveyhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-survey%22%20ms-widget%3D%22dialog%2C%24%2C%24surveyOpts%22%3E%3Cform%20ms-widget%3D%22form%2C%24%2C%24surveyFormOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%20survey-position-scroll%22%3E%3Cdiv%20class%3D%22survey-head%20fn-clear%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E9%97%A8%E5%BA%97%E5%90%8D%E7%A7%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20class%3D%22survey-merchant-name-text%22%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cspan%20style%3D%22width%3A190px%22%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24doorNameOpts%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22storeId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E5%90%8D%E7%A7%B0%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3Ctd%20width%3D%22100%22%20align%3D%22right%22%3E%E9%97%A8%E5%BA%97%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20width%3D%22200%22%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20class%3D%22survey-merchant-person-text%22%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cspan%20style%3D%22width%3A190px%22%20class%3D%22schedule%22%20ms-widget%3D%22select%2C%24%2C%24doorDutyOpts%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22contactId%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E9%97%A8%E5%BA%97%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-tabs%22%3E%3Ctable%20width%3D%22100%25%22%3E%3Ctr%3E%3Ctd%20width%3D%2250%25%22%3E%3Cp%20class%3D%22tabs1%22%20ms-class-1%3D%22cur%3AsurveyTabs%3D%3D1%22%20ms-click%3D%22changeSurveyTabs(1)%22%3E%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20width%3D%2250%25%22%3E%3Cp%20class%3D%22tabs2%22%20ms-class-1%3D%22cur%3AsurveyTabs%3D%3D2%22%20ms-click%3D%22changeSurveyTabs(2)%22%3E%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E3%80%81%E5%AE%A3%E4%BC%A0%E7%89%A9%E6%96%99%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20con1%22%20ms-visible%3D%22surveyTabs%3D%3D1%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%9A%E6%80%81%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20class%3D%22survey-format%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7BdicforChildrenText%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20ms-value%3D%22%7B%7BdicforParentText%7D%7D%7B%7BdicforChildrenText%7D%7D%22%20class%3D%22input-text%20research-input%20survey-format-choose%22%20ms-click%3D%22_showFormat%22%20readonly%3D%22readonly%22%3E%20%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22hidden%22%20ms-value%3D%22%7B%7BdicforChildrenText%7D%7D%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%B8%9A%E6%80%81%E5%AD%90%E5%86%85%E5%AE%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%20class%3D%22survey-format-testing%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%99%84%E8%BF%91%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%20class%3D%22survey-near-text%22%3E%7B%7Bdata.storeNumber%7D%7D%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cspan%20class%3D%22survey-select%22%20ms-widget%3D%22select%2C%24%2C%24NearSelectOpts%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20value%3D%22first%22%20class%3D%22near%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%99%84%E8%BF%91%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E8%90%A5%E4%B8%9A%E9%9D%A2%E7%A7%AF%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.businessArea%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A400%E5%B9%B3%E6%96%B9%E7%B1%B3%22%20ms-duplex%3D%22data.businessArea%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E8%90%A5%E4%B8%9A%E9%9D%A2%E7%A7%AF%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%97%A5%E5%9D%87%E5%AE%A2%E6%B5%81%E9%87%8F%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.dailyPassengerFlow%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A75%E4%BA%BA%22%20ms-duplex%3D%22data.dailyPassengerFlow%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%97%A5%E5%9D%87%E5%AE%A2%E6%B5%81%E9%87%8F%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.tableAverage%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.tableAverage%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E6%A1%8C%E5%9D%87%E6%B6%88%E8%B4%B9%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%A4%90%E5%8F%B0%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.mealsNumber%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.mealsNumber%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%A4%90%E5%8F%B0%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E5%8C%85%E9%97%B4%E6%95%B0%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.roomsNumber%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A100%22%20ms-duplex%3D%22data.roomsNumber%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E5%8C%85%E9%97%B4%E6%95%B0%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E4%B8%8A%E5%BA%A7%E6%AF%94%E4%BE%8B%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%7B%7Bdata.attendanceRatio%7D%7D%3C%2Fp%3E%3Cinput%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%20type%3D%22text%22%20class%3D%22input-text%20research-input%22%20placeholder%3D%22%E4%BE%8B%EF%BC%9A10%25%22%20ms-duplex%3D%22data.attendanceRatio%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E4%B8%8A%E5%BA%A7%E6%AF%94%E4%BE%8B%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22research-con%20con2%22%20ms-visible%3D%22surveyTabs%3D%3D2%22%3E%3Ctable%20class%3D%22research-table%22%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkCondition%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3Cspan%20ms-if%3D%22el.text%3D%3D'%E5%A4%87%E6%B3%A8'%22%3E(%7B%7Bdata.networkRemark%7D%7D)%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cp%20ms-repeat%3D%22dicNetworkCondition%22%20class%3D%22label-check-radio%22%3E%3Clabel%3E%3Cinput%20type%3D%22radio%22%20ms-click%3D%22isChecked('networkCondition'%2C%26quot%3Bradio%26quot%3B%2C'dicNetworkCondition')%22%20name%3D%22dicNetworkCondition%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cspan%20ms-if%3D%22el.text%20%3D%3D%20'%E5%A4%87%E6%B3%A8'%22%3E%3Cinput%20ms-if%3D%22data.networkCondition%20%3D%3D%204%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22data.networkRemark%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicNetworkCondition%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E6%9D%A1%E4%BB%B6%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeed%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Clabel%20ms-repeat%3D%22dicNetworkSpeed%22%20class%3D%22label-check-radio%22%3E%3Cinput%20type%3D%22radio%22%20ms-click%3D%22isChecked('networkSpeed'%2C%26quot%3Bradio%26quot%3B%2C'dicNetworkSpeed')%22%20name%3D%22dicNetworkSpeed%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicNetworkSpeed%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E9%97%A8%E5%BA%97%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20align%3D%22right%22%20class%3D%22research-left%22%3E%3Cspan%20class%3D%22warn%22%3E*%3C%2Fspan%3E%E7%8E%B0%E6%9C%89%E5%AE%A3%E4%BC%A0%E7%89%A9%E6%96%99%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cp%20ms-visible%3D%22displayType%20%3D%3D%20'read'%22%3E%3Clabel%20ms-repeat%3D%22dicPublicityMaterial%22%3E%3Cspan%20ms-if%3D%22el.isSelect%20%3D%3D%201%22%3E%7B%7Bel.text%7D%7D%3Cspan%20ms-if%3D%22el.text%3D%3D'%E5%A4%87%E6%B3%A8'%22%3E(%7B%7Bdata.materRemark%7D%7D)%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Flabel%3E%3C%2Fp%3E%3Cdiv%20ms-visible%3D%22displayType%20%3D%3D%20'add'%7C%7CdisplayType%20%3D%3D%20'edit'%22%3E%3Cp%20ms-repeat%3D%22dicPublicityMaterial%22%20class%3D%22label-check-radio%22%3E%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20ms-click%3D%22isChecked('publicityMaterial'%2C%26quot%3Bcheckbox%26quot%3B%2C'dicPublicityMaterial')%22%20ms-value%3D%22el.value%22%20ms-checked%3D%22el.isSelect%20%3D%3D%201%22%3E%20%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3Cspan%20ms-if%3D%22el.text%20%3D%3D%20'%E5%A4%87%E6%B3%A8'%22%3E%3Cinput%20ms-if%3D%22isRemark%22%20type%3D%22text%22%20class%3D%22input-text%22%20ms-duplex%3D%22data.materRemark%22%3E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Fdiv%3E%3Cinput%20type%3D%22hidden%22%20class%3D%22dicPublicityMaterial%22%20data-rules%3D%22empty%22%20data-tips%3D%22%E7%8E%B0%E6%9C%89%E5%AE%A3%E4%BC%A0%E7%89%A9%E6%96%99%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%81%22%20isrule%3D%22true%22%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22survey-format-box%22%3E%3Cul%20class%3D%22format-box-info%22%3E%3Cli%20class%3D%22format-left%22%3E%3Clabel%20ms-repeat%3D%22dicFormat%22%3E%3Cinput%20type%3D%22radio%22%20ms-attr-data-value%3D%22el.value%22%20ms-attr-data-text%3D%22el.text%22%20ms-checked%3D%22el.isSelected%20%3D%3D%201%22%20ms-click%3D%22showFormatChildren%22%20name%3D%22outer%22%20ms-value%3D%22formatChildId%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fli%3E%3Cli%20class%3D%22format-right%22%3E%3Cp%20ms-repeat%3D%22formatChild%22%3E%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20name%3D%22inner%22%20ms-attr-data-text%3D%22el.text%22%20ms-attr-data-value%3D%22el.value%22%20ms-checked%3D%22el.isSelected%20%3D%3D%201%22%20ms-click%3D%22selectedFormatChildren%22%3E%26nbsp%3B%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fp%3E%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22format-box-button%22%3E%3Cbutton%20class%3D%22simple-btn%20close-survey-format%22%3E%E7%A1%AE%E5%AE%9A%3C%2Fbutton%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20ms-module%3D%22address%2C%24%2C%24addressOpts%22%3E%3C%2Fdiv%3E");});

//From origin/module/survey/survey.css
define("originmodulesurveysurveycss", [], function () {return decodeURIComponent(".module-survey%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-survey%20.f-body%20%7B%0A%20%20%20%20max-height%3A%20400px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-survey%20table%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-survey%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%7D%0A.module-survey%20.survey-select%20%7B%0A%20%20%20%20width%3A%20400px%3B%0A%7D%0A%0A.module-survey%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A.module-survey%20.survey-head%20%7B%0A%20%20%20%20padding%3A%2015px%200%3B%0A%7D%0A.module-survey%20.survey-head%20table%20th%20%7B%0A%20%20%20%20padding%3A%205px%200%3B%0A%7D%0A%0A.module-survey%20.research-tabs%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A45px%3B%0A%20%20%20%20background%3A%20%23ECF6FF%3B%0A%7D%0A.module-survey%20.research-tabs%20td%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-survey%20.research-tabs%20p%20%7B%0A%20%20%20%20height%3A%2045px%3B%0A%20%20%20%20line-height%3A%2045px%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-survey%20.research-tabs%20p.cur%20%7B%0A%20%20%20%20border-top%3A%204px%20solid%20%235EA9E0%3B%0A%20%20%20%20border-left%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20border-right%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20color%3A%20%235EA9E0%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%7D%0A.module-survey%20.warn-bg%20%7B%0A%20%20%20%20background%20%3A%20red%3B%0A%7D%0A%0A.module-survey%20.research-con%20%7B%0A%20%20%20%20padding%3A%2020px%205px%3B%0A%7D%0A.module-survey%20.research-con%20td%20%7B%0A%20%20%20%20padding-bottom%3A%2010px%3B%0A%7D%0A.module-survey%20.research-left%20%7B%0A%20%20%20%20padding-left%3A%2010px%3B%0A%20%20%20%20width%3A%20130px%3B%0A%7D%0A.module-survey%20.label-check-radio%20%7B%0A%20%20%20%20margin%3A%200%2015px%2010px%200%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20min-width%3A%2080px%3B%0A%7D%0A%0A.module-survey%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A.module-survey%20.research-input%20%7B%0A%20%20%20%20width%3A%20390px%3B%0A%7D%0A.module-survey%20.f-body%20%7B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%7D%0A.module-survey%20.survey-format%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-survey%20.survey-format-box%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20border%3A%201px%20solid%20%232cc78f%3B%0A%20%20%20%20padding%3A%200%2010px%2010px%2010px%3B%0A%20%20%20%20width%3A%20550px%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%20%20z-index%3A%2010000%3B%0A%7D%0A.module-survey%20.format-box-info%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-survey%20.format-box-info%20.format-left%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20width%3A%2060%25%3B%0A%20%20%20%20padding-top%3A%206px%3B%0A%7D%0A.module-survey%20.format-box-info%20.format-left%20label%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20_display%3Ainline%3B%0A%20%20%20%20_zoom%3A1%3B%0A%20%20%20%20min-width%3A%2080px%3B%0A%20%20%20%20margin%3A0%200%2010px%2010px%3B%0A%7D%0A.module-survey%20.format-box-info%20.format-right%20%7B%0A%20%20%20%20float%3A%20right%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20width%3A%2038%25%3B%0A%20%20%20%20border-left%3A1px%20solid%20%232cc78f%3B%0A%20%20%20%20padding-bottom%3A%201000px%3B%0A%20%20%20%20margin-bottom%3A%20-1000px%3B%0A%7D%0A%0A.module-survey%20.format-box-button%20%7B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20padding-top%3A%2015px%3B%0A%7D%0A.module-survey%20.format-right%20p%20%7B%0A%20%20%20%20padding%3A%205px%3B%0A%7D%0A");});

//From origin/module/survey/survey.js
define('originmodulesurveysurveyjs',['avalon','util','json','moment','originmodulesurveysurveyhtml','originmodulesurveysurveycss','common','dialog','originwidgetformselectjs','originmoduleaddressaddressjs'],function(a,b,i,k,j,f){var h=this,e=h.erp,c=$('#module-style');c.length===0&&(c=$('<style id="module-style"></style>'),c.appendTo('head'));var d=c.data('module')||{};if(!d.survey){try{c.html(c.html()+b.adjustModuleCssUrl(f,'survey/'));}catch(a){c[0].styleSheet.cssText+=b.adjustModuleCssUrl(f,'survey/');}d.survey=!0,c.data('module',d);}var g=e.module.survey=function(o,d,q){var p=d.surveyOptions,m=$(o),c=d.surveyId+'-dialog',k=d.surveyId+'-form',l=d.surveyId+'-doorName',f=d.surveyId+'-doorDuty',h=d.surveyId+'-near',g=d.surveyId+'-addressModule',n=a.define(d.surveyId,function(d){a.mix(d,p),d.displayType='',d.readonly=!1,d.argv=f,d.isRead=!1,d.surveyTabs=1,d.dicforParentText='',d.dicforChildrenText=[],d.formatParentId='',d.formatChildId=[],d.formatChild=[],d.isRemark=!1,d.dicFormat=[],d.dicNetworkCondition=[],d.dicNetworkSpeed=[],d.dicPublicityMaterial=[],d.requestData={},d.data={merchantId:'',id:'',storeId:'',contactId:'',format:[],near:'',businessArea:'',dailyPassengerFlow:'',tableAverage:'',mealsNumber:'',roomsNumber:'',attendanceRatio:'',networkCondition:'',networkSpeed:'',publicityMaterial:[],moduleType:'',networkRemark:'',materRemark:''},d.changeSurveyTabs=function(a){d.surveyTabs=a,$(this).removeClass('warn');},d.$NearSelectOpts={selectId:h,options:[],onSelect:function(e,h,i){var f=$('.near').val();if(d.data.near=e,$('.survey-near-text').html(h),f=='first')$('.near').val(e);else{$('.near').val(e);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.near'));}}},d.$doorNameOpts={selectId:l,options:[],selectedIndex:0,onSelect:function(e,h,i){var f=$('.storeId').val();if(d.data.storeId=e,$('.survey-merchant-name-text').html(h),f=='first')$('.storeId').val(e);else{$('.storeId').val(e);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.storeId'));}}},d.$doorDutyOpts={selectId:f,options:[],selectedIndex:0,getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" ms-click=addCommunication(argv) href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li></ul>',b[0]+a;},onSelect:function(e,h,i){var f=$('.contactId').val();if(d.data.contactId=e,$('.survey-merchant-person-text').html(h),f=='first')$('.contactId').val(e);else{$('.contactId').val(e);var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.contactId'));}}},d.$surveyOpts={dialogId:c,width:670,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns" ms-if="!readonly"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u4FDD&nbsp;\u5B58</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div><div class="ui-dialog-btns" ms-if="readonly"><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u5173&nbsp;\u95ED</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){var g=a.getVm(k),f=a.getVm(c);b.testCancel($(f.widgetElement)[0]),$('.near').val('first'),$('.contactId').val('first'),$('.storeId').val('first');for(var e=1;e<=2;e++)$('.tabs'+e,$(f.widgetElement)).removeClass('warn');g.reset(),d.dicforParentText='',d.dicforChildrenText=[],d.formatParentId='',d.formatChildId=[],d.formatChild=[],_.each(d.data.$model,function(b,a){d.data[a]='';});},submit:function(l){var k,f=a.getVm(c);k=b.testing($(f.widgetElement)[0]);for(var g=1;g<=2;g++)$('.con'+g+' .valid-error-field').length?$('.tabs'+g).addClass('warn'):$('.tabs'+g).removeClass('warn');if($('.tabs'+d.surveyTabs).removeClass('warn'),k)d.data.merchantId=d.merchantId,d.data.moduleType=d.moduleType,d.data.networkCondition instanceof Array&&(d.data.networkCondition=d.data.networkCondition.join()),d.data.networkSpeed instanceof Array&&(d.data.networkSpeed=d.data.networkSpeed.join()),d.data.format=[].concat(d.formatChildId,d.formatParentId),b.c2s({url:e.BASE_PATH+'mktShopSurvey/saveMktShopSurvey.do',type:'post',contentType:'application/json',data:i.stringify(d.data.$model),success:function(b){if(b.flag==1){var e=a.getVm(c);e.close(),d.callFn(b);}}});else{var h=$('.survey-head',f.widgetElement).find('.valid-error')[0]||$('.con'+d.surveyTabs,f.widgetElement).find('.valid-error')[0];if(h){var j=$(h).closest('.ff-value').position('.f-body',f.widgetElement).top+$('.f-body',f.widgetElement).scrollTop();$('.f-body').scrollTop(j<0?0:j);}}}},d.$surveyFormOpts={formId:k},d.open=function(){b.c2s({url:e.BASE_PATH+'mktShopSurvey/loadMktShopSurvey.do',type:'post',contentType:'application/json',data:i.stringify(d.requestData.$model),success:function(k){var b;if(k.flag==1){b=k.data,d.surveyTabs=1,d.data.id=b.id,d.dicFormat=b.dicFormat,d.data.businessArea=b.businessArea,d.data.dailyPassengerFlow=b.dailyPassengerFlow,d.data.tableAverage=b.tableAverage,d.data.mealsNumber=b.mealsNumber,d.data.roomsNumber=b.roomsNumber,d.data.attendanceRatio=b.attendanceRatio,d.data.networkRemark=b.networkRemark,d.data.materRemark=b.materRemark,_.map(d.dicFormat,function(a,b){a.isSelected==1&&(d.dicforParentText=a.text+'-',d.formatParentId=a.value,d.formatChild=a.children,_.map(a.children,function(a,b){a.isSelected==1&&(d.dicforChildrenText.push(a.text),d.formatChildId.push(a.value));}));}),d.setCheckRadio({obj:b.dicNetworkCondition.dicObject,vals:b.dicNetworkCondition.checkedVals},{sendData:'networkCondition',showData:'dicNetworkCondition',className:'dicNetworkCondition'}),d.setCheckRadio({obj:b.dicNetworkSpeed.dicObject,vals:b.dicNetworkSpeed.checkedVals},{sendData:'networkSpeed',showData:'dicNetworkSpeed',className:'dicNetworkSpeed'}),d.setCheckRadio({obj:b.dicPublicityMaterial.dicObject,vals:b.dicPublicityMaterial.checkedVals},{sendData:'publicityMaterial',showData:'dicPublicityMaterial',className:'dicPublicityMaterial'}),d.setSelectCon({obj:b.dicNear.dicObject,vals:b.dicNear.checkedVals},{name:h,data:'near'});var i={checkedVals:b.merchantsForSurvey.checkedVals,dropdownlist:[]};for(var e=0;e<b.merchantsForSurvey.dropdownlist.length;e++){var g={text:b.merchantsForSurvey.dropdownlist[e].merchant_name,value:b.merchantsForSurvey.dropdownlist[e].merchant_id};i.dropdownlist.push(g);}d.setSelectCon({obj:i.dropdownlist,vals:i.checkedVals},{name:l,data:'storeId'});var j={checkedVals:b.mktContactList.checkedVals,dropdownlist:[]};for(var e=0;e<b.mktContactList.dropdownlist.length;e++){var g={text:b.mktContactList.dropdownlist[e].name,value:b.mktContactList.dropdownlist[e].id};j.dropdownlist.push(g);}d.setSelectCon({obj:j.dropdownlist,vals:j.checkedVals},{name:f,data:'doorDuty'});for(var e=0;e<d.data.publicityMaterial.length;e++)9==d.data.publicityMaterial[e]&&(d.isRemark=!0);d.displayType=='add'||d.displayType=='edit'?d.readonly=!1:d.displayType=='read'&&(d.readonly=!0),a.getVm(c).title='\u95E8\u5E97\u8C03\u7814\u5355',d.surveyTabs=1,a.getVm(c).open();}}});},d.setCheckRadio=function(b,g){if(b.vals instanceof Array)for(var e=0;e<b.obj.length;e++){b.obj[e].isSelect=0;for(var f=0;f<b.vals.length;f++)b.obj[e].value==b.vals[f]&&(b.obj[e].isSelect=1);}else if(typeof b.vals=='string')for(var e=0;e<b.obj.length;e++)b.obj[e].isSelect=0,b.obj[e].value==b.vals&&(b.obj[e].isSelect=1);else alert(b.vals+'-\u7C7B\u578B\u6709\u95EE\u9898\uFF01');var h=a.getVm(c);$('.'+g.className,h.widgetElement).val(b.vals),d.data[g.sendData]=b.vals,d[g.showData]=b.obj;},d.setSelectCon=function(b,c){b.obj.unshift({value:'',text:'\u8BF7\u9009\u62E9'}),a.getVm(c.name).setOptions(b.obj),b.vals instanceof Array?b.vals[0]!==''&&a.getVm(c.name).selectValue(b.vals[0],!0):typeof b.vals=='string'||typeof b.vals=='number'?b.vals!==''&&a.getVm(c.name).selectValue(b.vals,!0):alert(b.vals+'-\u7C7B\u578B\u6709\u95EE\u9898\uFF01');},d.isChecked=function(i,k,j){var h=this.value,l=$(this)[0].checked,g=!0;if(k=='checkbox'){var f=d.data[i];if(l)if(f.length){for(var e=0;e<f.length;e++)f[e]==h&&(g=!1);g&&f.push(h);}else f.push(h);else if(f.length)for(var e=0;e<f.length;e++)f[e]==h&&f.splice(e,1);if($('.'+j).val(d.data[i].$model),i=='publicityMaterial'){var g=!1;for(var e=0;e<d.data.publicityMaterial.length;e++)9==d.data.publicityMaterial[e]&&(g=!0);g?d.isRemark=!0:d.isRemark=!1;}}else k=='radio'&&(d.data[i]=h,$('.'+j).val(d.data[i]));var m=a.getVm(c);b.testing($(m.widgetElement)[0],$('.'+j));},d._showFormat=function(){var e=$('.survey-format-choose').offset().top-20,f=$('.survey-format-choose').offset().left;$('.survey-format-box').css({top:e,left:f}),$('.survey-format-box').show(),$('.survey-position-scroll').scroll(function(){$('.survey-format-box').hide();}),$('.survey-format-box').show(),$(document).on('click',function(e){e=e||window.event;var f=e.target||e.srcElement;if($('.survey-format').has(f).length||$('.survey-format-box').has(f).length||$('.survey-format-box').hide(),f===$('.close-survey-format')[0]&&$('.survey-format-box').hide(),d.dicforParentText.length){var g=a.getVm(c);b.testing($(g.widgetElement)[0],$('.survey-format-testing'));}});},d.showFormatChildren=function(){var c=$(this).attr('data-value'),g=$(this).attr('data-text'),b=d.dicFormat;if(c!=d.formatParentId)for(var a=0;a<b.length;a++){b[a].isSelected=0;var f=b[a].children;for(var e=0;e<f.length;e++)f[e].isSelected=0;b[a].value==c&&(b[a].isSelected=1,d.dicforParentText=g+'-',d.formatParentId=c,d.formatChildId=[],d.dicforChildrenText=[],d.formatChild=b[a].children);}},d.selectedFormatChildren=function(){var b=$(this).attr('data-value'),c=$(this).attr('data-text'),e=$(this)[0].checked;if(e)d.formatChildId.push(b),d.dicforChildrenText.push(c);else for(var a=0;a<d.formatChildId.length;a++)b==d.formatChildId[a]&&d.formatChildId.splice(a,1),c==d.dicforChildrenText[a]&&d.dicforChildrenText.splice(a,1);},d.$init=function(){m.addClass('module-survey'),m.html(j),a.scan(o,[n].concat(q));},d.$addressOpts={addressId:g,isSearch:!1,displayType:'add',moduleType:'fes',merchantId:0},d.addCommunication=function(c){var b=a.getVm(g);b.readonly=!1,b.callFn=function(e){var c=e.data,d={text:c.name,value:c.id},b=a.getVm(f).panelVmodel.options;b.push(d),a.getVm(f).setOptions(b,b.length-1);},b.requestData={merchantId:d.merchantId,id:$(this).attr('data-id')},b.isSearch=!1,b.displayType='add',b.open();},d.$remove=function(){a.getVm(l)&&$(a.getVm(l).widgetElement).remove(),a.getVm(f)&&$(a.getVm(f).widgetElement).remove(),a.getVm(h)&&$(a.getVm(h).widgetElement).remove(),a.getVm(g)&&$(a.getVm(g).widgetElement).remove(),a.getVm(k)&&$(a.getVm(k).widgetElement).remove(),a.getVm(c)&&$(a.getVm(c).widgetElement).remove(),m.removeClass('module-survey').off().empty();};});return n;};return g.defaults={displayType:'',merchantId:0,callFn:a.noop},a;});

//From origin/module/targetselector/targetselector.html
define("originmoduletargetselectortargetselectorhtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-targetselector-dialog%20select-list-dialog%20ui-hidden%22%20ms-widget%3D%22dialog%2C%24%2C%24dialogOpts%22%3E%3Cform%20class%3D%22tmpl-form%22%20ms-widget%3D%22form%2C%24%2C%24formOpts%22%20action%3D%22javascript%3A%3B%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22field-box%22%3E%3Cdiv%20class%3D%22f-field%20fn-clear%22%3E%3Clabel%20class%3D%22ff-label%20fn-left%22%3E%E9%80%89%E6%8B%A9%E7%9B%AE%E6%A0%87%E7%BE%A4%E4%BD%93%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Cspan%20class%3D%22mn-radio%20target-type%22%20data-name%3D%22merchantContacter%22%20ms-click%3D%22switchTargetType%22%20ms-class%3D%22mn-radio-state-selected%3A%20currentTargetType%20%3D%3D%20'merchantContacter'%22%3E%E5%95%86%E6%88%B7%E8%81%94%E7%B3%BB%E4%BA%BA%3Ci%20class%3D%22icon-tip%22%20ms-visible%3D%22merchantContacterSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cspan%20data-name%3D%22merchantManager%22%20ms-click%3D%22switchTargetType%22%20ms-class%3D%22mn-radio-state-selected%3A%20currentTargetType%20%3D%3D%20'merchantManager'%22%20class%3D%22mn-radio%20target-type%22%3E%E5%95%86%E6%88%B7%E8%B4%9F%E8%B4%A3%E4%BA%BA%3Ci%20class%3D%22icon-tip%22%20ms-visible%3D%22merchantManagerSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fspan%3E%26nbsp%3B%26nbsp%3B%3Cspan%20class%3D%22mn-radio%20target-type%22%20data-name%3D%22employee%22%20ms-click%3D%22switchTargetType%22%20ms-class%3D%22mn-radio-state-selected%3A%20currentTargetType%20%3D%3D%20'employee'%22%3E%E9%9B%85%E5%BA%A7%E5%91%98%E5%B7%A5%3Ci%20class%3D%22icon-tip%22%20ms-visible%3D%22employeeSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22target-box%20ff-value-text%22%3E%3Cdiv%20class%3D%22merchant-contacter%22%20ms-visible%3D%22currentTargetType%20%3D%3D%3D%20'merchantContacter'%22%3E%3Cul%20class%3D%22contacter-list%22%3E%3Cli%20class%3D%22contacter-item%22%20ms-repeat%3D%22contacterList%22%3E%3Cspan%20class%3D%22label-for%22%3E%3Cinput%20type%3D%22checkbox%22%20name%3D%22contacter%22%20ms-value%3D%22el.value%22%20ms-duplex-radio%3D%22el.isSelected%22%20ms-click%3D%22changeContacter%22%3E%26nbsp%3B%3Clabel%3E%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22merchant-manager%22%20ms-visible%3D%22currentTargetType%20%3D%3D%3D%20'merchantManager'%22%3E%3Cul%20class%3D%22manager-list%22%3E%3Cli%20class%3D%22manager-item%22%20ms-repeat%3D%22managerList%22%3E%3Cspan%20class%3D%22label-for%22%3E%3Cinput%20type%3D%22checkbox%22%20name%3D%22manager%22%20ms-value%3D%22el.value%22%20ms-duplex-radio%3D%22el.isSelected%22%20ms-click%3D%22changeManager%22%3E%26nbsp%3B%3Clabel%3E%7B%7Bel.text%7D%7D%3C%2Flabel%3E%3C%2Fspan%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22employee%22%20ms-visible%3D%22currentTargetType%20%3D%3D%3D%20'employee'%22%3E%3Cdiv%20class%3D%22employee-tbar%22%3E%3Cspan%20class%3D%22employee-type%22%20ms-widget%3D%22select%2C%24%2C%24employeeTypeOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22employee-body%22%3E%3Cdiv%20class%3D%22employee-department%22%20ms-visible%3D%22currentEmployeeType%20%3D%3D%3D%20'department'%22%3E%3Cdiv%20class%3D%22department-tree%22%20ms-widget%3D%22tree%2C%24%2C%24departmentOpts%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22employee-position%22%20ms-visible%3D%22currentEmployeeType%20%3D%3D%3D%20'position'%22%3E%3Cdiv%20class%3D%22employee-sub-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20search-position%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E8%81%8C%E4%BD%8D%E5%90%8D%E7%A7%B0%22%20ms-duplex%3D%22searchPositionText%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22main-btn%20search-btn%22%20ms-click%3D%22filterPosition%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22list-wrapper%22%3E%3Cul%20class%3D%22position-list%22%3E%3Cli%20class%3D%22position-item%20select-item%20fn-clear%22%20ms-click%3D%22clickPositionItem%22%20ms-data-value%3D%22el.value%22%20ms-repeat%3D%22positionList%22%20ms-class-1%3D%22even%3A%20%24index%20%25%202%20%3D%3D%3D%200%22%20ms-class-2%3D%22odd%3A%20%24index%20%25%202%20!%3D%3D%200%22%20ms-if-loop%3D%22el.isVisible%22%3E%3Cspan%20class%3D%22position-name%20item-cell%20fn-left%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22employee-user%22%20ms-visible%3D%22currentEmployeeType%20%3D%3D%3D%20'user'%22%3E%3Cdiv%20class%3D%22employee-sub-tbar%22%3E%3Cinput%20type%3D%22text%22%20class%3D%22input-text%20search-user%22%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E6%88%96%E6%89%8B%E6%9C%BA%E5%8F%B7%22%20ms-duplex%3D%22searchUserText%22%3E%26nbsp%3B%26nbsp%3B%3Cbutton%20type%3D%22button%22%20class%3D%22main-btn%20search-btn%22%20ms-click%3D%22filterUser%22%3E%E6%90%9C%E7%B4%A2%3C%2Fbutton%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22list-wrapper%22%3E%3Cul%20class%3D%22user-list%22%3E%3Cli%20class%3D%22user-item%20select-item%20fn-clear%22%20ms-click%3D%22clickUserItem%22%20ms-data-value%3D%22el.value%22%20ms-repeat%3D%22userList%22%20ms-class-1%3D%22even%3A%20%24index%20%25%202%20%3D%3D%3D%200%22%20ms-class-2%3D%22odd%3A%20%24index%20%25%202%20!%3D%3D%200%22%20ms-if-loop%3D%22el.isVisible%22%3E%3Cspan%20class%3D%22user-name%20item-cell%20fn-left%22%3E%7B%7Bel.text%7D%7D%3C%2Fspan%3E%20%3Cspan%20class%3D%22user-tel%20item-cell%20fn-left%22%3E%7B%7Bel.tel%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22is-selected%20fn-right%22%20ms-if%3D%22el.isSelected%22%3E%26%23xe604%3B%3C%2Fi%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22field-box%22%3E%3Cdiv%20class%3D%22f-field%22%3E%3Clabel%20class%3D%22target-selected-label%20ff-label%22%3E%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%9C%EF%BC%9A%3C%2Flabel%3E%3Cdiv%20class%3D%22target-selected-value%20ff-value%22%3E%3Cdiv%20class%3D%22ff-value-box%22%3E%3Ctextarea%20class%3D%22target-selected%22%20readonly%3D%22readonly%22%20ms-value%3D%22targetSelectedText%22%3E%3C%2Ftextarea%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fform%3E%3C%2Fdiv%3E");});

//From origin/module/targetselector/targetselector.css
define("originmoduletargetselectortargetselectorcss", [], function () {return decodeURIComponent(".module-targetselector-dialog%20.icon-tip%20%7B%0A%20%20%20%20font-family%3A%22tip%22%20!important%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20font-style%3Anormal%3B%0A%20%20%20%20vertical-align%3A%20middle%3B%0A%20%20%20%20-webkit-font-smoothing%3A%20antialiased%3B%0A%20%20%20%20-webkit-text-stroke-width%3A%200.2px%3B%0A%20%20%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%0A%20%20%20%20color%3A%20%23468847%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20right%3A%206px%3B%0A%7D%0A.module-targetselector-dialog%20.ui-dialog-content%20%7B%0A%20%20%20%20padding%3A%2016px%2024px%3B%0A%7D%0A.module-targetselector-dialog%20.target-box%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23666666%3B%0A%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20border%3A%201px%20solid%20%232CC78F%3B%0A%7D%0A.module-targetselector-dialog%20.merchant-contacter%2C%0A.module-targetselector-dialog%20.merchant-manager%20%7B%0A%20%20%20%20height%3A%20130px%3B%0A%20%20%20%20overflow%3A%20auto%3B%0A%7D%0A.module-targetselector-dialog%20.target-type%20%7B%0A%20%20%20%20width%3A%20120px%3B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-targetselector-dialog%20.field-box%20%7B%0A%20%20%20%20margin-bottom%3A%2016px%3B%0A%7D%0A.module-targetselector-dialog%20.ff-label%20%7B%0A%20%20%20%20width%3A%20110px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-targetselector-dialog%20.ff-value%20%7B%0A%20%20%20%20margin-left%3A%20110px%3B%0A%7D%0A.module-targetselector-dialog%20.target-selected-label%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20text-align%3A%20left%3B%0A%7D%0A.module-targetselector-dialog%20.target-selected-value%20%7B%0A%20%20%20%20margin-left%3A%200%3B%0A%7D%0A.module-targetselector-dialog%20.target-selected%20%7B%0A%20%20%20%20width%3A%20540px%3B%0A%7D%0A.module-targetselector-dialog%20.employee-body%20%7B%0A%20%20%20%20border%3A%201px%20solid%20%232cc78f%3B%0A%7D%0A.module-targetselector-dialog%20.employee-tbar%20%7B%0A%20%20%20%20margin-bottom%3A%20-1px%3B%0A%7D%0A.module-targetselector-dialog%20.employee-sub-tbar%20%7B%0A%20%20%20%20padding%3A%208px%3B%0A%7D%0A.module-targetselector-dialog%20.employee-sub-tbar%20.input-text%20%7B%0A%20%20%20%20width%3A%20428px%3B%0A%7D%0A.module-targetselector-dialog%20.employee-tbar%20.employee-type%20%7B%0A%7D%0A.module-targetselector-dialog%20.employee-department%2C%0A.module-targetselector-dialog%20.employee%20.list-wrapper%20%7B%0A%20%20%20%20height%3A%20130px%3B%0A%20%20%20%20overflow%3A%20auto%3B%0A%7D%0A.module-targetselector-dialog%20.employee%20.employee-department%20%7B%0A%20%20%20%20padding%3A%200%208px%3B%0A%7D%0A.module-targetselector-dialog%20.employee%20.list-wrapper%20%7B%0A%20%20%20%20padding%3A%208px%200%3B%0A%7D%0A.module-targetselector-dialog%20.employee%20.user-item%20.user-name%20%7B%0A%20%20%20%20width%3A%20200px%3B%0A%7D%0A");});

//From origin/module/targetselector/targetselector.js
define('originmoduletargetselectortargetselectorjs',['avalon','util','json','originmoduletargetselectortargetselectorhtml','originmoduletargetselectortargetselectorcss','common','dialog','originwidgettreetreejs','originwidgetformselectjs'],function(a,e,j,i,h){var g=this,f=g.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var c=b.data('module')||{};if(!c.targetselector){try{b.html(b.html()+e.adjustModuleCssUrl(h,'targetselector/'));}catch(a){b[0].styleSheet.cssText+=e.adjustModuleCssUrl(h,'targetselector/');}c.targetselector=!0,b.data('module',c);}var d=f.module.targetselector=function(j,d,n){var m=d.targetselectorOptions,b=d.targetselectorId+'-dialog',k=d.targetselectorId+'-form',h=d.targetselectorId+'-employee-type',c=d.targetselectorId+'-department',g=$(j),l=a.define(d.targetselectorId,function(d){a.mix(d,m),d.widgetElement=j,d.dialogId=b,d.$dialogOpts={dialogId:b,title:d.title,width:600,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><button type="button" class="submit-btn ui-dialog-btn" ms-click="submit">\u786E&nbsp;\u5B9A</button><span class="separation"></span><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onClose:function(){d.onClose();},onOpen:function(){var c=a.getVm(b);d.updateOnOpen&&d.prepareData(function(){d.onPrepareData();}),d.onOpen();},submit:function(e){var c=a.getVm(b);d.onSubmit&&d.onSubmit.call(d,d.getSelectedData()),c.close();}},d.$formOpts={formId:k},d.$employeeTypeOpts={selectId:h,options:[{value:'department',text:'\u90E8\u95E8'},{value:'position',text:'\u804C\u4F4D'},{value:'user',text:'\u5458\u5DE5'}],onSelect:function(a){d.currentEmployeeType=a;}},d.$departmentOpts={treeId:c,ztreeOptions:{setting:{view:{showIcon:!1},check:{enable:!0,Y:'ps',N:'ps'},data:{simpleData:{enable:!0}},callback:{onCheck:function(f,g,h){var e=a.getVm(c),b=e.core.getCheckedNodes(!0);b=_.filter(b,function(a){return!a.getCheckStatus().half;}),_.each(d.departmentList.$model,function(b,a){d.departmentList[a].isSelected=!1;}),_.each(b,function(a){_.some(d.departmentList.$model,function(b,c){return b.id==a.id?(d.departmentList[c].isSelected=!0,!0):void 0;});}),d.updateView();}}},treeData:[]}},d.currentTargetType='merchantContacter',d.currentEmployeeType='department',d.merchantContacterSelected=!1,d.merchantManagerSelected=!1,d.employeeSelected=!1,d.departmentList=[],d.positionList=[],d.userList=[],d.contacterList=[],d.managerList=[],d.targetSelectedText='',d.searchPositionText='',d.$watch('searchPositionText',function(a){d.filterPosition();}),d.searchUserText='',d.$watch('searchUserText',function(a){d.filterUser();}),d.filterPosition=function(){var a=_.str.trim(d.searchPositionText);a?_.each(d.positionList.$model,function(c,b){try{c.text.search(a)!==-1?d.positionList[b].isVisible=!0:d.positionList[b].isVisible=!1;}catch(a){d.positionList[b].isVisible=!1;}}):_.each(d.positionList.$model,function(b,a){d.positionList[a].isVisible=!0;});},d.filterUser=function(){var a=_.str.trim(d.searchUserText);a?_.each(d.userList.$model,function(c,b){try{c.text.search(a)!==-1||c.tel.search(a)!==-1?d.userList[b].isVisible=!0:d.userList[b].isVisible=!1;}catch(a){d.userList[b].isVisible=!1;}}):_.each(d.userList.$model,function(b,a){d.userList[a].isVisible=!0;});},d.clickPositionItem=function(){var c=a(this).data('value'),b=-1;_.some(d.positionList.$model,function(a,d){return a.value==c?(b=d,!0):void 0;})&&(d.positionList[b].isSelected=!d.positionList[b].isSelected),d.updateView();},d.clickUserItem=function(){var c=a(this).data('value'),b=-1;_.some(d.userList.$model,function(a,d){return a.value==c?(b=d,!0):void 0;})&&(d.userList[b].isSelected=!d.userList[b].isSelected),d.updateView();},d.changeContacter=function(){d.updateView();},d.changeManager=function(){d.updateView();},d.prepareData=function(b){e.c2s({url:f.BASE_PATH+'smsTemplate/getObjects.do',type:'post',contentType:'application/json',success:function(f){var e;f.flag&&(e=f.data,d.positionList=_.map(e.positions,function(a){return{value:a.id,text:a.positionName,isSelected:!1,isVisible:!0};}),d.userList=_.map(e.users,function(a){return{value:a.id,text:a.userName,tel:a.tel,isSelected:!1,isVisible:!0};}),d.contacterList=_.map(e.roleTypes,function(a){return{value:a.value,text:a.text,isSelected:!1};}),d.managerList=_.map(e.userTypes,function(a){return{value:a.value,text:a.text,isSelected:!1};}),d.departmentList=_.map(e.groups,function(a){return{value:a.id,text:a.groupName,id:a.id,pId:a.parentId,name:a.groupName,isSelected:!1};}),a.getVm(c).updateTree(d.departmentList.$model,!0),b&&b.call(d,e));}});},d.clearData=function(){var e=a.getVm(b);d.currentTargetType='merchantContacter',d.currentEmployeeType='department',d.merchantContacterSelected=!1,d.merchantManagerSelected=!1,d.employeeSelected=!1,d.departmentList=[],d.positionList=[],d.userList=[],d.contacterList=[],d.managerList=[],d.targetSelectedText='',d.searchPositionText='',a.getVm(c).updateTree([],!0),d.currentTargetType='merchantContacter',d.currentEmployeeType='department',a.getVm(h).select(0),$('.list-wrapper',e.widgetElement).scrollTop(0);},d.getSelectedData=function(){var c={},a=[],e=[],b=[];return _.each(d.contacterList.$model,function(c){c.isSelected&&(b.push(c.text),a.push(c.value));}),b.length&&(e.push(b.join('\uFF0C')),c.contacter=a),b=[],a=[],_.each(d.managerList.$model,function(c){c.isSelected&&(b.push(c.text),a.push(c.value));}),b.length&&(e.push(b.join('\uFF0C')),c.manager=a),b=[],a=[],_.each(d.departmentList.$model,function(b){b.isSelected&&a.push(b.value);}),a.length&&(e.push(d.getDepartmentText(a)),c.department=a),b=[],a=[],_.each(d.positionList.$model,function(c){c.isSelected&&(b.push(c.text),a.push(c.value));}),b.length&&(e.push(b.join('\uFF0C')),c.position=a),b=[],a=[],_.each(d.userList.$model,function(c){c.isSelected&&(b.push(c.text),a.push(c.value));}),b.length&&(e.push(b.join('\uFF0C')),c.user=a),{value:c,text:e.join('\uFF1B\n')};},d.getDepartmentText=function(a){a=[].concat(a);var b,c,e=[];for(a=_.sortBy(a,function(a){return a;}).reverse(),b=0;b<a.length;b++)c=_.find(d.departmentList.$model,function(c){return c.value==a[b];}),_.some(a,function(a){return a==c.pId;})&&(a.splice(b,1),b--);return _.each(a,function(a){c=_.find(d.departmentList.$model,function(b){return b.value==a;}),_.some(d.departmentList.$model,function(b){return b.pId==a;})?e.push(c.text+'\uFF08\u5168\u4F53\uFF09'):e.push(c.text);}),e.join('\uFF0C');},d.setSelectedData=function(b){var f=b.position,g=b.user,h=b.department,i=b.contacter,j=b.manager,e=a.getVm(c);_.each(d.positionList.$model,function(b,a){d.positionList[a].isSelected=!1;}),_.each(f,function(a){_.some(d.positionList.$model,function(b,c){b.value==a&&(d.positionList[c].isSelected=!0);});}),_.each(d.userList.$model,function(b,a){d.userList[a].isSelected=!1;}),_.each(g,function(a){_.some(d.userList.$model,function(b,c){b.value==a&&(d.userList[c].isSelected=!0);});}),_.each(d.departmentList.$model,function(b,a){d.departmentList[a].isSelected=!1;}),e.core.checkAllNodes(!1),_.each(h,function(a){_.some(d.departmentList.$model,function(b,f){var c;b.value==a&&(d.departmentList[f].isSelected=!0,c=e.core.getNodeByParam('id',b.value,null),e.core.checkNode(c,!0,!0));});}),_.each(d.contacterList.$model,function(b,a){d.contacterList[a].isSelected=!1;}),_.each(i,function(a){_.some(d.contacterList.$model,function(b,c){b.value==a&&(d.contacterList[c].isSelected=!0);});}),_.each(d.managerList.$model,function(b,a){d.managerList[a].isSelected=!1;}),_.each(j,function(a){_.some(d.managerList.$model,function(b,c){b.value==a&&(d.managerList[c].isSelected=!0);});});},d.updateView=function(){var a=d.getSelectedData();d.targetSelectedText=a.text,_.some(d.contacterList.$model,function(a){return a.isSelected;})?d.merchantContacterSelected=!0:d.merchantContacterSelected=!1,_.some(d.managerList.$model,function(a){return a.isSelected;})?d.merchantManagerSelected=!0:d.merchantManagerSelected=!1,_.some(d.departmentList.$model.concat(d.positionList.$model).concat(d.userList.$model),function(a){return a.isSelected;})?d.employeeSelected=!0:d.employeeSelected=!1;},d.switchTargetType=function(){var b=a(this).data('name');d.currentTargetType=b;},d.open=function(){a.getVm(b).open();},d.close=function(){a.getVm(b).close();},d.$init=function(){g.addClass('module-cwselector fn-hide'),g.html(i),a.scan(j,[l].concat(n));},d.$remove=function(){$(a.getVm(c).widgetElement).remove(),$(a.getVm(h).widgetElement).remove(),$(a.getVm(k).widgetElement).remove(),$(a.getVm(b).widgetElement).remove(),g.off().empty();},d.$watch('title',function(d){var c=a.getVm(b);c.title=d;}),d.$skipArray=['widgetElement','dialogId'];});return l;};return d.version=1,d.defaults={title:'',updateOnOpen:!1,onPrepareData:a.noop,onSubmit:a.noop,onOpen:a.noop,onClose:a.noop},a;});

//From origin/module/visit/visit.html
define("originmodulevisitvisithtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-visit%22%20ms-widget%3D%22dialog%2C%24%2C%24visitOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22content%22%3E%3Cul%20class%3D%22con-top%22%3E%3Cli%3E%3Cspan%3E%E8%81%94%E7%B3%BB%E4%BA%BA%EF%BC%9A%3C%2Fspan%3E%7B%7Bname%7D%7D%3C%2Fli%3E%3Cli%3E%3Cspan%3E%E7%94%B5%E8%AF%9D%EF%BC%9A%3C%2Fspan%3E%7B%7BmobilePhone%7D%7D%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22con-list%22%3E%3Cli%3E%3Cbutton%20ms-repeat%3D%22list%22%20type%3D%22button%22%20ms-click%3D%22phoneType%22%20class%3D%22submit-btn%22%3E%7B%7Bel.text%7D%7D%3C%2Fbutton%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E");});

//From origin/module/visit/visit.css
define("originmodulevisitvisitcss", [], function () {return decodeURIComponent("%0A.module-visit%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A%0A.module-visit%20table%20td%20%7B%0A%20%20%20%20vertical-align%3A%20top%3B%0A%20%20%20%20padding%3A%205px%200%205px%205px%3B%0A%20%20%20%20min-height%3A%2035px%3B%0A%7D%0A.module-visit%20.ui-dialog-footer%20%7B%0A%20%20%20%20padding%3A%200%2024px%3B%0A%7D%0A.module-visit%20.ui-dialog-footer%20.submit-btn%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%2045px%3B%0A%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20margin-bottom%3A%2020px%3B%0A%7D%0A.module-visit%20.ui-dialog-footer%20.cancel-btn%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-visit%20.con-top%20li%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20height%3A%2035px%3B%0A%20%20%20%20line-height%3A%2035px%3B%0A%7D%0A.module-visit%20.con-top%20li%20span%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20*display%3Ainline%3B%0A%20%20%20%20*zoom%3A1%3B%0A%20%20%20%20width%3A60px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A%0A.module-visit%20.con-list%20%7B%0A%20%20%20%20padding%3A%2010px%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-visit%20.con-list%20.submit-btn%20%7B%0A%20%20%20%20width%3A%20106px%3B%0A%20%20%20%20background%3A%20%23e5f8f1%3B%0A%20%20%20%20border%3A%20none%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%20%20%20%20height%3A%2035px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20margin%3A%205px%3B%0A%7D");});

//From origin/module/visit/visit.js
define('originmodulevisitvisitjs',['avalon','util','json','moment','originmodulevisitvisithtml','originmodulevisitvisitcss','common','dialog'],function(a,d,j,k,i,f){var h=this,e=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var c=b.data('module')||{};if(!c.visit){try{b.html(b.html()+d.adjustModuleCssUrl(f,'visit/'));}catch(a){b[0].styleSheet.cssText+=d.adjustModuleCssUrl(f,'visit/');}c.visit=!0,b.data('module',c);}var g=e.module.visit=function(h,f,l){var k=f.visitOptions,c=$(h),b=f.visitId+'-dialog',g=a.define(f.visitId,function(f){a.mix(f,k),f.id='',f.name='',f.mobilePhone='',f.list=[],f.$visitOpts={dialogId:b,title:'\u56DE\u8BBF\u8BB0\u5F55',width:400,getTemplate:function(c){var a=c.split('MS_OPTION_FOOTER'),b='<div class="ui-dialog-footer fn-clear"><div class="ui-dialog-btns"><p><button type="button" class="submit-btn ui-dialog-btn" data-id="8" ms-click="submit">\u7535\u8BDD\u5DF2\u63A5\u901A</button></p><p><button type="button" class="cancel-btn ui-dialog-btn" ms-click="close">\u53D6&nbsp;\u6D88</button></p></div></div>';return a[0]+'MS_OPTION_FOOTER'+b;},onOpen:function(){},onClose:function(){},submit:function(d){var c=a.getVm(b);c.close(),f.callFnSuccess();}},f.phoneType=function(){var h=$(this).attr('data-value'),c=$(this).html(),g=a.getVm(b);d.c2s({url:e.BASE_PATH+'besRequirement/saveVisteFailTelCall.do',type:'post',contentType:'application/json',data:j.stringify({id:f.id,visiteButtonName:c}),success:function(a){a.flag==1&&(g.close(),f.callFnFailure(a));}});},f.open=function(){a.getVm(b).open();},f.$init=function(){c.addClass('module-visit'),c.html(i),a.scan(h,[g].concat(l));},f.$remove=function(){$(a.getVm(b).widgetElement).remove(),c.removeClass('module-visit').off().empty();};});return g;};return g.defaults={id:'',name:'',mobilePhone:'',list:[],callFnFailure:a.noop,callFnSuccess:a.noop},a;});

//From origin/module/visitinfo/visitinfo.html
define("originmodulevisitinfovisitinfohtml", [], function () {return decodeURIComponent("%3Cdiv%20class%3D%22module-visitinfo%22%20ms-widget%3D%22dialog%2C%24%2C%24visitinfoOpts%22%3E%3Cdiv%20class%3D%22f-body%22%3E%3Cdiv%20class%3D%22content%22%3E%3Cdiv%20class%3D%22con-left%22%3E%3Cdiv%20class%3D%22title%22%3E%3Cp%3E%E5%9B%9E%E8%AE%BF%E8%AF%9D%E6%9C%AF%3C%2Fp%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-left-main%22%3E%3Cul%3E%3Cli%20class%3D%22con-left-main-repeat%22%20ms-repeat%3D%22language%22%3E%3Ch3%20class%3D%22tab-title%22%20ms-data-id%3D%22%24index%2B1%22%20ms-click%3D%22changeLanguageTab%22%3E%3Cspan%3E%7B%7Bel.title%7D%7D%3C%2Fspan%3E%20%3Ci%20class%3D%22iconfont%22%20ms-visible%3D%22languageTab%3D%3D%24index%2B1%22%3E%26%23xe60a%3B%3C%2Fi%3E%20%3Ci%20class%3D%22iconfont%22%20ms-visible%3D%22languageTab!%3D%24index%2B1%22%3E%26%23xe609%3B%3C%2Fi%3E%3C%2Fh3%3E%3Cp%20class%3D%22con-left-main-select%22%20ms-visible%3D%22languageTab%3D%3D%24index%2B1%22%3E%7B%7Bel.content%7Chtml%7D%7D%3C%2Fp%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-center%22%3E%3Cdiv%20class%3D%22title%22%3E%3Cp%20class%3D%22tab1%22%20ms-class-1%3D%22cur%3AmaxTab%20%3D%3D%201%22%20ms-data-id%3D%221%22%20ms-click%3D%22changeMaxTab%22%3E%E5%9B%9E%E8%AE%BF%E8%A1%A8%E5%8D%95%3C%2Fp%3E%3Cp%20class%3D%22tab2%22%20ms-class-1%3D%22cur%3AmaxTab%20%3D%3D%202%22%20ms-data-id%3D%222%22%20ms-click%3D%22changeMaxTab%22%3E%E5%8F%98%E6%9B%B4%E8%81%94%E7%B3%BB%E4%BA%BA%3C%2Fp%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-center-main%22%3E%3Cul%20ms-visible%3D%22maxTab%20%3D%3D%201%22%3E%3Cli%20class%3D%22question-list%22%20ms-repeat%3D%22questions%22%20ms-class-1%3D%22question%7B%7B%24index%7D%7D%22%3E%3Cdiv%20class%3D%22question-title%22%3E%7B%7B%24index%2B1%7D%7D%E3%80%81%7B%7Bel.title%7D%7D%3Cp%20class%3D%22tip%22%3E%7B%7Bel.tip%7D%7D%3C%2Fp%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22question-con%20f-field%20ff-value%22%3E%3Clabel%20ms-repeat%3D%22el.sysDocumentDtlOptionList%22%3E%3Cinput%20type%3D%22radio%22%20ms-attr-data-class%3D%22hid-input%7B%7B%24outer.%24index%7D%7D%22%20ms-if%3D%22%24outer.el.questionType%20%3D%3D%20'1'%22%20ms-checked%3D%22el.isSelected%20%3D%3D%20'1'%22%20ms-click%3D%22radioBox(%24outer.el)%3B%22%20ms-attr-data-val%3D%22%7B%7B%24outer.%24index%7D%7D%22%20ms-attr-name%3D%22%7B%7B%24outer.%24index%7D%7D%7B%7B%24outer.el.questionId%7D%7D%22%3E%20%3Cinput%20type%3D%22checkbox%22%20ms-attr-data-class%3D%22hid-input%7B%7B%24outer.%24index%7D%7D%22%20ms-if%3D%22%24outer.el.questionType%20%3D%3D%20'2'%22%20ms-checked%3D%22el.isSelected%20%3D%3D%20'1'%22%20ms-click%3D%22checkBox(%24outer.el)%3B%22%20ms-attr-name%3D%22%7B%7B%24outer.%24index%7D%7D%7B%7B%24outer.el.questionId%7D%7D%22%3E%20%7B%7Bel.optionContent%7D%7D%3C%2Flabel%3E%3Cdiv%20ms-if%3D%22el.questionType%20!%3D%20'3'%22%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20ff-value%22%20ms-if%3D%22el.sysDocumentDtlOptionList%22%20ms-each%3D%22el.sysDocumentDtlOptionList%22%3E%3Ctextarea%20ms-if%3D%22el.isOpenTextarea%20%3D%3D%20'1'%26%26el.isSelected%20%3D%3D%20'1'%22%20ms-attr-placeholder%3D%22el.tip%22%20ms-duplex%3D%22el.comment%22%3E%3C%2Ftextarea%3E%3Cdiv%20ms-if%3D%22el.isOpenTextarea%20%3D%3D%20'1'%26%26el.isSelected%20%3D%3D%20'1'%22%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22f-field%20ff-value%22%20ms-if%3D%22el.questionType%20%3D%3D%20'3'%22%3E%3Ctextarea%20ms-attr-placeholder%3D%22el.tip%22%20ms-duplex%3D%22el.comment%22%3E%3C%2Ftextarea%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fli%3E%3C%2Ful%3E%3Cul%20ms-visible%3D%22maxTab%20%3D%3D%202%22%3E%3Ctable%20class%3D%22changeLink%22%3E%3Ctr%20ms-visible%3D%22false%22%3E%3Ctd%20class%3D%22left%22%3E%E8%81%94%E7%B3%BB%E4%BA%BA%E6%89%80%E5%B1%9E%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%3E%3Cspan%20class%3D%22survey-select%22%20ms-widget%3D%22select%2C%24%2C%24type1SelectOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22left%22%3E%E8%81%94%E7%B3%BB%E4%BA%BA%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%3E%3Cspan%20class%3D%22survey-select%22%20ms-widget%3D%22select%2C%24%2C%24type2SelectOpts%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22ff-value-tip%22%3E%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20class%3D%22left%22%3E%E8%81%94%E7%B3%BB%E7%94%B5%E8%AF%9D%EF%BC%9A%3C%2Ftd%3E%3Ctd%20class%3D%22f-field%20ff-value%22%3E%3Cdiv%20class%3D%22input-text%22%20style%3D%22width%3A%20178px%22%3E%7B%7BmobilePhone%7D%7D%3C%2Fdiv%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%3E%3Ctd%20colspan%3D%222%22%20align%3D%22center%22%3E%3Cbutton%20class%3D%22simple-btn%22%20ms-click%3D%22changeLog%22%3E%E7%A1%AE%E5%AE%9A%3C%2Fbutton%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftable%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-right%22%3E%3Cdiv%20class%3D%22title%22%3E%3Cp%3E%E5%9B%9E%E8%AE%BF%E8%AE%B0%E5%BD%95%3C%2Fp%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22con-right-main%22%3E%3Cul%20class%3D%22list%22%3E%3Cli%3E%3Cp%20class%3D%22left%22%3E%E8%81%94%E7%B3%BB%E4%BA%BA%EF%BC%9A%3C%2Fp%3E%3Cp%20class%3D%22right%22%3E%7B%7BlogName%7D%7D%3C%2Fp%3E%3C%2Fli%3E%3Cli%3E%3Cp%20class%3D%22left%22%3E%E7%94%B5%E8%AF%9D%EF%BC%9A%3C%2Fp%3E%3Cp%20class%3D%22right%22%3E%7B%7BlogMobilePhone%7D%7D%3C%2Fp%3E%3C%2Fli%3E%3Cli%3E%3Cp%20class%3D%22left%22%3E%E9%80%9A%E8%AF%9D%E6%97%B6%E9%97%B4%EF%BC%9A%3C%2Fp%3E%3Cp%20class%3D%22right%22%3E%7B%7BstartTime%7D%7D%3C%2Fp%3E%3C%2Fli%3E%3Cli%3E%3Cp%20class%3D%22left%22%3E%E9%80%9A%E8%AF%9D%E6%97%B6%E9%95%BF%EF%BC%9A%3C%2Fp%3E%3Cp%20class%3D%22right%22%3E%3Cspan%20ms-if%3D%22hours%22%3E%7B%7Bhours%7D%7D%3A%3C%2Fspan%3E%7B%7Bmin%7D%7D%3A%7B%7Bseconds%7D%7D%3C%2Fp%3E%3C%2Fli%3E%3C%2Ful%3E%3Cul%20class%3D%22button%22%3E%3Cli%20ms-visible%3D%22isEnd%3D%3D0%22%20ms-click%3D%22changeEnd%22%3E%3Cbutton%20class%3D%22end-btn%22%3E%E9%80%9A%E8%AF%9D%E7%BB%93%E6%9D%9F%3C%2Fbutton%3E%3C%2Fli%3E%3Cli%20ms-visible%3D%22isEnd%3D%3D1%22%20ms-click%3D%22submit%22%3E%3Cbutton%20class%3D%22main-btn%22%3E%E4%BF%9D%E5%AD%98%E9%80%9A%E8%AF%9D%E8%AE%B0%E5%BD%95%3C%2Fbutton%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20ms-module%3D%22address%2C%24%2C%24addressOpts%22%3E%3C%2Fdiv%3E");});

//From origin/module/visitinfo/visitinfo.css
define("originmodulevisitinfovisitinfocss", [], function () {return decodeURIComponent(".module-visitinfo%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20color%3A%20%23777%3B%0A%7D%0A.module-visitinfo%20.ui-dialog-content%20%7B%0A%20%20%20%20border-top%3A5px%20solid%20%23c7d4e3%3B%0A%20%20%20%20padding%3A%200%3B%0A%20%20%20%20height%3A%20430px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-visitinfo%20.content%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20height%3A%20500px%3B%0A%7D%0A%2F*left*%2F%0A.module-visitinfo%20.con-left%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20300px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20height%3A%20430px%3B%0A%20%20%20%20border-right%3A%205px%20solid%20%23c7d4e3%3B%0A%7D%0A.module-visitinfo%20.con-left%20.title%20%7B%0A%20%20%20%20width%3A%2090%25%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20margin%3A%200%20auto%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20margin-bottom%3A%2015px%3B%0A%7D%0A.module-visitinfo%20.con-left%20.title%20p%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20color%3A%20%23000%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20padding-right%3A%2010px%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20%7B%0A%20%20%20%20width%3A%2090%25%3B%0A%20%20%20%20height%3A%20365px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20margin%3A%200%20auto%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20li.con-left-main-repeat%20%7B%0A%20%20%20%20margin-bottom%3A%202px%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20.tab-title%20%7B%0A%20%20%20%20background%3A%20%23eee%3B%0A%20%20%20%20height%3A%2035px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20.tab-title%20span%20%7B%0A%20%20%20%20margin-right%3A%2050px%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20line-height%3A%2035px%3B%0A%20%20%20%20padding-left%3A%2010px%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20.tab-title%20i%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20top%3A%205px%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20li.con-left-main-repeat%20p.con-left-main-select%20%7B%0A%20%20%20%20padding%3A%2010px%2015px%3B%0A%20%20%20%20line-height%3A%2023px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23eee%3B%0A%20%20%20%20font-size%3A%2012px%3B%0A%7D%0A.module-visitinfo%20.con-left-main%20li.con-left-main-repeat%20p.con-left-main-select%20*%20%7B%0A%20%20%20%20font-size%3A%2012px!important%3B%0A%7D%0A%2F*center*%2F%0A.module-visitinfo%20.con-center%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%20305px%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20360px%3B%0A%20%20%20%20border-right%3A%205px%20solid%20%23c7d4e3%3B%0A%20%20%20%20height%3A%20430px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-visitinfo%20.con-center%20.title%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20background%3A%20%23ECF6FF%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23CAE5FA%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%7D%0A.module-visitinfo%20.con-center%20.title%20p%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20width%3A%20180px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20line-height%3A%2040px%3B%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20text-indent%3A%200%3B%0A%20%20%20%20font-weight%3A%20100%3B%0A%7D%0A.module-visitinfo%20.con-center%20.title%20p.tab1%20%7B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%7D%0A.module-visitinfo%20.con-center%20.title%20p.tab2%20%7B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%7D%0A.module-visitinfo%20.con-center%20.title%20p.cur%20%7B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20color%3A%20%235EA9E0%3B%0A%20%20%20%20border-top%3A%204px%20solid%20%235EA9E0%3B%0A%7D%0A.module-visitinfo%20.con-right%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20right%3A%200%3B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20width%3A%20228px%3B%0A%20%20%20%20height%3A%20430px%3B%0A%7D%0A.module-visitinfo%20.con-right%20.title%20%7B%0A%20%20%20%20width%3A%2090%25%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20margin%3A%200%20auto%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20margin-bottom%3A%2015px%3B%0A%7D%0A.module-visitinfo%20.con-right%20.title%20p%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20color%3A%20%23000%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20padding-right%3A%2010px%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20%7B%0A%20%20%20%20width%3A%20200px%3B%0A%20%20%20%20height%3A%20370px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20padding-top%3A%205px%3B%0A%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20margin%3A0%20auto%3B%0A%20%20%20%20position%3A%20relative%3B%0A%7D%0A%0A.module-visitinfo%20.con-right-main%20.list%20%7B%0A%20%20%20%20padding%3A%2010px%200%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20.list%20li%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20line-height%3A%2030px%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20.list%20.left%20%7B%0A%20%20%20%20width%3A%2060px%3B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20.list%20.right%20%7B%0A%20%20%20%20width%3A%20130px%3B%0A%20%20%20%20text-indent%3A%2015px%3B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20display%3A%20inline%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20.button%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20bottom%3A%2015px%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%2045px%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20.button%20button%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20height%3A%2045px%3B%0A%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%7D%0A.module-visitinfo%20.con-right-main%20.button%20button.end-btn%20%7B%0A%20%20%20%20background%3A%20%23fe561a%3B%0A%20%20%20%20border%3Anone%3B%0A%20%20%20%20color%3A%23fff%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20%7B%0A%20%20%20%20width%3A%20340px%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20height%3A%20365px%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.changeLink%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.changeLink%20td%20%7B%0A%20%20%20%20padding%3A%205px%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.changeLink%20td.left%20%7B%0A%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20text-align%3A%20right%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.question-list%20%7B%0A%20%20%20%20border-bottom%3A1px%20dashed%20%23eee%3B%0A%20%20%20%20padding%3A10px%205px%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.question-list%20.question-title%20%7B%0A%20%20%20%20padding%3A%205px%200%3B%0A%20%20%20%20color%3A%20%23333%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.question-list%20.question-title%20.tip%20%7B%0A%20%20%20%20color%3A%20%23777%3B%0A%20%20%20%20padding-left%3A%2020px%3B%0A%7D%0A%0A.module-visitinfo%20.con-center-main%20.question-list%20.question-con%20%7B%0A%20%20%20%20padding-left%3A%2020px%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.question-list%20.question-con%20label%20%7B%0A%20%20%20%20margin-right%3A%2010px%3B%0A%20%20%20%20padding%3A%205px%200%3B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20_zoom%3A1%3B%0A%20%20%20%20*display%3Ainline%3B%0A%7D%0A.module-visitinfo%20.con-center-main%20.question-list%20.question-con%20textarea%20%7B%0A%20%20%20%20width%3A%20280px%3B%0A%7D%0A.module-visitinfo%20.warn%20%7B%0A%20%20%20%20color%3A%20red%3B%0A%7D%0A");});

//From origin/module/visitinfo/visitinfo.js
define('originmodulevisitinfovisitinfojs',['avalon','util','json','moment','originmodulevisitinfovisitinfohtml','originmodulevisitinfovisitinfocss','common','dialog','originmoduleaddressaddressjs'],function(a,c,g,i,k,f){var h=this,e=h.erp,b=$('#module-style');b.length===0&&(b=$('<style id="module-style"></style>'),b.appendTo('head'));var d=b.data('module')||{};if(!d.visitinfo){try{b.html(b.html()+c.adjustModuleCssUrl(f,'visitinfo/'));}catch(a){b[0].styleSheet.cssText+=c.adjustModuleCssUrl(f,'visitinfo/');}d.visitinfo=!0,b.data('module',d);}var j=e.module.visitinfo=function(n,f,p){var o=f.visitinfoOptions,l=$(n),d=f.visitinfoId+'-dialog',j=f.visitinfoId+'-type1',b=f.visitinfoId+'-type2',h=f.visitinfoId+'-addressModule',m=a.define(f.visitinfoId,function(f){a.mix(f,o);var q;f.argv=b,f.maxTab=1,f.languageTab=1,f.isEnd=0,f.startTime=0,f.hours=0,f.min='00',f.seconds='00',f.name='',f.mobilePhone='',f.logName='',f.logMobilePhone='',f.questions=[],f.language=[],f.linkArr=[],f.documentType='',f.requirementId='',f.merchantId='',f.beginTime='',f.endTime='',f.contactId='',f.domArr=[],f.changeMaxTab=function(){var a=$(this).attr('data-id');f.maxTab=a;},f.changeLanguageTab=function(){var a=$(this).attr('data-id');f.languageTab=a;},f.changeEnd=function(){f.endTime=i()/1,f.isEnd=1,clearInterval(q);},f.changeLog=function(){f.logName=f.name,f.logMobilePhone=f.mobilePhone,f.contactId=a.getVm(b).selectedValue;},f.$type1SelectOpts={selectId:j,options:[],onSelect:function(c,d,a){f.setSelect(a.children,b);}},f.$type2SelectOpts={selectId:b,options:[],onSelect:function(c,a,b){f.name=a,f.mobilePhone=b.mobilePhone;},getTemplate:function(a){var b=a.split('MS_OPTION_HEADER');return a='MS_OPTION_HEADER<ul class="select-list" ms-on-click="selectItem"ms-css-min-width="minWidth"><li class="select-item" ms-repeat="options" ms-css-min-width="minWidth - 16"ms-class="state-selected:$index==selectedIndex" ms-class-last-item="$last" ms-hover="state-hover" ms-data-index="$index" ms-attr-title="el.text" ms-data-value="el.value">{{el.text}}</li><li><a style="display: block;line-height: 35px;background: #eee;border-top: 1px solid #ccc;cursor: pointer;text-indent: 10px;" ms-click=addCommunication(argv) href="javascript:;">\u6DFB\u52A0\u8054\u7CFB\u4EBA</a></li></ul>',b[0]+a;}},f.radioBox=function(k){var h=f.questions.length,l=a.getVm(d),g=k.sysDocumentDtlOptionList,m=$(this).attr('data-class');for(var b=0;b<g.length;b++)g[b].isSelected='0',g[b].comment='';k.comment='true',this.$vmodel.$model.el.isSelected='1',c.testing($(l.widgetElement)[0],$('.'+m));var i=$(this).attr('data-val'),j=this.$vmodel.$model.el.optionContent;if(i=='0'&&j=='\u5426'){f.domArr=['.question0'];for(var b=1;b<h;b++){$('.question'+b).hide(),$('.question'+b).find('input').removeAttr('checked'),f.questions[b].comment='';for(var e=0;e<f.questions[b].sysDocumentDtlOptionList.length;e++)f.questions[b].sysDocumentDtlOptionList[e].isSelected='0',f.questions[b].sysDocumentDtlOptionList[e].comment='';}c.testCancel();}else if(i=='0'&&j=='\u662F'){f.domArr=['.question0'];for(var b=1;b<h;b++)$('.question'+b).show(),f.domArr.push('.question'+b);}},f.checkBox=function(f){var i=a.getVm(d),j=$(this).attr('data-class'),b=this.$vmodel.$model.el;b.isSelected=='1'?b.isSelected='0':b.isSelected='1';var g=f.sysDocumentDtlOptionList,h='';for(var e=0;e<g.length;e++)g[e].isSelected=='1'&&(h='true');h?f.comment='true':f.comment='',c.testing($(i.widgetElement)[0],$('.'+j));},f.$visitinfoOpts={dialogId:d,width:900,autoFocusInput:!1,title:'\u56DE\u8BBF\u8BB0\u5F55',getTemplate:function(a){return'<div class="ui-dialog-mask" ms-visible="toggle"></div>MS_OPTION_WIDGET<div ms-widget="dialog,MS_OPTION_ID,MS_OPTION_OPTS"></div>MS_OPTION_INNERWRAPPER<div class="ui-dialog-inner" ms-draggable></div>MS_OPTION_HEADER<div class="ui-dialog-header"><div class="ui-dialog-title">{{ title|html }}</div></div>MS_OPTION_CONTENT<div class="ui-dialog-content">11111</div>MS_OPTION_FOOTER';},onOpen:function(){},onClose:function(){},submit:function(m){var b=a.getVm(d),i=!0;for(var h=0;h<f.domArr.length;h++){var k=c.testing($(f.domArr.$model[h])[0]);k||(i=!1);}if(i)console.log(g.stringify({besCallRecordVO:{requirementId:f.requirementId,merchantId:f.merchantId,beginTime:f.beginTime,endTime:f.endTime},sysDocumentVO:{documentType:f.documentType,merchantId:f.merchantId,sysDocumentDtlList:f.questions.$model},contact:{contactId:f.contactId}})),c.c2s({url:e.BASE_PATH+'besRequirement/savePaperAndCallRecord.do',type:'post',contentType:'application/json',data:g.stringify({besCallRecordVO:{requirementId:f.requirementId,merchantId:f.merchantId,beginTime:f.beginTime,endTime:f.endTime},sysDocumentVO:{documentType:f.documentType,merchantId:f.merchantId,sysDocumentDtlList:f.questions.$model},contact:{contactId:f.contactId}}),success:function(a){a.flag==1&&(b.close(),f.callFn(a,{name:f.logName,mobilePhone:f.logMobilePhone}));}});else{f.maxTab!=1?$('.tab1').addClass('warn'):$('.tab1').removeClass('warn');var l=$(b.widgetElement).find('.valid-error')[0],j=$(l).closest('.question-list').position('.content',b.widgetElement).top+$('.con-center-main',b.widgetElement).scrollTop()-50;$('.con-center-main').scrollTop(j>0?j:0);}}},f.open=function(){f.maxTab=1,f.isEnd=0,f.beginTime=i()/1,f.hours=0,f.min=0,f.seconds=0,q=setInterval(function(){f.seconds++,f.seconds<10&&(f.seconds='0'+f.seconds),f.seconds>=60&&(f.min++,f.min<10&&(f.min='0'+f.min),f.seconds='00'),f.min>=60&&(f.hours++,f.min=0);},1000);var c=new Date();f.startTime=c.getHours()+':'+c.getMinutes(),setTimeout(function(){f.setSelect(f.linkArr,j);},1000),a.getVm(d).open();for(var b=0;b<f.questions.length;b++)f.domArr.push('.question'+b);f.setSelect=function(b,d){var c;_.some(b,function(a,b){if(a.isSelected==1){c=b;return;}}),a.getVm(d).setOptions(b,c);};},f.$addressOpts={addressId:h,isSearch:!1,displayType:'add',moduleType:'fes',merchantId:0},f.addCommunication=function(c){var b=a.getVm(h);b.readonly=0,b.callFn=function(f){var b;if(f.flag){b=f.data;var d=a.getVm(c);if(d){var e={isSelected:'0',mobilePhone:b.mobilePhone,text:b.name,value:b.id};d.panelVmodel.options.push(e),d.selectValue(e.value,!0);}}},b.requestData={merchantId:m.merchantId,id:$(this).attr('data-id')},b.isSearch=!1,b.displayType='add',b.open();},f.$init=function(){l.addClass('module-visitinfo'),l.html(k),a.scan(n,[m].concat(p));},f.$remove=function(){a.getVm(j)&&$(a.getVm(j).widgetElement).remove(),a.getVm(b)&&$(a.getVm(b).widgetElement).remove(),a.getVm(h)&&$(a.getVm(h).widgetElement).remove(),$(a.getVm(d).widgetElement).remove(),l.removeClass('module-visitinfo').off().empty();};});return m;};return j.defaults={requirementId:0,merchantId:0,linkArr:[],logName:'',logMobilePhone:'',language:[],questions:[],documentType:'',callFn:a.noop},a;});

